(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function t(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=t(o);fetch(o.href,u)}})();function i0(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var Nh={exports:{}},ca={},Dh={exports:{}},Ne={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gm;function s0(){if(gm)return Ne;gm=1;var i=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),h=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),I=Symbol.iterator;function A(L){return L===null||typeof L!="object"?null:(L=I&&L[I]||L["@@iterator"],typeof L=="function"?L:null)}var O={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,q={};function j(L,W,Y){this.props=L,this.context=W,this.refs=q,this.updater=Y||O}j.prototype.isReactComponent={},j.prototype.setState=function(L,W){if(typeof L!="object"&&typeof L!="function"&&L!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,L,W,"setState")},j.prototype.forceUpdate=function(L){this.updater.enqueueForceUpdate(this,L,"forceUpdate")};function Q(){}Q.prototype=j.prototype;function X(L,W,Y){this.props=L,this.context=W,this.refs=q,this.updater=Y||O}var se=X.prototype=new Q;se.constructor=X,b(se,j.prototype),se.isPureReactComponent=!0;var fe=Array.isArray,Pe=Object.prototype.hasOwnProperty,Te={current:null},N={key:!0,ref:!0,__self:!0,__source:!0};function T(L,W,Y){var ae,he={},ye=null,Ee=null;if(W!=null)for(ae in W.ref!==void 0&&(Ee=W.ref),W.key!==void 0&&(ye=""+W.key),W)Pe.call(W,ae)&&!N.hasOwnProperty(ae)&&(he[ae]=W[ae]);var xe=arguments.length-2;if(xe===1)he.children=Y;else if(1<xe){for(var Ve=Array(xe),et=0;et<xe;et++)Ve[et]=arguments[et+2];he.children=Ve}if(L&&L.defaultProps)for(ae in xe=L.defaultProps,xe)he[ae]===void 0&&(he[ae]=xe[ae]);return{$$typeof:i,type:L,key:ye,ref:Ee,props:he,_owner:Te.current}}function R(L,W){return{$$typeof:i,type:L.type,key:W,ref:L.ref,props:L.props,_owner:L._owner}}function k(L){return typeof L=="object"&&L!==null&&L.$$typeof===i}function V(L){var W={"=":"=0",":":"=2"};return"$"+L.replace(/[=:]/g,function(Y){return W[Y]})}var x=/\/+/g;function S(L,W){return typeof L=="object"&&L!==null&&L.key!=null?V(""+L.key):W.toString(36)}function Ce(L,W,Y,ae,he){var ye=typeof L;(ye==="undefined"||ye==="boolean")&&(L=null);var Ee=!1;if(L===null)Ee=!0;else switch(ye){case"string":case"number":Ee=!0;break;case"object":switch(L.$$typeof){case i:case e:Ee=!0}}if(Ee)return Ee=L,he=he(Ee),L=ae===""?"."+S(Ee,0):ae,fe(he)?(Y="",L!=null&&(Y=L.replace(x,"$&/")+"/"),Ce(he,W,Y,"",function(et){return et})):he!=null&&(k(he)&&(he=R(he,Y+(!he.key||Ee&&Ee.key===he.key?"":(""+he.key).replace(x,"$&/")+"/")+L)),W.push(he)),1;if(Ee=0,ae=ae===""?".":ae+":",fe(L))for(var xe=0;xe<L.length;xe++){ye=L[xe];var Ve=ae+S(ye,xe);Ee+=Ce(ye,W,Y,Ve,he)}else if(Ve=A(L),typeof Ve=="function")for(L=Ve.call(L),xe=0;!(ye=L.next()).done;)ye=ye.value,Ve=ae+S(ye,xe++),Ee+=Ce(ye,W,Y,Ve,he);else if(ye==="object")throw W=String(L),Error("Objects are not valid as a React child (found: "+(W==="[object Object]"?"object with keys {"+Object.keys(L).join(", ")+"}":W)+"). If you meant to render a collection of children, use an array instead.");return Ee}function be(L,W,Y){if(L==null)return L;var ae=[],he=0;return Ce(L,ae,"","",function(ye){return W.call(Y,ye,he++)}),ae}function De(L){if(L._status===-1){var W=L._result;W=W(),W.then(function(Y){(L._status===0||L._status===-1)&&(L._status=1,L._result=Y)},function(Y){(L._status===0||L._status===-1)&&(L._status=2,L._result=Y)}),L._status===-1&&(L._status=0,L._result=W)}if(L._status===1)return L._result.default;throw L._result}var ke={current:null},ne={transition:null},ce={ReactCurrentDispatcher:ke,ReactCurrentBatchConfig:ne,ReactCurrentOwner:Te};function te(){throw Error("act(...) is not supported in production builds of React.")}return Ne.Children={map:be,forEach:function(L,W,Y){be(L,function(){W.apply(this,arguments)},Y)},count:function(L){var W=0;return be(L,function(){W++}),W},toArray:function(L){return be(L,function(W){return W})||[]},only:function(L){if(!k(L))throw Error("React.Children.only expected to receive a single React element child.");return L}},Ne.Component=j,Ne.Fragment=t,Ne.Profiler=o,Ne.PureComponent=X,Ne.StrictMode=s,Ne.Suspense=g,Ne.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ce,Ne.act=te,Ne.cloneElement=function(L,W,Y){if(L==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+L+".");var ae=b({},L.props),he=L.key,ye=L.ref,Ee=L._owner;if(W!=null){if(W.ref!==void 0&&(ye=W.ref,Ee=Te.current),W.key!==void 0&&(he=""+W.key),L.type&&L.type.defaultProps)var xe=L.type.defaultProps;for(Ve in W)Pe.call(W,Ve)&&!N.hasOwnProperty(Ve)&&(ae[Ve]=W[Ve]===void 0&&xe!==void 0?xe[Ve]:W[Ve])}var Ve=arguments.length-2;if(Ve===1)ae.children=Y;else if(1<Ve){xe=Array(Ve);for(var et=0;et<Ve;et++)xe[et]=arguments[et+2];ae.children=xe}return{$$typeof:i,type:L.type,key:he,ref:ye,props:ae,_owner:Ee}},Ne.createContext=function(L){return L={$$typeof:h,_currentValue:L,_currentValue2:L,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},L.Provider={$$typeof:u,_context:L},L.Consumer=L},Ne.createElement=T,Ne.createFactory=function(L){var W=T.bind(null,L);return W.type=L,W},Ne.createRef=function(){return{current:null}},Ne.forwardRef=function(L){return{$$typeof:f,render:L}},Ne.isValidElement=k,Ne.lazy=function(L){return{$$typeof:w,_payload:{_status:-1,_result:L},_init:De}},Ne.memo=function(L,W){return{$$typeof:v,type:L,compare:W===void 0?null:W}},Ne.startTransition=function(L){var W=ne.transition;ne.transition={};try{L()}finally{ne.transition=W}},Ne.unstable_act=te,Ne.useCallback=function(L,W){return ke.current.useCallback(L,W)},Ne.useContext=function(L){return ke.current.useContext(L)},Ne.useDebugValue=function(){},Ne.useDeferredValue=function(L){return ke.current.useDeferredValue(L)},Ne.useEffect=function(L,W){return ke.current.useEffect(L,W)},Ne.useId=function(){return ke.current.useId()},Ne.useImperativeHandle=function(L,W,Y){return ke.current.useImperativeHandle(L,W,Y)},Ne.useInsertionEffect=function(L,W){return ke.current.useInsertionEffect(L,W)},Ne.useLayoutEffect=function(L,W){return ke.current.useLayoutEffect(L,W)},Ne.useMemo=function(L,W){return ke.current.useMemo(L,W)},Ne.useReducer=function(L,W,Y){return ke.current.useReducer(L,W,Y)},Ne.useRef=function(L){return ke.current.useRef(L)},Ne.useState=function(L){return ke.current.useState(L)},Ne.useSyncExternalStore=function(L,W,Y){return ke.current.useSyncExternalStore(L,W,Y)},Ne.useTransition=function(){return ke.current.useTransition()},Ne.version="18.3.1",Ne}var ym;function wd(){return ym||(ym=1,Dh.exports=s0()),Dh.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vm;function o0(){if(vm)return ca;vm=1;var i=wd(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,o=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function h(f,g,v){var w,I={},A=null,O=null;v!==void 0&&(A=""+v),g.key!==void 0&&(A=""+g.key),g.ref!==void 0&&(O=g.ref);for(w in g)s.call(g,w)&&!u.hasOwnProperty(w)&&(I[w]=g[w]);if(f&&f.defaultProps)for(w in g=f.defaultProps,g)I[w]===void 0&&(I[w]=g[w]);return{$$typeof:e,type:f,key:A,ref:O,props:I,_owner:o.current}}return ca.Fragment=t,ca.jsx=h,ca.jsxs=h,ca}var _m;function a0(){return _m||(_m=1,Nh.exports=o0()),Nh.exports}var U=a0(),B=wd();const Fg=i0(B);var su={},Vh={exports:{}},Xt={},Lh={exports:{}},Oh={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wm;function l0(){return wm||(wm=1,function(i){function e(ne,ce){var te=ne.length;ne.push(ce);e:for(;0<te;){var L=te-1>>>1,W=ne[L];if(0<o(W,ce))ne[L]=ce,ne[te]=W,te=L;else break e}}function t(ne){return ne.length===0?null:ne[0]}function s(ne){if(ne.length===0)return null;var ce=ne[0],te=ne.pop();if(te!==ce){ne[0]=te;e:for(var L=0,W=ne.length,Y=W>>>1;L<Y;){var ae=2*(L+1)-1,he=ne[ae],ye=ae+1,Ee=ne[ye];if(0>o(he,te))ye<W&&0>o(Ee,he)?(ne[L]=Ee,ne[ye]=te,L=ye):(ne[L]=he,ne[ae]=te,L=ae);else if(ye<W&&0>o(Ee,te))ne[L]=Ee,ne[ye]=te,L=ye;else break e}}return ce}function o(ne,ce){var te=ne.sortIndex-ce.sortIndex;return te!==0?te:ne.id-ce.id}if(typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var h=Date,f=h.now();i.unstable_now=function(){return h.now()-f}}var g=[],v=[],w=1,I=null,A=3,O=!1,b=!1,q=!1,j=typeof setTimeout=="function"?setTimeout:null,Q=typeof clearTimeout=="function"?clearTimeout:null,X=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function se(ne){for(var ce=t(v);ce!==null;){if(ce.callback===null)s(v);else if(ce.startTime<=ne)s(v),ce.sortIndex=ce.expirationTime,e(g,ce);else break;ce=t(v)}}function fe(ne){if(q=!1,se(ne),!b)if(t(g)!==null)b=!0,De(Pe);else{var ce=t(v);ce!==null&&ke(fe,ce.startTime-ne)}}function Pe(ne,ce){b=!1,q&&(q=!1,Q(T),T=-1),O=!0;var te=A;try{for(se(ce),I=t(g);I!==null&&(!(I.expirationTime>ce)||ne&&!V());){var L=I.callback;if(typeof L=="function"){I.callback=null,A=I.priorityLevel;var W=L(I.expirationTime<=ce);ce=i.unstable_now(),typeof W=="function"?I.callback=W:I===t(g)&&s(g),se(ce)}else s(g);I=t(g)}if(I!==null)var Y=!0;else{var ae=t(v);ae!==null&&ke(fe,ae.startTime-ce),Y=!1}return Y}finally{I=null,A=te,O=!1}}var Te=!1,N=null,T=-1,R=5,k=-1;function V(){return!(i.unstable_now()-k<R)}function x(){if(N!==null){var ne=i.unstable_now();k=ne;var ce=!0;try{ce=N(!0,ne)}finally{ce?S():(Te=!1,N=null)}}else Te=!1}var S;if(typeof X=="function")S=function(){X(x)};else if(typeof MessageChannel<"u"){var Ce=new MessageChannel,be=Ce.port2;Ce.port1.onmessage=x,S=function(){be.postMessage(null)}}else S=function(){j(x,0)};function De(ne){N=ne,Te||(Te=!0,S())}function ke(ne,ce){T=j(function(){ne(i.unstable_now())},ce)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(ne){ne.callback=null},i.unstable_continueExecution=function(){b||O||(b=!0,De(Pe))},i.unstable_forceFrameRate=function(ne){0>ne||125<ne?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<ne?Math.floor(1e3/ne):5},i.unstable_getCurrentPriorityLevel=function(){return A},i.unstable_getFirstCallbackNode=function(){return t(g)},i.unstable_next=function(ne){switch(A){case 1:case 2:case 3:var ce=3;break;default:ce=A}var te=A;A=ce;try{return ne()}finally{A=te}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(ne,ce){switch(ne){case 1:case 2:case 3:case 4:case 5:break;default:ne=3}var te=A;A=ne;try{return ce()}finally{A=te}},i.unstable_scheduleCallback=function(ne,ce,te){var L=i.unstable_now();switch(typeof te=="object"&&te!==null?(te=te.delay,te=typeof te=="number"&&0<te?L+te:L):te=L,ne){case 1:var W=-1;break;case 2:W=250;break;case 5:W=1073741823;break;case 4:W=1e4;break;default:W=5e3}return W=te+W,ne={id:w++,callback:ce,priorityLevel:ne,startTime:te,expirationTime:W,sortIndex:-1},te>L?(ne.sortIndex=te,e(v,ne),t(g)===null&&ne===t(v)&&(q?(Q(T),T=-1):q=!0,ke(fe,te-L))):(ne.sortIndex=W,e(g,ne),b||O||(b=!0,De(Pe))),ne},i.unstable_shouldYield=V,i.unstable_wrapCallback=function(ne){var ce=A;return function(){var te=A;A=ce;try{return ne.apply(this,arguments)}finally{A=te}}}}(Oh)),Oh}var Em;function u0(){return Em||(Em=1,Lh.exports=l0()),Lh.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tm;function c0(){if(Tm)return Xt;Tm=1;var i=wd(),e=u0();function t(n){for(var r="https://reactjs.org/docs/error-decoder.html?invariant="+n,a=1;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+n+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,o={};function u(n,r){h(n,r),h(n+"Capture",r)}function h(n,r){for(o[n]=r,n=0;n<r.length;n++)s.add(r[n])}var f=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),g=Object.prototype.hasOwnProperty,v=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,w={},I={};function A(n){return g.call(I,n)?!0:g.call(w,n)?!1:v.test(n)?I[n]=!0:(w[n]=!0,!1)}function O(n,r,a,c){if(a!==null&&a.type===0)return!1;switch(typeof r){case"function":case"symbol":return!0;case"boolean":return c?!1:a!==null?!a.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function b(n,r,a,c){if(r===null||typeof r>"u"||O(n,r,a,c))return!0;if(c)return!1;if(a!==null)switch(a.type){case 3:return!r;case 4:return r===!1;case 5:return isNaN(r);case 6:return isNaN(r)||1>r}return!1}function q(n,r,a,c,d,m,_){this.acceptsBooleans=r===2||r===3||r===4,this.attributeName=c,this.attributeNamespace=d,this.mustUseProperty=a,this.propertyName=n,this.type=r,this.sanitizeURL=m,this.removeEmptyString=_}var j={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){j[n]=new q(n,0,!1,n,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var r=n[0];j[r]=new q(r,1,!1,n[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(n){j[n]=new q(n,2,!1,n.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){j[n]=new q(n,2,!1,n,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){j[n]=new q(n,3,!1,n.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(n){j[n]=new q(n,3,!0,n,null,!1,!1)}),["capture","download"].forEach(function(n){j[n]=new q(n,4,!1,n,null,!1,!1)}),["cols","rows","size","span"].forEach(function(n){j[n]=new q(n,6,!1,n,null,!1,!1)}),["rowSpan","start"].forEach(function(n){j[n]=new q(n,5,!1,n.toLowerCase(),null,!1,!1)});var Q=/[\-:]([a-z])/g;function X(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var r=n.replace(Q,X);j[r]=new q(r,1,!1,n,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var r=n.replace(Q,X);j[r]=new q(r,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(n){var r=n.replace(Q,X);j[r]=new q(r,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(n){j[n]=new q(n,1,!1,n.toLowerCase(),null,!1,!1)}),j.xlinkHref=new q("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(n){j[n]=new q(n,1,!1,n.toLowerCase(),null,!0,!0)});function se(n,r,a,c){var d=j.hasOwnProperty(r)?j[r]:null;(d!==null?d.type!==0:c||!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(b(r,a,d,c)&&(a=null),c||d===null?A(r)&&(a===null?n.removeAttribute(r):n.setAttribute(r,""+a)):d.mustUseProperty?n[d.propertyName]=a===null?d.type===3?!1:"":a:(r=d.attributeName,c=d.attributeNamespace,a===null?n.removeAttribute(r):(d=d.type,a=d===3||d===4&&a===!0?"":""+a,c?n.setAttributeNS(c,r,a):n.setAttribute(r,a))))}var fe=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Pe=Symbol.for("react.element"),Te=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),R=Symbol.for("react.profiler"),k=Symbol.for("react.provider"),V=Symbol.for("react.context"),x=Symbol.for("react.forward_ref"),S=Symbol.for("react.suspense"),Ce=Symbol.for("react.suspense_list"),be=Symbol.for("react.memo"),De=Symbol.for("react.lazy"),ke=Symbol.for("react.offscreen"),ne=Symbol.iterator;function ce(n){return n===null||typeof n!="object"?null:(n=ne&&n[ne]||n["@@iterator"],typeof n=="function"?n:null)}var te=Object.assign,L;function W(n){if(L===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);L=r&&r[1]||""}return`
`+L+n}var Y=!1;function ae(n,r){if(!n||Y)return"";Y=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(r)if(r=function(){throw Error()},Object.defineProperty(r.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(r,[])}catch($){var c=$}Reflect.construct(n,[],r)}else{try{r.call()}catch($){c=$}n.call(r.prototype)}else{try{throw Error()}catch($){c=$}n()}}catch($){if($&&c&&typeof $.stack=="string"){for(var d=$.stack.split(`
`),m=c.stack.split(`
`),_=d.length-1,C=m.length-1;1<=_&&0<=C&&d[_]!==m[C];)C--;for(;1<=_&&0<=C;_--,C--)if(d[_]!==m[C]){if(_!==1||C!==1)do if(_--,C--,0>C||d[_]!==m[C]){var P=`
`+d[_].replace(" at new "," at ");return n.displayName&&P.includes("<anonymous>")&&(P=P.replace("<anonymous>",n.displayName)),P}while(1<=_&&0<=C);break}}}finally{Y=!1,Error.prepareStackTrace=a}return(n=n?n.displayName||n.name:"")?W(n):""}function he(n){switch(n.tag){case 5:return W(n.type);case 16:return W("Lazy");case 13:return W("Suspense");case 19:return W("SuspenseList");case 0:case 2:case 15:return n=ae(n.type,!1),n;case 11:return n=ae(n.type.render,!1),n;case 1:return n=ae(n.type,!0),n;default:return""}}function ye(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case N:return"Fragment";case Te:return"Portal";case R:return"Profiler";case T:return"StrictMode";case S:return"Suspense";case Ce:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case V:return(n.displayName||"Context")+".Consumer";case k:return(n._context.displayName||"Context")+".Provider";case x:var r=n.render;return n=n.displayName,n||(n=r.displayName||r.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case be:return r=n.displayName||null,r!==null?r:ye(n.type)||"Memo";case De:r=n._payload,n=n._init;try{return ye(n(r))}catch{}}return null}function Ee(n){var r=n.type;switch(n.tag){case 24:return"Cache";case 9:return(r.displayName||"Context")+".Consumer";case 10:return(r._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=r.render,n=n.displayName||n.name||"",r.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return r;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ye(r);case 8:return r===T?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r}return null}function xe(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Ve(n){var r=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function et(n){var r=Ve(n)?"checked":"value",a=Object.getOwnPropertyDescriptor(n.constructor.prototype,r),c=""+n[r];if(!n.hasOwnProperty(r)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var d=a.get,m=a.set;return Object.defineProperty(n,r,{configurable:!0,get:function(){return d.call(this)},set:function(_){c=""+_,m.call(this,_)}}),Object.defineProperty(n,r,{enumerable:a.enumerable}),{getValue:function(){return c},setValue:function(_){c=""+_},stopTracking:function(){n._valueTracker=null,delete n[r]}}}}function ln(n){n._valueTracker||(n._valueTracker=et(n))}function En(n){if(!n)return!1;var r=n._valueTracker;if(!r)return!0;var a=r.getValue(),c="";return n&&(c=Ve(n)?n.checked?"true":"false":n.value),n=c,n!==a?(r.setValue(n),!0):!1}function jn(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function mi(n,r){var a=r.checked;return te({},r,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:a??n._wrapperState.initialChecked})}function ts(n,r){var a=r.defaultValue==null?"":r.defaultValue,c=r.checked!=null?r.checked:r.defaultChecked;a=xe(r.value!=null?r.value:a),n._wrapperState={initialChecked:c,initialValue:a,controlled:r.type==="checkbox"||r.type==="radio"?r.checked!=null:r.value!=null}}function go(n,r){r=r.checked,r!=null&&se(n,"checked",r,!1)}function yo(n,r){go(n,r);var a=xe(r.value),c=r.type;if(a!=null)c==="number"?(a===0&&n.value===""||n.value!=a)&&(n.value=""+a):n.value!==""+a&&(n.value=""+a);else if(c==="submit"||c==="reset"){n.removeAttribute("value");return}r.hasOwnProperty("value")?ns(n,r.type,a):r.hasOwnProperty("defaultValue")&&ns(n,r.type,xe(r.defaultValue)),r.checked==null&&r.defaultChecked!=null&&(n.defaultChecked=!!r.defaultChecked)}function qa(n,r,a){if(r.hasOwnProperty("value")||r.hasOwnProperty("defaultValue")){var c=r.type;if(!(c!=="submit"&&c!=="reset"||r.value!==void 0&&r.value!==null))return;r=""+n._wrapperState.initialValue,a||r===n.value||(n.value=r),n.defaultValue=r}a=n.name,a!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,a!==""&&(n.name=a)}function ns(n,r,a){(r!=="number"||jn(n.ownerDocument)!==n)&&(a==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+a&&(n.defaultValue=""+a))}var sr=Array.isArray;function or(n,r,a,c){if(n=n.options,r){r={};for(var d=0;d<a.length;d++)r["$"+a[d]]=!0;for(a=0;a<n.length;a++)d=r.hasOwnProperty("$"+n[a].value),n[a].selected!==d&&(n[a].selected=d),d&&c&&(n[a].defaultSelected=!0)}else{for(a=""+xe(a),r=null,d=0;d<n.length;d++){if(n[d].value===a){n[d].selected=!0,c&&(n[d].defaultSelected=!0);return}r!==null||n[d].disabled||(r=n[d])}r!==null&&(r.selected=!0)}}function vo(n,r){if(r.dangerouslySetInnerHTML!=null)throw Error(t(91));return te({},r,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function rs(n,r){var a=r.value;if(a==null){if(a=r.children,r=r.defaultValue,a!=null){if(r!=null)throw Error(t(92));if(sr(a)){if(1<a.length)throw Error(t(93));a=a[0]}r=a}r==null&&(r=""),a=r}n._wrapperState={initialValue:xe(a)}}function is(n,r){var a=xe(r.value),c=xe(r.defaultValue);a!=null&&(a=""+a,a!==n.value&&(n.value=a),r.defaultValue==null&&n.defaultValue!==a&&(n.defaultValue=a)),c!=null&&(n.defaultValue=""+c)}function _o(n){var r=n.textContent;r===n._wrapperState.initialValue&&r!==""&&r!==null&&(n.value=r)}function ft(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function pt(n,r){return n==null||n==="http://www.w3.org/1999/xhtml"?ft(r):n==="http://www.w3.org/2000/svg"&&r==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var ar,wo=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(r,a,c,d){MSApp.execUnsafeLocalFunction(function(){return n(r,a,c,d)})}:n}(function(n,r){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=r;else{for(ar=ar||document.createElement("div"),ar.innerHTML="<svg>"+r.valueOf().toString()+"</svg>",r=ar.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;r.firstChild;)n.appendChild(r.firstChild)}});function kr(n,r){if(r){var a=n.firstChild;if(a&&a===n.lastChild&&a.nodeType===3){a.nodeValue=r;return}}n.textContent=r}var gi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},yi=["Webkit","ms","Moz","O"];Object.keys(gi).forEach(function(n){yi.forEach(function(r){r=r+n.charAt(0).toUpperCase()+n.substring(1),gi[r]=gi[n]})});function Eo(n,r,a){return r==null||typeof r=="boolean"||r===""?"":a||typeof r!="number"||r===0||gi.hasOwnProperty(n)&&gi[n]?(""+r).trim():r+"px"}function To(n,r){n=n.style;for(var a in r)if(r.hasOwnProperty(a)){var c=a.indexOf("--")===0,d=Eo(a,r[a],c);a==="float"&&(a="cssFloat"),c?n.setProperty(a,d):n[a]=d}}var Io=te({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function So(n,r){if(r){if(Io[n]&&(r.children!=null||r.dangerouslySetInnerHTML!=null))throw Error(t(137,n));if(r.dangerouslySetInnerHTML!=null){if(r.children!=null)throw Error(t(60));if(typeof r.dangerouslySetInnerHTML!="object"||!("__html"in r.dangerouslySetInnerHTML))throw Error(t(61))}if(r.style!=null&&typeof r.style!="object")throw Error(t(62))}}function Co(n,r){if(n.indexOf("-")===-1)return typeof r.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var vi=null;function ss(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var os=null,un=null,zn=null;function as(n){if(n=Go(n)){if(typeof os!="function")throw Error(t(280));var r=n.stateNode;r&&(r=wl(r),os(n.stateNode,n.type,r))}}function Bn(n){un?zn?zn.push(n):zn=[n]:un=n}function Ao(){if(un){var n=un,r=zn;if(zn=un=null,as(n),r)for(n=0;n<r.length;n++)as(r[n])}}function _i(n,r){return n(r)}function Ro(){}var lr=!1;function Po(n,r,a){if(lr)return n(r,a);lr=!0;try{return _i(n,r,a)}finally{lr=!1,(un!==null||zn!==null)&&(Ro(),Ao())}}function ot(n,r){var a=n.stateNode;if(a===null)return null;var c=wl(a);if(c===null)return null;a=c[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(n=n.type,c=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!c;break e;default:n=!1}if(n)return null;if(a&&typeof a!="function")throw Error(t(231,r,typeof a));return a}var ls=!1;if(f)try{var Tn={};Object.defineProperty(Tn,"passive",{get:function(){ls=!0}}),window.addEventListener("test",Tn,Tn),window.removeEventListener("test",Tn,Tn)}catch{ls=!1}function wi(n,r,a,c,d,m,_,C,P){var $=Array.prototype.slice.call(arguments,3);try{r.apply(a,$)}catch(Z){this.onError(Z)}}var Ei=!1,us=null,In=!1,ko=null,sc={onError:function(n){Ei=!0,us=n}};function cs(n,r,a,c,d,m,_,C,P){Ei=!1,us=null,wi.apply(sc,arguments)}function Ha(n,r,a,c,d,m,_,C,P){if(cs.apply(this,arguments),Ei){if(Ei){var $=us;Ei=!1,us=null}else throw Error(t(198));In||(In=!0,ko=$)}}function Sn(n){var r=n,a=n;if(n.alternate)for(;r.return;)r=r.return;else{n=r;do r=n,r.flags&4098&&(a=r.return),n=r.return;while(n)}return r.tag===3?a:null}function Ti(n){if(n.tag===13){var r=n.memoizedState;if(r===null&&(n=n.alternate,n!==null&&(r=n.memoizedState)),r!==null)return r.dehydrated}return null}function Cn(n){if(Sn(n)!==n)throw Error(t(188))}function Wa(n){var r=n.alternate;if(!r){if(r=Sn(n),r===null)throw Error(t(188));return r!==n?null:n}for(var a=n,c=r;;){var d=a.return;if(d===null)break;var m=d.alternate;if(m===null){if(c=d.return,c!==null){a=c;continue}break}if(d.child===m.child){for(m=d.child;m;){if(m===a)return Cn(d),n;if(m===c)return Cn(d),r;m=m.sibling}throw Error(t(188))}if(a.return!==c.return)a=d,c=m;else{for(var _=!1,C=d.child;C;){if(C===a){_=!0,a=d,c=m;break}if(C===c){_=!0,c=d,a=m;break}C=C.sibling}if(!_){for(C=m.child;C;){if(C===a){_=!0,a=m,c=d;break}if(C===c){_=!0,c=m,a=d;break}C=C.sibling}if(!_)throw Error(t(189))}}if(a.alternate!==c)throw Error(t(190))}if(a.tag!==3)throw Error(t(188));return a.stateNode.current===a?n:r}function xo(n){return n=Wa(n),n!==null?hs(n):null}function hs(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var r=hs(n);if(r!==null)return r;n=n.sibling}return null}var ds=e.unstable_scheduleCallback,No=e.unstable_cancelCallback,Qa=e.unstable_shouldYield,oc=e.unstable_requestPaint,Qe=e.unstable_now,Ka=e.unstable_getCurrentPriorityLevel,Ii=e.unstable_ImmediatePriority,xr=e.unstable_UserBlockingPriority,cn=e.unstable_NormalPriority,Do=e.unstable_LowPriority,Ga=e.unstable_IdlePriority,Si=null,en=null;function Ya(n){if(en&&typeof en.onCommitFiberRoot=="function")try{en.onCommitFiberRoot(Si,n,void 0,(n.current.flags&128)===128)}catch{}}var jt=Math.clz32?Math.clz32:Ja,Vo=Math.log,Xa=Math.LN2;function Ja(n){return n>>>=0,n===0?32:31-(Vo(n)/Xa|0)|0}var fs=64,ps=4194304;function Nr(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function Ci(n,r){var a=n.pendingLanes;if(a===0)return 0;var c=0,d=n.suspendedLanes,m=n.pingedLanes,_=a&268435455;if(_!==0){var C=_&~d;C!==0?c=Nr(C):(m&=_,m!==0&&(c=Nr(m)))}else _=a&~d,_!==0?c=Nr(_):m!==0&&(c=Nr(m));if(c===0)return 0;if(r!==0&&r!==c&&!(r&d)&&(d=c&-c,m=r&-r,d>=m||d===16&&(m&4194240)!==0))return r;if(c&4&&(c|=a&16),r=n.entangledLanes,r!==0)for(n=n.entanglements,r&=c;0<r;)a=31-jt(r),d=1<<a,c|=n[a],r&=~d;return c}function ac(n,r){switch(n){case 1:case 2:case 4:return r+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ur(n,r){for(var a=n.suspendedLanes,c=n.pingedLanes,d=n.expirationTimes,m=n.pendingLanes;0<m;){var _=31-jt(m),C=1<<_,P=d[_];P===-1?(!(C&a)||C&c)&&(d[_]=ac(C,r)):P<=r&&(n.expiredLanes|=C),m&=~C}}function tn(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function Ai(){var n=fs;return fs<<=1,!(fs&4194240)&&(fs=64),n}function Dr(n){for(var r=[],a=0;31>a;a++)r.push(n);return r}function Vr(n,r,a){n.pendingLanes|=r,r!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,r=31-jt(r),n[r]=a}function We(n,r){var a=n.pendingLanes&~r;n.pendingLanes=r,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=r,n.mutableReadLanes&=r,n.entangledLanes&=r,r=n.entanglements;var c=n.eventTimes;for(n=n.expirationTimes;0<a;){var d=31-jt(a),m=1<<d;r[d]=0,c[d]=-1,n[d]=-1,a&=~m}}function Lr(n,r){var a=n.entangledLanes|=r;for(n=n.entanglements;a;){var c=31-jt(a),d=1<<c;d&r|n[c]&r&&(n[c]|=r),a&=~d}}var Me=0;function Or(n){return n&=-n,1<n?4<n?n&268435455?16:536870912:4:1}var Za,ms,el,tl,nl,Lo=!1,$n=[],At=null,An=null,Rn=null,br=new Map,hn=new Map,qn=[],lc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function rl(n,r){switch(n){case"focusin":case"focusout":At=null;break;case"dragenter":case"dragleave":An=null;break;case"mouseover":case"mouseout":Rn=null;break;case"pointerover":case"pointerout":br.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":hn.delete(r.pointerId)}}function qt(n,r,a,c,d,m){return n===null||n.nativeEvent!==m?(n={blockedOn:r,domEventName:a,eventSystemFlags:c,nativeEvent:m,targetContainers:[d]},r!==null&&(r=Go(r),r!==null&&ms(r)),n):(n.eventSystemFlags|=c,r=n.targetContainers,d!==null&&r.indexOf(d)===-1&&r.push(d),n)}function uc(n,r,a,c,d){switch(r){case"focusin":return At=qt(At,n,r,a,c,d),!0;case"dragenter":return An=qt(An,n,r,a,c,d),!0;case"mouseover":return Rn=qt(Rn,n,r,a,c,d),!0;case"pointerover":var m=d.pointerId;return br.set(m,qt(br.get(m)||null,n,r,a,c,d)),!0;case"gotpointercapture":return m=d.pointerId,hn.set(m,qt(hn.get(m)||null,n,r,a,c,d)),!0}return!1}function il(n){var r=Ni(n.target);if(r!==null){var a=Sn(r);if(a!==null){if(r=a.tag,r===13){if(r=Ti(a),r!==null){n.blockedOn=r,nl(n.priority,function(){el(a)});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){n.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}n.blockedOn=null}function cr(n){if(n.blockedOn!==null)return!1;for(var r=n.targetContainers;0<r.length;){var a=gs(n.domEventName,n.eventSystemFlags,r[0],n.nativeEvent);if(a===null){a=n.nativeEvent;var c=new a.constructor(a.type,a);vi=c,a.target.dispatchEvent(c),vi=null}else return r=Go(a),r!==null&&ms(r),n.blockedOn=a,!1;r.shift()}return!0}function Ri(n,r,a){cr(n)&&a.delete(r)}function sl(){Lo=!1,At!==null&&cr(At)&&(At=null),An!==null&&cr(An)&&(An=null),Rn!==null&&cr(Rn)&&(Rn=null),br.forEach(Ri),hn.forEach(Ri)}function Pn(n,r){n.blockedOn===r&&(n.blockedOn=null,Lo||(Lo=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,sl)))}function kn(n){function r(d){return Pn(d,n)}if(0<$n.length){Pn($n[0],n);for(var a=1;a<$n.length;a++){var c=$n[a];c.blockedOn===n&&(c.blockedOn=null)}}for(At!==null&&Pn(At,n),An!==null&&Pn(An,n),Rn!==null&&Pn(Rn,n),br.forEach(r),hn.forEach(r),a=0;a<qn.length;a++)c=qn[a],c.blockedOn===n&&(c.blockedOn=null);for(;0<qn.length&&(a=qn[0],a.blockedOn===null);)il(a),a.blockedOn===null&&qn.shift()}var hr=fe.ReactCurrentBatchConfig,Mr=!0;function Je(n,r,a,c){var d=Me,m=hr.transition;hr.transition=null;try{Me=1,Oo(n,r,a,c)}finally{Me=d,hr.transition=m}}function cc(n,r,a,c){var d=Me,m=hr.transition;hr.transition=null;try{Me=4,Oo(n,r,a,c)}finally{Me=d,hr.transition=m}}function Oo(n,r,a,c){if(Mr){var d=gs(n,r,a,c);if(d===null)Ec(n,r,c,Pi,a),rl(n,c);else if(uc(d,n,r,a,c))c.stopPropagation();else if(rl(n,c),r&4&&-1<lc.indexOf(n)){for(;d!==null;){var m=Go(d);if(m!==null&&Za(m),m=gs(n,r,a,c),m===null&&Ec(n,r,c,Pi,a),m===d)break;d=m}d!==null&&c.stopPropagation()}else Ec(n,r,c,null,a)}}var Pi=null;function gs(n,r,a,c){if(Pi=null,n=ss(c),n=Ni(n),n!==null)if(r=Sn(n),r===null)n=null;else if(a=r.tag,a===13){if(n=Ti(r),n!==null)return n;n=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;n=null}else r!==n&&(n=null);return Pi=n,null}function bo(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ka()){case Ii:return 1;case xr:return 4;case cn:case Do:return 16;case Ga:return 536870912;default:return 16}default:return 16}}var nn=null,ys=null,Ht=null;function Mo(){if(Ht)return Ht;var n,r=ys,a=r.length,c,d="value"in nn?nn.value:nn.textContent,m=d.length;for(n=0;n<a&&r[n]===d[n];n++);var _=a-n;for(c=1;c<=_&&r[a-c]===d[m-c];c++);return Ht=d.slice(n,1<c?1-c:void 0)}function vs(n){var r=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&r===13&&(n=13)):n=r,n===10&&(n=13),32<=n||n===13?n:0}function Hn(){return!0}function Fo(){return!1}function Rt(n){function r(a,c,d,m,_){this._reactName=a,this._targetInst=d,this.type=c,this.nativeEvent=m,this.target=_,this.currentTarget=null;for(var C in n)n.hasOwnProperty(C)&&(a=n[C],this[C]=a?a(m):m[C]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?Hn:Fo,this.isPropagationStopped=Fo,this}return te(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Hn)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Hn)},persist:function(){},isPersistent:Hn}),r}var xn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},_s=Rt(xn),Wn=te({},xn,{view:0,detail:0}),hc=Rt(Wn),ws,dr,Fr,ki=te({},Wn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Qn,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Fr&&(Fr&&n.type==="mousemove"?(ws=n.screenX-Fr.screenX,dr=n.screenY-Fr.screenY):dr=ws=0,Fr=n),ws)},movementY:function(n){return"movementY"in n?n.movementY:dr}}),Es=Rt(ki),Uo=te({},ki,{dataTransfer:0}),ol=Rt(Uo),Ts=te({},Wn,{relatedTarget:0}),Is=Rt(Ts),al=te({},xn,{animationName:0,elapsedTime:0,pseudoElement:0}),fr=Rt(al),ll=te({},xn,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),ul=Rt(ll),cl=te({},xn,{data:0}),jo=Rt(cl),Ss={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},zt={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},hl={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function dl(n){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(n):(n=hl[n])?!!r[n]:!1}function Qn(){return dl}var l=te({},Wn,{key:function(n){if(n.key){var r=Ss[n.key]||n.key;if(r!=="Unidentified")return r}return n.type==="keypress"?(n=vs(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?zt[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Qn,charCode:function(n){return n.type==="keypress"?vs(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?vs(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),p=Rt(l),y=te({},ki,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),E=Rt(y),M=te({},Wn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Qn}),H=Rt(M),ie=te({},xn,{propertyName:0,elapsedTime:0,pseudoElement:0}),He=Rt(ie),mt=te({},ki,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),Ue=Rt(mt),wt=[9,13,27,32],ut=f&&"CompositionEvent"in window,dn=null;f&&"documentMode"in document&&(dn=document.documentMode);var rn=f&&"TextEvent"in window&&!dn,xi=f&&(!ut||dn&&8<dn&&11>=dn),Cs=" ",cf=!1;function hf(n,r){switch(n){case"keyup":return wt.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function df(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var As=!1;function n_(n,r){switch(n){case"compositionend":return df(r);case"keypress":return r.which!==32?null:(cf=!0,Cs);case"textInput":return n=r.data,n===Cs&&cf?null:n;default:return null}}function r_(n,r){if(As)return n==="compositionend"||!ut&&hf(n,r)?(n=Mo(),Ht=ys=nn=null,As=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return xi&&r.locale!=="ko"?null:r.data;default:return null}}var i_={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ff(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r==="input"?!!i_[n.type]:r==="textarea"}function pf(n,r,a,c){Bn(c),r=yl(r,"onChange"),0<r.length&&(a=new _s("onChange","change",null,a,c),n.push({event:a,listeners:r}))}var zo=null,Bo=null;function s_(n){Df(n,0)}function fl(n){var r=Ns(n);if(En(r))return n}function o_(n,r){if(n==="change")return r}var mf=!1;if(f){var dc;if(f){var fc="oninput"in document;if(!fc){var gf=document.createElement("div");gf.setAttribute("oninput","return;"),fc=typeof gf.oninput=="function"}dc=fc}else dc=!1;mf=dc&&(!document.documentMode||9<document.documentMode)}function yf(){zo&&(zo.detachEvent("onpropertychange",vf),Bo=zo=null)}function vf(n){if(n.propertyName==="value"&&fl(Bo)){var r=[];pf(r,Bo,n,ss(n)),Po(s_,r)}}function a_(n,r,a){n==="focusin"?(yf(),zo=r,Bo=a,zo.attachEvent("onpropertychange",vf)):n==="focusout"&&yf()}function l_(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return fl(Bo)}function u_(n,r){if(n==="click")return fl(r)}function c_(n,r){if(n==="input"||n==="change")return fl(r)}function h_(n,r){return n===r&&(n!==0||1/n===1/r)||n!==n&&r!==r}var Nn=typeof Object.is=="function"?Object.is:h_;function $o(n,r){if(Nn(n,r))return!0;if(typeof n!="object"||n===null||typeof r!="object"||r===null)return!1;var a=Object.keys(n),c=Object.keys(r);if(a.length!==c.length)return!1;for(c=0;c<a.length;c++){var d=a[c];if(!g.call(r,d)||!Nn(n[d],r[d]))return!1}return!0}function _f(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function wf(n,r){var a=_f(n);n=0;for(var c;a;){if(a.nodeType===3){if(c=n+a.textContent.length,n<=r&&c>=r)return{node:a,offset:r-n};n=c}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=_f(a)}}function Ef(n,r){return n&&r?n===r?!0:n&&n.nodeType===3?!1:r&&r.nodeType===3?Ef(n,r.parentNode):"contains"in n?n.contains(r):n.compareDocumentPosition?!!(n.compareDocumentPosition(r)&16):!1:!1}function Tf(){for(var n=window,r=jn();r instanceof n.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)n=r.contentWindow;else break;r=jn(n.document)}return r}function pc(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r&&(r==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||r==="textarea"||n.contentEditable==="true")}function d_(n){var r=Tf(),a=n.focusedElem,c=n.selectionRange;if(r!==a&&a&&a.ownerDocument&&Ef(a.ownerDocument.documentElement,a)){if(c!==null&&pc(a)){if(r=c.start,n=c.end,n===void 0&&(n=r),"selectionStart"in a)a.selectionStart=r,a.selectionEnd=Math.min(n,a.value.length);else if(n=(r=a.ownerDocument||document)&&r.defaultView||window,n.getSelection){n=n.getSelection();var d=a.textContent.length,m=Math.min(c.start,d);c=c.end===void 0?m:Math.min(c.end,d),!n.extend&&m>c&&(d=c,c=m,m=d),d=wf(a,m);var _=wf(a,c);d&&_&&(n.rangeCount!==1||n.anchorNode!==d.node||n.anchorOffset!==d.offset||n.focusNode!==_.node||n.focusOffset!==_.offset)&&(r=r.createRange(),r.setStart(d.node,d.offset),n.removeAllRanges(),m>c?(n.addRange(r),n.extend(_.node,_.offset)):(r.setEnd(_.node,_.offset),n.addRange(r)))}}for(r=[],n=a;n=n.parentNode;)n.nodeType===1&&r.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<r.length;a++)n=r[a],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var f_=f&&"documentMode"in document&&11>=document.documentMode,Rs=null,mc=null,qo=null,gc=!1;function If(n,r,a){var c=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;gc||Rs==null||Rs!==jn(c)||(c=Rs,"selectionStart"in c&&pc(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),qo&&$o(qo,c)||(qo=c,c=yl(mc,"onSelect"),0<c.length&&(r=new _s("onSelect","select",null,r,a),n.push({event:r,listeners:c}),r.target=Rs)))}function pl(n,r){var a={};return a[n.toLowerCase()]=r.toLowerCase(),a["Webkit"+n]="webkit"+r,a["Moz"+n]="moz"+r,a}var Ps={animationend:pl("Animation","AnimationEnd"),animationiteration:pl("Animation","AnimationIteration"),animationstart:pl("Animation","AnimationStart"),transitionend:pl("Transition","TransitionEnd")},yc={},Sf={};f&&(Sf=document.createElement("div").style,"AnimationEvent"in window||(delete Ps.animationend.animation,delete Ps.animationiteration.animation,delete Ps.animationstart.animation),"TransitionEvent"in window||delete Ps.transitionend.transition);function ml(n){if(yc[n])return yc[n];if(!Ps[n])return n;var r=Ps[n],a;for(a in r)if(r.hasOwnProperty(a)&&a in Sf)return yc[n]=r[a];return n}var Cf=ml("animationend"),Af=ml("animationiteration"),Rf=ml("animationstart"),Pf=ml("transitionend"),kf=new Map,xf="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ur(n,r){kf.set(n,r),u(r,[n])}for(var vc=0;vc<xf.length;vc++){var _c=xf[vc],p_=_c.toLowerCase(),m_=_c[0].toUpperCase()+_c.slice(1);Ur(p_,"on"+m_)}Ur(Cf,"onAnimationEnd"),Ur(Af,"onAnimationIteration"),Ur(Rf,"onAnimationStart"),Ur("dblclick","onDoubleClick"),Ur("focusin","onFocus"),Ur("focusout","onBlur"),Ur(Pf,"onTransitionEnd"),h("onMouseEnter",["mouseout","mouseover"]),h("onMouseLeave",["mouseout","mouseover"]),h("onPointerEnter",["pointerout","pointerover"]),h("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ho="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),g_=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ho));function Nf(n,r,a){var c=n.type||"unknown-event";n.currentTarget=a,Ha(c,r,void 0,n),n.currentTarget=null}function Df(n,r){r=(r&4)!==0;for(var a=0;a<n.length;a++){var c=n[a],d=c.event;c=c.listeners;e:{var m=void 0;if(r)for(var _=c.length-1;0<=_;_--){var C=c[_],P=C.instance,$=C.currentTarget;if(C=C.listener,P!==m&&d.isPropagationStopped())break e;Nf(d,C,$),m=P}else for(_=0;_<c.length;_++){if(C=c[_],P=C.instance,$=C.currentTarget,C=C.listener,P!==m&&d.isPropagationStopped())break e;Nf(d,C,$),m=P}}}if(In)throw n=ko,In=!1,ko=null,n}function Ge(n,r){var a=r[Rc];a===void 0&&(a=r[Rc]=new Set);var c=n+"__bubble";a.has(c)||(Vf(r,n,2,!1),a.add(c))}function wc(n,r,a){var c=0;r&&(c|=4),Vf(a,n,c,r)}var gl="_reactListening"+Math.random().toString(36).slice(2);function Wo(n){if(!n[gl]){n[gl]=!0,s.forEach(function(a){a!=="selectionchange"&&(g_.has(a)||wc(a,!1,n),wc(a,!0,n))});var r=n.nodeType===9?n:n.ownerDocument;r===null||r[gl]||(r[gl]=!0,wc("selectionchange",!1,r))}}function Vf(n,r,a,c){switch(bo(r)){case 1:var d=Je;break;case 4:d=cc;break;default:d=Oo}a=d.bind(null,r,a,n),d=void 0,!ls||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(d=!0),c?d!==void 0?n.addEventListener(r,a,{capture:!0,passive:d}):n.addEventListener(r,a,!0):d!==void 0?n.addEventListener(r,a,{passive:d}):n.addEventListener(r,a,!1)}function Ec(n,r,a,c,d){var m=c;if(!(r&1)&&!(r&2)&&c!==null)e:for(;;){if(c===null)return;var _=c.tag;if(_===3||_===4){var C=c.stateNode.containerInfo;if(C===d||C.nodeType===8&&C.parentNode===d)break;if(_===4)for(_=c.return;_!==null;){var P=_.tag;if((P===3||P===4)&&(P=_.stateNode.containerInfo,P===d||P.nodeType===8&&P.parentNode===d))return;_=_.return}for(;C!==null;){if(_=Ni(C),_===null)return;if(P=_.tag,P===5||P===6){c=m=_;continue e}C=C.parentNode}}c=c.return}Po(function(){var $=m,Z=ss(a),ee=[];e:{var J=kf.get(n);if(J!==void 0){var oe=_s,pe=n;switch(n){case"keypress":if(vs(a)===0)break e;case"keydown":case"keyup":oe=p;break;case"focusin":pe="focus",oe=Is;break;case"focusout":pe="blur",oe=Is;break;case"beforeblur":case"afterblur":oe=Is;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":oe=Es;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":oe=ol;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":oe=H;break;case Cf:case Af:case Rf:oe=fr;break;case Pf:oe=He;break;case"scroll":oe=hc;break;case"wheel":oe=Ue;break;case"copy":case"cut":case"paste":oe=ul;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":oe=E}var me=(r&4)!==0,at=!me&&n==="scroll",F=me?J!==null?J+"Capture":null:J;me=[];for(var D=$,z;D!==null;){z=D;var re=z.stateNode;if(z.tag===5&&re!==null&&(z=re,F!==null&&(re=ot(D,F),re!=null&&me.push(Qo(D,re,z)))),at)break;D=D.return}0<me.length&&(J=new oe(J,pe,null,a,Z),ee.push({event:J,listeners:me}))}}if(!(r&7)){e:{if(J=n==="mouseover"||n==="pointerover",oe=n==="mouseout"||n==="pointerout",J&&a!==vi&&(pe=a.relatedTarget||a.fromElement)&&(Ni(pe)||pe[pr]))break e;if((oe||J)&&(J=Z.window===Z?Z:(J=Z.ownerDocument)?J.defaultView||J.parentWindow:window,oe?(pe=a.relatedTarget||a.toElement,oe=$,pe=pe?Ni(pe):null,pe!==null&&(at=Sn(pe),pe!==at||pe.tag!==5&&pe.tag!==6)&&(pe=null)):(oe=null,pe=$),oe!==pe)){if(me=Es,re="onMouseLeave",F="onMouseEnter",D="mouse",(n==="pointerout"||n==="pointerover")&&(me=E,re="onPointerLeave",F="onPointerEnter",D="pointer"),at=oe==null?J:Ns(oe),z=pe==null?J:Ns(pe),J=new me(re,D+"leave",oe,a,Z),J.target=at,J.relatedTarget=z,re=null,Ni(Z)===$&&(me=new me(F,D+"enter",pe,a,Z),me.target=z,me.relatedTarget=at,re=me),at=re,oe&&pe)t:{for(me=oe,F=pe,D=0,z=me;z;z=ks(z))D++;for(z=0,re=F;re;re=ks(re))z++;for(;0<D-z;)me=ks(me),D--;for(;0<z-D;)F=ks(F),z--;for(;D--;){if(me===F||F!==null&&me===F.alternate)break t;me=ks(me),F=ks(F)}me=null}else me=null;oe!==null&&Lf(ee,J,oe,me,!1),pe!==null&&at!==null&&Lf(ee,at,pe,me,!0)}}e:{if(J=$?Ns($):window,oe=J.nodeName&&J.nodeName.toLowerCase(),oe==="select"||oe==="input"&&J.type==="file")var ge=o_;else if(ff(J))if(mf)ge=c_;else{ge=l_;var _e=a_}else(oe=J.nodeName)&&oe.toLowerCase()==="input"&&(J.type==="checkbox"||J.type==="radio")&&(ge=u_);if(ge&&(ge=ge(n,$))){pf(ee,ge,a,Z);break e}_e&&_e(n,J,$),n==="focusout"&&(_e=J._wrapperState)&&_e.controlled&&J.type==="number"&&ns(J,"number",J.value)}switch(_e=$?Ns($):window,n){case"focusin":(ff(_e)||_e.contentEditable==="true")&&(Rs=_e,mc=$,qo=null);break;case"focusout":qo=mc=Rs=null;break;case"mousedown":gc=!0;break;case"contextmenu":case"mouseup":case"dragend":gc=!1,If(ee,a,Z);break;case"selectionchange":if(f_)break;case"keydown":case"keyup":If(ee,a,Z)}var we;if(ut)e:{switch(n){case"compositionstart":var Ie="onCompositionStart";break e;case"compositionend":Ie="onCompositionEnd";break e;case"compositionupdate":Ie="onCompositionUpdate";break e}Ie=void 0}else As?hf(n,a)&&(Ie="onCompositionEnd"):n==="keydown"&&a.keyCode===229&&(Ie="onCompositionStart");Ie&&(xi&&a.locale!=="ko"&&(As||Ie!=="onCompositionStart"?Ie==="onCompositionEnd"&&As&&(we=Mo()):(nn=Z,ys="value"in nn?nn.value:nn.textContent,As=!0)),_e=yl($,Ie),0<_e.length&&(Ie=new jo(Ie,n,null,a,Z),ee.push({event:Ie,listeners:_e}),we?Ie.data=we:(we=df(a),we!==null&&(Ie.data=we)))),(we=rn?n_(n,a):r_(n,a))&&($=yl($,"onBeforeInput"),0<$.length&&(Z=new jo("onBeforeInput","beforeinput",null,a,Z),ee.push({event:Z,listeners:$}),Z.data=we))}Df(ee,r)})}function Qo(n,r,a){return{instance:n,listener:r,currentTarget:a}}function yl(n,r){for(var a=r+"Capture",c=[];n!==null;){var d=n,m=d.stateNode;d.tag===5&&m!==null&&(d=m,m=ot(n,a),m!=null&&c.unshift(Qo(n,m,d)),m=ot(n,r),m!=null&&c.push(Qo(n,m,d))),n=n.return}return c}function ks(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function Lf(n,r,a,c,d){for(var m=r._reactName,_=[];a!==null&&a!==c;){var C=a,P=C.alternate,$=C.stateNode;if(P!==null&&P===c)break;C.tag===5&&$!==null&&(C=$,d?(P=ot(a,m),P!=null&&_.unshift(Qo(a,P,C))):d||(P=ot(a,m),P!=null&&_.push(Qo(a,P,C)))),a=a.return}_.length!==0&&n.push({event:r,listeners:_})}var y_=/\r\n?/g,v_=/\u0000|\uFFFD/g;function Of(n){return(typeof n=="string"?n:""+n).replace(y_,`
`).replace(v_,"")}function vl(n,r,a){if(r=Of(r),Of(n)!==r&&a)throw Error(t(425))}function _l(){}var Tc=null,Ic=null;function Sc(n,r){return n==="textarea"||n==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Cc=typeof setTimeout=="function"?setTimeout:void 0,__=typeof clearTimeout=="function"?clearTimeout:void 0,bf=typeof Promise=="function"?Promise:void 0,w_=typeof queueMicrotask=="function"?queueMicrotask:typeof bf<"u"?function(n){return bf.resolve(null).then(n).catch(E_)}:Cc;function E_(n){setTimeout(function(){throw n})}function Ac(n,r){var a=r,c=0;do{var d=a.nextSibling;if(n.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(c===0){n.removeChild(d),kn(r);return}c--}else a!=="$"&&a!=="$?"&&a!=="$!"||c++;a=d}while(a);kn(r)}function jr(n){for(;n!=null;n=n.nextSibling){var r=n.nodeType;if(r===1||r===3)break;if(r===8){if(r=n.data,r==="$"||r==="$!"||r==="$?")break;if(r==="/$")return null}}return n}function Mf(n){n=n.previousSibling;for(var r=0;n;){if(n.nodeType===8){var a=n.data;if(a==="$"||a==="$!"||a==="$?"){if(r===0)return n;r--}else a==="/$"&&r++}n=n.previousSibling}return null}var xs=Math.random().toString(36).slice(2),Kn="__reactFiber$"+xs,Ko="__reactProps$"+xs,pr="__reactContainer$"+xs,Rc="__reactEvents$"+xs,T_="__reactListeners$"+xs,I_="__reactHandles$"+xs;function Ni(n){var r=n[Kn];if(r)return r;for(var a=n.parentNode;a;){if(r=a[pr]||a[Kn]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(n=Mf(n);n!==null;){if(a=n[Kn])return a;n=Mf(n)}return r}n=a,a=n.parentNode}return null}function Go(n){return n=n[Kn]||n[pr],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function Ns(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(t(33))}function wl(n){return n[Ko]||null}var Pc=[],Ds=-1;function zr(n){return{current:n}}function Ye(n){0>Ds||(n.current=Pc[Ds],Pc[Ds]=null,Ds--)}function Ke(n,r){Ds++,Pc[Ds]=n.current,n.current=r}var Br={},Vt=zr(Br),Wt=zr(!1),Di=Br;function Vs(n,r){var a=n.type.contextTypes;if(!a)return Br;var c=n.stateNode;if(c&&c.__reactInternalMemoizedUnmaskedChildContext===r)return c.__reactInternalMemoizedMaskedChildContext;var d={},m;for(m in a)d[m]=r[m];return c&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=r,n.__reactInternalMemoizedMaskedChildContext=d),d}function Qt(n){return n=n.childContextTypes,n!=null}function El(){Ye(Wt),Ye(Vt)}function Ff(n,r,a){if(Vt.current!==Br)throw Error(t(168));Ke(Vt,r),Ke(Wt,a)}function Uf(n,r,a){var c=n.stateNode;if(r=r.childContextTypes,typeof c.getChildContext!="function")return a;c=c.getChildContext();for(var d in c)if(!(d in r))throw Error(t(108,Ee(n)||"Unknown",d));return te({},a,c)}function Tl(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||Br,Di=Vt.current,Ke(Vt,n),Ke(Wt,Wt.current),!0}function jf(n,r,a){var c=n.stateNode;if(!c)throw Error(t(169));a?(n=Uf(n,r,Di),c.__reactInternalMemoizedMergedChildContext=n,Ye(Wt),Ye(Vt),Ke(Vt,n)):Ye(Wt),Ke(Wt,a)}var mr=null,Il=!1,kc=!1;function zf(n){mr===null?mr=[n]:mr.push(n)}function S_(n){Il=!0,zf(n)}function $r(){if(!kc&&mr!==null){kc=!0;var n=0,r=Me;try{var a=mr;for(Me=1;n<a.length;n++){var c=a[n];do c=c(!0);while(c!==null)}mr=null,Il=!1}catch(d){throw mr!==null&&(mr=mr.slice(n+1)),ds(Ii,$r),d}finally{Me=r,kc=!1}}return null}var Ls=[],Os=0,Sl=null,Cl=0,fn=[],pn=0,Vi=null,gr=1,yr="";function Li(n,r){Ls[Os++]=Cl,Ls[Os++]=Sl,Sl=n,Cl=r}function Bf(n,r,a){fn[pn++]=gr,fn[pn++]=yr,fn[pn++]=Vi,Vi=n;var c=gr;n=yr;var d=32-jt(c)-1;c&=~(1<<d),a+=1;var m=32-jt(r)+d;if(30<m){var _=d-d%5;m=(c&(1<<_)-1).toString(32),c>>=_,d-=_,gr=1<<32-jt(r)+d|a<<d|c,yr=m+n}else gr=1<<m|a<<d|c,yr=n}function xc(n){n.return!==null&&(Li(n,1),Bf(n,1,0))}function Nc(n){for(;n===Sl;)Sl=Ls[--Os],Ls[Os]=null,Cl=Ls[--Os],Ls[Os]=null;for(;n===Vi;)Vi=fn[--pn],fn[pn]=null,yr=fn[--pn],fn[pn]=null,gr=fn[--pn],fn[pn]=null}var sn=null,on=null,Ze=!1,Dn=null;function $f(n,r){var a=vn(5,null,null,0);a.elementType="DELETED",a.stateNode=r,a.return=n,r=n.deletions,r===null?(n.deletions=[a],n.flags|=16):r.push(a)}function qf(n,r){switch(n.tag){case 5:var a=n.type;return r=r.nodeType!==1||a.toLowerCase()!==r.nodeName.toLowerCase()?null:r,r!==null?(n.stateNode=r,sn=n,on=jr(r.firstChild),!0):!1;case 6:return r=n.pendingProps===""||r.nodeType!==3?null:r,r!==null?(n.stateNode=r,sn=n,on=null,!0):!1;case 13:return r=r.nodeType!==8?null:r,r!==null?(a=Vi!==null?{id:gr,overflow:yr}:null,n.memoizedState={dehydrated:r,treeContext:a,retryLane:1073741824},a=vn(18,null,null,0),a.stateNode=r,a.return=n,n.child=a,sn=n,on=null,!0):!1;default:return!1}}function Dc(n){return(n.mode&1)!==0&&(n.flags&128)===0}function Vc(n){if(Ze){var r=on;if(r){var a=r;if(!qf(n,r)){if(Dc(n))throw Error(t(418));r=jr(a.nextSibling);var c=sn;r&&qf(n,r)?$f(c,a):(n.flags=n.flags&-4097|2,Ze=!1,sn=n)}}else{if(Dc(n))throw Error(t(418));n.flags=n.flags&-4097|2,Ze=!1,sn=n}}}function Hf(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;sn=n}function Al(n){if(n!==sn)return!1;if(!Ze)return Hf(n),Ze=!0,!1;var r;if((r=n.tag!==3)&&!(r=n.tag!==5)&&(r=n.type,r=r!=="head"&&r!=="body"&&!Sc(n.type,n.memoizedProps)),r&&(r=on)){if(Dc(n))throw Wf(),Error(t(418));for(;r;)$f(n,r),r=jr(r.nextSibling)}if(Hf(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(t(317));e:{for(n=n.nextSibling,r=0;n;){if(n.nodeType===8){var a=n.data;if(a==="/$"){if(r===0){on=jr(n.nextSibling);break e}r--}else a!=="$"&&a!=="$!"&&a!=="$?"||r++}n=n.nextSibling}on=null}}else on=sn?jr(n.stateNode.nextSibling):null;return!0}function Wf(){for(var n=on;n;)n=jr(n.nextSibling)}function bs(){on=sn=null,Ze=!1}function Lc(n){Dn===null?Dn=[n]:Dn.push(n)}var C_=fe.ReactCurrentBatchConfig;function Yo(n,r,a){if(n=a.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(a._owner){if(a=a._owner,a){if(a.tag!==1)throw Error(t(309));var c=a.stateNode}if(!c)throw Error(t(147,n));var d=c,m=""+n;return r!==null&&r.ref!==null&&typeof r.ref=="function"&&r.ref._stringRef===m?r.ref:(r=function(_){var C=d.refs;_===null?delete C[m]:C[m]=_},r._stringRef=m,r)}if(typeof n!="string")throw Error(t(284));if(!a._owner)throw Error(t(290,n))}return n}function Rl(n,r){throw n=Object.prototype.toString.call(r),Error(t(31,n==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":n))}function Qf(n){var r=n._init;return r(n._payload)}function Kf(n){function r(F,D){if(n){var z=F.deletions;z===null?(F.deletions=[D],F.flags|=16):z.push(D)}}function a(F,D){if(!n)return null;for(;D!==null;)r(F,D),D=D.sibling;return null}function c(F,D){for(F=new Map;D!==null;)D.key!==null?F.set(D.key,D):F.set(D.index,D),D=D.sibling;return F}function d(F,D){return F=Xr(F,D),F.index=0,F.sibling=null,F}function m(F,D,z){return F.index=z,n?(z=F.alternate,z!==null?(z=z.index,z<D?(F.flags|=2,D):z):(F.flags|=2,D)):(F.flags|=1048576,D)}function _(F){return n&&F.alternate===null&&(F.flags|=2),F}function C(F,D,z,re){return D===null||D.tag!==6?(D=Ch(z,F.mode,re),D.return=F,D):(D=d(D,z),D.return=F,D)}function P(F,D,z,re){var ge=z.type;return ge===N?Z(F,D,z.props.children,re,z.key):D!==null&&(D.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===De&&Qf(ge)===D.type)?(re=d(D,z.props),re.ref=Yo(F,D,z),re.return=F,re):(re=Xl(z.type,z.key,z.props,null,F.mode,re),re.ref=Yo(F,D,z),re.return=F,re)}function $(F,D,z,re){return D===null||D.tag!==4||D.stateNode.containerInfo!==z.containerInfo||D.stateNode.implementation!==z.implementation?(D=Ah(z,F.mode,re),D.return=F,D):(D=d(D,z.children||[]),D.return=F,D)}function Z(F,D,z,re,ge){return D===null||D.tag!==7?(D=Bi(z,F.mode,re,ge),D.return=F,D):(D=d(D,z),D.return=F,D)}function ee(F,D,z){if(typeof D=="string"&&D!==""||typeof D=="number")return D=Ch(""+D,F.mode,z),D.return=F,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case Pe:return z=Xl(D.type,D.key,D.props,null,F.mode,z),z.ref=Yo(F,null,D),z.return=F,z;case Te:return D=Ah(D,F.mode,z),D.return=F,D;case De:var re=D._init;return ee(F,re(D._payload),z)}if(sr(D)||ce(D))return D=Bi(D,F.mode,z,null),D.return=F,D;Rl(F,D)}return null}function J(F,D,z,re){var ge=D!==null?D.key:null;if(typeof z=="string"&&z!==""||typeof z=="number")return ge!==null?null:C(F,D,""+z,re);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case Pe:return z.key===ge?P(F,D,z,re):null;case Te:return z.key===ge?$(F,D,z,re):null;case De:return ge=z._init,J(F,D,ge(z._payload),re)}if(sr(z)||ce(z))return ge!==null?null:Z(F,D,z,re,null);Rl(F,z)}return null}function oe(F,D,z,re,ge){if(typeof re=="string"&&re!==""||typeof re=="number")return F=F.get(z)||null,C(D,F,""+re,ge);if(typeof re=="object"&&re!==null){switch(re.$$typeof){case Pe:return F=F.get(re.key===null?z:re.key)||null,P(D,F,re,ge);case Te:return F=F.get(re.key===null?z:re.key)||null,$(D,F,re,ge);case De:var _e=re._init;return oe(F,D,z,_e(re._payload),ge)}if(sr(re)||ce(re))return F=F.get(z)||null,Z(D,F,re,ge,null);Rl(D,re)}return null}function pe(F,D,z,re){for(var ge=null,_e=null,we=D,Ie=D=0,It=null;we!==null&&Ie<z.length;Ie++){we.index>Ie?(It=we,we=null):It=we.sibling;var Be=J(F,we,z[Ie],re);if(Be===null){we===null&&(we=It);break}n&&we&&Be.alternate===null&&r(F,we),D=m(Be,D,Ie),_e===null?ge=Be:_e.sibling=Be,_e=Be,we=It}if(Ie===z.length)return a(F,we),Ze&&Li(F,Ie),ge;if(we===null){for(;Ie<z.length;Ie++)we=ee(F,z[Ie],re),we!==null&&(D=m(we,D,Ie),_e===null?ge=we:_e.sibling=we,_e=we);return Ze&&Li(F,Ie),ge}for(we=c(F,we);Ie<z.length;Ie++)It=oe(we,F,Ie,z[Ie],re),It!==null&&(n&&It.alternate!==null&&we.delete(It.key===null?Ie:It.key),D=m(It,D,Ie),_e===null?ge=It:_e.sibling=It,_e=It);return n&&we.forEach(function(Jr){return r(F,Jr)}),Ze&&Li(F,Ie),ge}function me(F,D,z,re){var ge=ce(z);if(typeof ge!="function")throw Error(t(150));if(z=ge.call(z),z==null)throw Error(t(151));for(var _e=ge=null,we=D,Ie=D=0,It=null,Be=z.next();we!==null&&!Be.done;Ie++,Be=z.next()){we.index>Ie?(It=we,we=null):It=we.sibling;var Jr=J(F,we,Be.value,re);if(Jr===null){we===null&&(we=It);break}n&&we&&Jr.alternate===null&&r(F,we),D=m(Jr,D,Ie),_e===null?ge=Jr:_e.sibling=Jr,_e=Jr,we=It}if(Be.done)return a(F,we),Ze&&Li(F,Ie),ge;if(we===null){for(;!Be.done;Ie++,Be=z.next())Be=ee(F,Be.value,re),Be!==null&&(D=m(Be,D,Ie),_e===null?ge=Be:_e.sibling=Be,_e=Be);return Ze&&Li(F,Ie),ge}for(we=c(F,we);!Be.done;Ie++,Be=z.next())Be=oe(we,F,Ie,Be.value,re),Be!==null&&(n&&Be.alternate!==null&&we.delete(Be.key===null?Ie:Be.key),D=m(Be,D,Ie),_e===null?ge=Be:_e.sibling=Be,_e=Be);return n&&we.forEach(function(r0){return r(F,r0)}),Ze&&Li(F,Ie),ge}function at(F,D,z,re){if(typeof z=="object"&&z!==null&&z.type===N&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case Pe:e:{for(var ge=z.key,_e=D;_e!==null;){if(_e.key===ge){if(ge=z.type,ge===N){if(_e.tag===7){a(F,_e.sibling),D=d(_e,z.props.children),D.return=F,F=D;break e}}else if(_e.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===De&&Qf(ge)===_e.type){a(F,_e.sibling),D=d(_e,z.props),D.ref=Yo(F,_e,z),D.return=F,F=D;break e}a(F,_e);break}else r(F,_e);_e=_e.sibling}z.type===N?(D=Bi(z.props.children,F.mode,re,z.key),D.return=F,F=D):(re=Xl(z.type,z.key,z.props,null,F.mode,re),re.ref=Yo(F,D,z),re.return=F,F=re)}return _(F);case Te:e:{for(_e=z.key;D!==null;){if(D.key===_e)if(D.tag===4&&D.stateNode.containerInfo===z.containerInfo&&D.stateNode.implementation===z.implementation){a(F,D.sibling),D=d(D,z.children||[]),D.return=F,F=D;break e}else{a(F,D);break}else r(F,D);D=D.sibling}D=Ah(z,F.mode,re),D.return=F,F=D}return _(F);case De:return _e=z._init,at(F,D,_e(z._payload),re)}if(sr(z))return pe(F,D,z,re);if(ce(z))return me(F,D,z,re);Rl(F,z)}return typeof z=="string"&&z!==""||typeof z=="number"?(z=""+z,D!==null&&D.tag===6?(a(F,D.sibling),D=d(D,z),D.return=F,F=D):(a(F,D),D=Ch(z,F.mode,re),D.return=F,F=D),_(F)):a(F,D)}return at}var Ms=Kf(!0),Gf=Kf(!1),Pl=zr(null),kl=null,Fs=null,Oc=null;function bc(){Oc=Fs=kl=null}function Mc(n){var r=Pl.current;Ye(Pl),n._currentValue=r}function Fc(n,r,a){for(;n!==null;){var c=n.alternate;if((n.childLanes&r)!==r?(n.childLanes|=r,c!==null&&(c.childLanes|=r)):c!==null&&(c.childLanes&r)!==r&&(c.childLanes|=r),n===a)break;n=n.return}}function Us(n,r){kl=n,Oc=Fs=null,n=n.dependencies,n!==null&&n.firstContext!==null&&(n.lanes&r&&(Kt=!0),n.firstContext=null)}function mn(n){var r=n._currentValue;if(Oc!==n)if(n={context:n,memoizedValue:r,next:null},Fs===null){if(kl===null)throw Error(t(308));Fs=n,kl.dependencies={lanes:0,firstContext:n}}else Fs=Fs.next=n;return r}var Oi=null;function Uc(n){Oi===null?Oi=[n]:Oi.push(n)}function Yf(n,r,a,c){var d=r.interleaved;return d===null?(a.next=a,Uc(r)):(a.next=d.next,d.next=a),r.interleaved=a,vr(n,c)}function vr(n,r){n.lanes|=r;var a=n.alternate;for(a!==null&&(a.lanes|=r),a=n,n=n.return;n!==null;)n.childLanes|=r,a=n.alternate,a!==null&&(a.childLanes|=r),a=n,n=n.return;return a.tag===3?a.stateNode:null}var qr=!1;function jc(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Xf(n,r){n=n.updateQueue,r.updateQueue===n&&(r.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function _r(n,r){return{eventTime:n,lane:r,tag:0,payload:null,callback:null,next:null}}function Hr(n,r,a){var c=n.updateQueue;if(c===null)return null;if(c=c.shared,ze&2){var d=c.pending;return d===null?r.next=r:(r.next=d.next,d.next=r),c.pending=r,vr(n,a)}return d=c.interleaved,d===null?(r.next=r,Uc(c)):(r.next=d.next,d.next=r),c.interleaved=r,vr(n,a)}function xl(n,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194240)!==0)){var c=r.lanes;c&=n.pendingLanes,a|=c,r.lanes=a,Lr(n,a)}}function Jf(n,r){var a=n.updateQueue,c=n.alternate;if(c!==null&&(c=c.updateQueue,a===c)){var d=null,m=null;if(a=a.firstBaseUpdate,a!==null){do{var _={eventTime:a.eventTime,lane:a.lane,tag:a.tag,payload:a.payload,callback:a.callback,next:null};m===null?d=m=_:m=m.next=_,a=a.next}while(a!==null);m===null?d=m=r:m=m.next=r}else d=m=r;a={baseState:c.baseState,firstBaseUpdate:d,lastBaseUpdate:m,shared:c.shared,effects:c.effects},n.updateQueue=a;return}n=a.lastBaseUpdate,n===null?a.firstBaseUpdate=r:n.next=r,a.lastBaseUpdate=r}function Nl(n,r,a,c){var d=n.updateQueue;qr=!1;var m=d.firstBaseUpdate,_=d.lastBaseUpdate,C=d.shared.pending;if(C!==null){d.shared.pending=null;var P=C,$=P.next;P.next=null,_===null?m=$:_.next=$,_=P;var Z=n.alternate;Z!==null&&(Z=Z.updateQueue,C=Z.lastBaseUpdate,C!==_&&(C===null?Z.firstBaseUpdate=$:C.next=$,Z.lastBaseUpdate=P))}if(m!==null){var ee=d.baseState;_=0,Z=$=P=null,C=m;do{var J=C.lane,oe=C.eventTime;if((c&J)===J){Z!==null&&(Z=Z.next={eventTime:oe,lane:0,tag:C.tag,payload:C.payload,callback:C.callback,next:null});e:{var pe=n,me=C;switch(J=r,oe=a,me.tag){case 1:if(pe=me.payload,typeof pe=="function"){ee=pe.call(oe,ee,J);break e}ee=pe;break e;case 3:pe.flags=pe.flags&-65537|128;case 0:if(pe=me.payload,J=typeof pe=="function"?pe.call(oe,ee,J):pe,J==null)break e;ee=te({},ee,J);break e;case 2:qr=!0}}C.callback!==null&&C.lane!==0&&(n.flags|=64,J=d.effects,J===null?d.effects=[C]:J.push(C))}else oe={eventTime:oe,lane:J,tag:C.tag,payload:C.payload,callback:C.callback,next:null},Z===null?($=Z=oe,P=ee):Z=Z.next=oe,_|=J;if(C=C.next,C===null){if(C=d.shared.pending,C===null)break;J=C,C=J.next,J.next=null,d.lastBaseUpdate=J,d.shared.pending=null}}while(!0);if(Z===null&&(P=ee),d.baseState=P,d.firstBaseUpdate=$,d.lastBaseUpdate=Z,r=d.shared.interleaved,r!==null){d=r;do _|=d.lane,d=d.next;while(d!==r)}else m===null&&(d.shared.lanes=0);Fi|=_,n.lanes=_,n.memoizedState=ee}}function Zf(n,r,a){if(n=r.effects,r.effects=null,n!==null)for(r=0;r<n.length;r++){var c=n[r],d=c.callback;if(d!==null){if(c.callback=null,c=a,typeof d!="function")throw Error(t(191,d));d.call(c)}}}var Xo={},Gn=zr(Xo),Jo=zr(Xo),Zo=zr(Xo);function bi(n){if(n===Xo)throw Error(t(174));return n}function zc(n,r){switch(Ke(Zo,r),Ke(Jo,n),Ke(Gn,Xo),n=r.nodeType,n){case 9:case 11:r=(r=r.documentElement)?r.namespaceURI:pt(null,"");break;default:n=n===8?r.parentNode:r,r=n.namespaceURI||null,n=n.tagName,r=pt(r,n)}Ye(Gn),Ke(Gn,r)}function js(){Ye(Gn),Ye(Jo),Ye(Zo)}function ep(n){bi(Zo.current);var r=bi(Gn.current),a=pt(r,n.type);r!==a&&(Ke(Jo,n),Ke(Gn,a))}function Bc(n){Jo.current===n&&(Ye(Gn),Ye(Jo))}var tt=zr(0);function Dl(n){for(var r=n;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if(r.flags&128)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var $c=[];function qc(){for(var n=0;n<$c.length;n++)$c[n]._workInProgressVersionPrimary=null;$c.length=0}var Vl=fe.ReactCurrentDispatcher,Hc=fe.ReactCurrentBatchConfig,Mi=0,nt=null,gt=null,Et=null,Ll=!1,ea=!1,ta=0,A_=0;function Lt(){throw Error(t(321))}function Wc(n,r){if(r===null)return!1;for(var a=0;a<r.length&&a<n.length;a++)if(!Nn(n[a],r[a]))return!1;return!0}function Qc(n,r,a,c,d,m){if(Mi=m,nt=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,Vl.current=n===null||n.memoizedState===null?x_:N_,n=a(c,d),ea){m=0;do{if(ea=!1,ta=0,25<=m)throw Error(t(301));m+=1,Et=gt=null,r.updateQueue=null,Vl.current=D_,n=a(c,d)}while(ea)}if(Vl.current=Ml,r=gt!==null&&gt.next!==null,Mi=0,Et=gt=nt=null,Ll=!1,r)throw Error(t(300));return n}function Kc(){var n=ta!==0;return ta=0,n}function Yn(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Et===null?nt.memoizedState=Et=n:Et=Et.next=n,Et}function gn(){if(gt===null){var n=nt.alternate;n=n!==null?n.memoizedState:null}else n=gt.next;var r=Et===null?nt.memoizedState:Et.next;if(r!==null)Et=r,gt=n;else{if(n===null)throw Error(t(310));gt=n,n={memoizedState:gt.memoizedState,baseState:gt.baseState,baseQueue:gt.baseQueue,queue:gt.queue,next:null},Et===null?nt.memoizedState=Et=n:Et=Et.next=n}return Et}function na(n,r){return typeof r=="function"?r(n):r}function Gc(n){var r=gn(),a=r.queue;if(a===null)throw Error(t(311));a.lastRenderedReducer=n;var c=gt,d=c.baseQueue,m=a.pending;if(m!==null){if(d!==null){var _=d.next;d.next=m.next,m.next=_}c.baseQueue=d=m,a.pending=null}if(d!==null){m=d.next,c=c.baseState;var C=_=null,P=null,$=m;do{var Z=$.lane;if((Mi&Z)===Z)P!==null&&(P=P.next={lane:0,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null}),c=$.hasEagerState?$.eagerState:n(c,$.action);else{var ee={lane:Z,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null};P===null?(C=P=ee,_=c):P=P.next=ee,nt.lanes|=Z,Fi|=Z}$=$.next}while($!==null&&$!==m);P===null?_=c:P.next=C,Nn(c,r.memoizedState)||(Kt=!0),r.memoizedState=c,r.baseState=_,r.baseQueue=P,a.lastRenderedState=c}if(n=a.interleaved,n!==null){d=n;do m=d.lane,nt.lanes|=m,Fi|=m,d=d.next;while(d!==n)}else d===null&&(a.lanes=0);return[r.memoizedState,a.dispatch]}function Yc(n){var r=gn(),a=r.queue;if(a===null)throw Error(t(311));a.lastRenderedReducer=n;var c=a.dispatch,d=a.pending,m=r.memoizedState;if(d!==null){a.pending=null;var _=d=d.next;do m=n(m,_.action),_=_.next;while(_!==d);Nn(m,r.memoizedState)||(Kt=!0),r.memoizedState=m,r.baseQueue===null&&(r.baseState=m),a.lastRenderedState=m}return[m,c]}function tp(){}function np(n,r){var a=nt,c=gn(),d=r(),m=!Nn(c.memoizedState,d);if(m&&(c.memoizedState=d,Kt=!0),c=c.queue,Xc(sp.bind(null,a,c,n),[n]),c.getSnapshot!==r||m||Et!==null&&Et.memoizedState.tag&1){if(a.flags|=2048,ra(9,ip.bind(null,a,c,d,r),void 0,null),Tt===null)throw Error(t(349));Mi&30||rp(a,r,d)}return d}function rp(n,r,a){n.flags|=16384,n={getSnapshot:r,value:a},r=nt.updateQueue,r===null?(r={lastEffect:null,stores:null},nt.updateQueue=r,r.stores=[n]):(a=r.stores,a===null?r.stores=[n]:a.push(n))}function ip(n,r,a,c){r.value=a,r.getSnapshot=c,op(r)&&ap(n)}function sp(n,r,a){return a(function(){op(r)&&ap(n)})}function op(n){var r=n.getSnapshot;n=n.value;try{var a=r();return!Nn(n,a)}catch{return!0}}function ap(n){var r=vr(n,1);r!==null&&bn(r,n,1,-1)}function lp(n){var r=Yn();return typeof n=="function"&&(n=n()),r.memoizedState=r.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:na,lastRenderedState:n},r.queue=n,n=n.dispatch=k_.bind(null,nt,n),[r.memoizedState,n]}function ra(n,r,a,c){return n={tag:n,create:r,destroy:a,deps:c,next:null},r=nt.updateQueue,r===null?(r={lastEffect:null,stores:null},nt.updateQueue=r,r.lastEffect=n.next=n):(a=r.lastEffect,a===null?r.lastEffect=n.next=n:(c=a.next,a.next=n,n.next=c,r.lastEffect=n)),n}function up(){return gn().memoizedState}function Ol(n,r,a,c){var d=Yn();nt.flags|=n,d.memoizedState=ra(1|r,a,void 0,c===void 0?null:c)}function bl(n,r,a,c){var d=gn();c=c===void 0?null:c;var m=void 0;if(gt!==null){var _=gt.memoizedState;if(m=_.destroy,c!==null&&Wc(c,_.deps)){d.memoizedState=ra(r,a,m,c);return}}nt.flags|=n,d.memoizedState=ra(1|r,a,m,c)}function cp(n,r){return Ol(8390656,8,n,r)}function Xc(n,r){return bl(2048,8,n,r)}function hp(n,r){return bl(4,2,n,r)}function dp(n,r){return bl(4,4,n,r)}function fp(n,r){if(typeof r=="function")return n=n(),r(n),function(){r(null)};if(r!=null)return n=n(),r.current=n,function(){r.current=null}}function pp(n,r,a){return a=a!=null?a.concat([n]):null,bl(4,4,fp.bind(null,r,n),a)}function Jc(){}function mp(n,r){var a=gn();r=r===void 0?null:r;var c=a.memoizedState;return c!==null&&r!==null&&Wc(r,c[1])?c[0]:(a.memoizedState=[n,r],n)}function gp(n,r){var a=gn();r=r===void 0?null:r;var c=a.memoizedState;return c!==null&&r!==null&&Wc(r,c[1])?c[0]:(n=n(),a.memoizedState=[n,r],n)}function yp(n,r,a){return Mi&21?(Nn(a,r)||(a=Ai(),nt.lanes|=a,Fi|=a,n.baseState=!0),r):(n.baseState&&(n.baseState=!1,Kt=!0),n.memoizedState=a)}function R_(n,r){var a=Me;Me=a!==0&&4>a?a:4,n(!0);var c=Hc.transition;Hc.transition={};try{n(!1),r()}finally{Me=a,Hc.transition=c}}function vp(){return gn().memoizedState}function P_(n,r,a){var c=Gr(n);if(a={lane:c,action:a,hasEagerState:!1,eagerState:null,next:null},_p(n))wp(r,a);else if(a=Yf(n,r,a,c),a!==null){var d=$t();bn(a,n,c,d),Ep(a,r,c)}}function k_(n,r,a){var c=Gr(n),d={lane:c,action:a,hasEagerState:!1,eagerState:null,next:null};if(_p(n))wp(r,d);else{var m=n.alternate;if(n.lanes===0&&(m===null||m.lanes===0)&&(m=r.lastRenderedReducer,m!==null))try{var _=r.lastRenderedState,C=m(_,a);if(d.hasEagerState=!0,d.eagerState=C,Nn(C,_)){var P=r.interleaved;P===null?(d.next=d,Uc(r)):(d.next=P.next,P.next=d),r.interleaved=d;return}}catch{}finally{}a=Yf(n,r,d,c),a!==null&&(d=$t(),bn(a,n,c,d),Ep(a,r,c))}}function _p(n){var r=n.alternate;return n===nt||r!==null&&r===nt}function wp(n,r){ea=Ll=!0;var a=n.pending;a===null?r.next=r:(r.next=a.next,a.next=r),n.pending=r}function Ep(n,r,a){if(a&4194240){var c=r.lanes;c&=n.pendingLanes,a|=c,r.lanes=a,Lr(n,a)}}var Ml={readContext:mn,useCallback:Lt,useContext:Lt,useEffect:Lt,useImperativeHandle:Lt,useInsertionEffect:Lt,useLayoutEffect:Lt,useMemo:Lt,useReducer:Lt,useRef:Lt,useState:Lt,useDebugValue:Lt,useDeferredValue:Lt,useTransition:Lt,useMutableSource:Lt,useSyncExternalStore:Lt,useId:Lt,unstable_isNewReconciler:!1},x_={readContext:mn,useCallback:function(n,r){return Yn().memoizedState=[n,r===void 0?null:r],n},useContext:mn,useEffect:cp,useImperativeHandle:function(n,r,a){return a=a!=null?a.concat([n]):null,Ol(4194308,4,fp.bind(null,r,n),a)},useLayoutEffect:function(n,r){return Ol(4194308,4,n,r)},useInsertionEffect:function(n,r){return Ol(4,2,n,r)},useMemo:function(n,r){var a=Yn();return r=r===void 0?null:r,n=n(),a.memoizedState=[n,r],n},useReducer:function(n,r,a){var c=Yn();return r=a!==void 0?a(r):r,c.memoizedState=c.baseState=r,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:r},c.queue=n,n=n.dispatch=P_.bind(null,nt,n),[c.memoizedState,n]},useRef:function(n){var r=Yn();return n={current:n},r.memoizedState=n},useState:lp,useDebugValue:Jc,useDeferredValue:function(n){return Yn().memoizedState=n},useTransition:function(){var n=lp(!1),r=n[0];return n=R_.bind(null,n[1]),Yn().memoizedState=n,[r,n]},useMutableSource:function(){},useSyncExternalStore:function(n,r,a){var c=nt,d=Yn();if(Ze){if(a===void 0)throw Error(t(407));a=a()}else{if(a=r(),Tt===null)throw Error(t(349));Mi&30||rp(c,r,a)}d.memoizedState=a;var m={value:a,getSnapshot:r};return d.queue=m,cp(sp.bind(null,c,m,n),[n]),c.flags|=2048,ra(9,ip.bind(null,c,m,a,r),void 0,null),a},useId:function(){var n=Yn(),r=Tt.identifierPrefix;if(Ze){var a=yr,c=gr;a=(c&~(1<<32-jt(c)-1)).toString(32)+a,r=":"+r+"R"+a,a=ta++,0<a&&(r+="H"+a.toString(32)),r+=":"}else a=A_++,r=":"+r+"r"+a.toString(32)+":";return n.memoizedState=r},unstable_isNewReconciler:!1},N_={readContext:mn,useCallback:mp,useContext:mn,useEffect:Xc,useImperativeHandle:pp,useInsertionEffect:hp,useLayoutEffect:dp,useMemo:gp,useReducer:Gc,useRef:up,useState:function(){return Gc(na)},useDebugValue:Jc,useDeferredValue:function(n){var r=gn();return yp(r,gt.memoizedState,n)},useTransition:function(){var n=Gc(na)[0],r=gn().memoizedState;return[n,r]},useMutableSource:tp,useSyncExternalStore:np,useId:vp,unstable_isNewReconciler:!1},D_={readContext:mn,useCallback:mp,useContext:mn,useEffect:Xc,useImperativeHandle:pp,useInsertionEffect:hp,useLayoutEffect:dp,useMemo:gp,useReducer:Yc,useRef:up,useState:function(){return Yc(na)},useDebugValue:Jc,useDeferredValue:function(n){var r=gn();return gt===null?r.memoizedState=n:yp(r,gt.memoizedState,n)},useTransition:function(){var n=Yc(na)[0],r=gn().memoizedState;return[n,r]},useMutableSource:tp,useSyncExternalStore:np,useId:vp,unstable_isNewReconciler:!1};function Vn(n,r){if(n&&n.defaultProps){r=te({},r),n=n.defaultProps;for(var a in n)r[a]===void 0&&(r[a]=n[a]);return r}return r}function Zc(n,r,a,c){r=n.memoizedState,a=a(c,r),a=a==null?r:te({},r,a),n.memoizedState=a,n.lanes===0&&(n.updateQueue.baseState=a)}var Fl={isMounted:function(n){return(n=n._reactInternals)?Sn(n)===n:!1},enqueueSetState:function(n,r,a){n=n._reactInternals;var c=$t(),d=Gr(n),m=_r(c,d);m.payload=r,a!=null&&(m.callback=a),r=Hr(n,m,d),r!==null&&(bn(r,n,d,c),xl(r,n,d))},enqueueReplaceState:function(n,r,a){n=n._reactInternals;var c=$t(),d=Gr(n),m=_r(c,d);m.tag=1,m.payload=r,a!=null&&(m.callback=a),r=Hr(n,m,d),r!==null&&(bn(r,n,d,c),xl(r,n,d))},enqueueForceUpdate:function(n,r){n=n._reactInternals;var a=$t(),c=Gr(n),d=_r(a,c);d.tag=2,r!=null&&(d.callback=r),r=Hr(n,d,c),r!==null&&(bn(r,n,c,a),xl(r,n,c))}};function Tp(n,r,a,c,d,m,_){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(c,m,_):r.prototype&&r.prototype.isPureReactComponent?!$o(a,c)||!$o(d,m):!0}function Ip(n,r,a){var c=!1,d=Br,m=r.contextType;return typeof m=="object"&&m!==null?m=mn(m):(d=Qt(r)?Di:Vt.current,c=r.contextTypes,m=(c=c!=null)?Vs(n,d):Br),r=new r(a,m),n.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,r.updater=Fl,n.stateNode=r,r._reactInternals=n,c&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=d,n.__reactInternalMemoizedMaskedChildContext=m),r}function Sp(n,r,a,c){n=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,c),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,c),r.state!==n&&Fl.enqueueReplaceState(r,r.state,null)}function eh(n,r,a,c){var d=n.stateNode;d.props=a,d.state=n.memoizedState,d.refs={},jc(n);var m=r.contextType;typeof m=="object"&&m!==null?d.context=mn(m):(m=Qt(r)?Di:Vt.current,d.context=Vs(n,m)),d.state=n.memoizedState,m=r.getDerivedStateFromProps,typeof m=="function"&&(Zc(n,r,m,a),d.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(r=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),r!==d.state&&Fl.enqueueReplaceState(d,d.state,null),Nl(n,a,d,c),d.state=n.memoizedState),typeof d.componentDidMount=="function"&&(n.flags|=4194308)}function zs(n,r){try{var a="",c=r;do a+=he(c),c=c.return;while(c);var d=a}catch(m){d=`
Error generating stack: `+m.message+`
`+m.stack}return{value:n,source:r,stack:d,digest:null}}function th(n,r,a){return{value:n,source:null,stack:a??null,digest:r??null}}function nh(n,r){try{console.error(r.value)}catch(a){setTimeout(function(){throw a})}}var V_=typeof WeakMap=="function"?WeakMap:Map;function Cp(n,r,a){a=_r(-1,a),a.tag=3,a.payload={element:null};var c=r.value;return a.callback=function(){Hl||(Hl=!0,yh=c),nh(n,r)},a}function Ap(n,r,a){a=_r(-1,a),a.tag=3;var c=n.type.getDerivedStateFromError;if(typeof c=="function"){var d=r.value;a.payload=function(){return c(d)},a.callback=function(){nh(n,r)}}var m=n.stateNode;return m!==null&&typeof m.componentDidCatch=="function"&&(a.callback=function(){nh(n,r),typeof c!="function"&&(Qr===null?Qr=new Set([this]):Qr.add(this));var _=r.stack;this.componentDidCatch(r.value,{componentStack:_!==null?_:""})}),a}function Rp(n,r,a){var c=n.pingCache;if(c===null){c=n.pingCache=new V_;var d=new Set;c.set(r,d)}else d=c.get(r),d===void 0&&(d=new Set,c.set(r,d));d.has(a)||(d.add(a),n=Q_.bind(null,n,r,a),r.then(n,n))}function Pp(n){do{var r;if((r=n.tag===13)&&(r=n.memoizedState,r=r!==null?r.dehydrated!==null:!0),r)return n;n=n.return}while(n!==null);return null}function kp(n,r,a,c,d){return n.mode&1?(n.flags|=65536,n.lanes=d,n):(n===r?n.flags|=65536:(n.flags|=128,a.flags|=131072,a.flags&=-52805,a.tag===1&&(a.alternate===null?a.tag=17:(r=_r(-1,1),r.tag=2,Hr(a,r,1))),a.lanes|=1),n)}var L_=fe.ReactCurrentOwner,Kt=!1;function Bt(n,r,a,c){r.child=n===null?Gf(r,null,a,c):Ms(r,n.child,a,c)}function xp(n,r,a,c,d){a=a.render;var m=r.ref;return Us(r,d),c=Qc(n,r,a,c,m,d),a=Kc(),n!==null&&!Kt?(r.updateQueue=n.updateQueue,r.flags&=-2053,n.lanes&=~d,wr(n,r,d)):(Ze&&a&&xc(r),r.flags|=1,Bt(n,r,c,d),r.child)}function Np(n,r,a,c,d){if(n===null){var m=a.type;return typeof m=="function"&&!Sh(m)&&m.defaultProps===void 0&&a.compare===null&&a.defaultProps===void 0?(r.tag=15,r.type=m,Dp(n,r,m,c,d)):(n=Xl(a.type,null,c,r,r.mode,d),n.ref=r.ref,n.return=r,r.child=n)}if(m=n.child,!(n.lanes&d)){var _=m.memoizedProps;if(a=a.compare,a=a!==null?a:$o,a(_,c)&&n.ref===r.ref)return wr(n,r,d)}return r.flags|=1,n=Xr(m,c),n.ref=r.ref,n.return=r,r.child=n}function Dp(n,r,a,c,d){if(n!==null){var m=n.memoizedProps;if($o(m,c)&&n.ref===r.ref)if(Kt=!1,r.pendingProps=c=m,(n.lanes&d)!==0)n.flags&131072&&(Kt=!0);else return r.lanes=n.lanes,wr(n,r,d)}return rh(n,r,a,c,d)}function Vp(n,r,a){var c=r.pendingProps,d=c.children,m=n!==null?n.memoizedState:null;if(c.mode==="hidden")if(!(r.mode&1))r.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ke($s,an),an|=a;else{if(!(a&1073741824))return n=m!==null?m.baseLanes|a:a,r.lanes=r.childLanes=1073741824,r.memoizedState={baseLanes:n,cachePool:null,transitions:null},r.updateQueue=null,Ke($s,an),an|=n,null;r.memoizedState={baseLanes:0,cachePool:null,transitions:null},c=m!==null?m.baseLanes:a,Ke($s,an),an|=c}else m!==null?(c=m.baseLanes|a,r.memoizedState=null):c=a,Ke($s,an),an|=c;return Bt(n,r,d,a),r.child}function Lp(n,r){var a=r.ref;(n===null&&a!==null||n!==null&&n.ref!==a)&&(r.flags|=512,r.flags|=2097152)}function rh(n,r,a,c,d){var m=Qt(a)?Di:Vt.current;return m=Vs(r,m),Us(r,d),a=Qc(n,r,a,c,m,d),c=Kc(),n!==null&&!Kt?(r.updateQueue=n.updateQueue,r.flags&=-2053,n.lanes&=~d,wr(n,r,d)):(Ze&&c&&xc(r),r.flags|=1,Bt(n,r,a,d),r.child)}function Op(n,r,a,c,d){if(Qt(a)){var m=!0;Tl(r)}else m=!1;if(Us(r,d),r.stateNode===null)jl(n,r),Ip(r,a,c),eh(r,a,c,d),c=!0;else if(n===null){var _=r.stateNode,C=r.memoizedProps;_.props=C;var P=_.context,$=a.contextType;typeof $=="object"&&$!==null?$=mn($):($=Qt(a)?Di:Vt.current,$=Vs(r,$));var Z=a.getDerivedStateFromProps,ee=typeof Z=="function"||typeof _.getSnapshotBeforeUpdate=="function";ee||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(C!==c||P!==$)&&Sp(r,_,c,$),qr=!1;var J=r.memoizedState;_.state=J,Nl(r,c,_,d),P=r.memoizedState,C!==c||J!==P||Wt.current||qr?(typeof Z=="function"&&(Zc(r,a,Z,c),P=r.memoizedState),(C=qr||Tp(r,a,C,c,J,P,$))?(ee||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(r.flags|=4194308)):(typeof _.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=c,r.memoizedState=P),_.props=c,_.state=P,_.context=$,c=C):(typeof _.componentDidMount=="function"&&(r.flags|=4194308),c=!1)}else{_=r.stateNode,Xf(n,r),C=r.memoizedProps,$=r.type===r.elementType?C:Vn(r.type,C),_.props=$,ee=r.pendingProps,J=_.context,P=a.contextType,typeof P=="object"&&P!==null?P=mn(P):(P=Qt(a)?Di:Vt.current,P=Vs(r,P));var oe=a.getDerivedStateFromProps;(Z=typeof oe=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(C!==ee||J!==P)&&Sp(r,_,c,P),qr=!1,J=r.memoizedState,_.state=J,Nl(r,c,_,d);var pe=r.memoizedState;C!==ee||J!==pe||Wt.current||qr?(typeof oe=="function"&&(Zc(r,a,oe,c),pe=r.memoizedState),($=qr||Tp(r,a,$,c,J,pe,P)||!1)?(Z||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(c,pe,P),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(c,pe,P)),typeof _.componentDidUpdate=="function"&&(r.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof _.componentDidUpdate!="function"||C===n.memoizedProps&&J===n.memoizedState||(r.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||C===n.memoizedProps&&J===n.memoizedState||(r.flags|=1024),r.memoizedProps=c,r.memoizedState=pe),_.props=c,_.state=pe,_.context=P,c=$):(typeof _.componentDidUpdate!="function"||C===n.memoizedProps&&J===n.memoizedState||(r.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||C===n.memoizedProps&&J===n.memoizedState||(r.flags|=1024),c=!1)}return ih(n,r,a,c,m,d)}function ih(n,r,a,c,d,m){Lp(n,r);var _=(r.flags&128)!==0;if(!c&&!_)return d&&jf(r,a,!1),wr(n,r,m);c=r.stateNode,L_.current=r;var C=_&&typeof a.getDerivedStateFromError!="function"?null:c.render();return r.flags|=1,n!==null&&_?(r.child=Ms(r,n.child,null,m),r.child=Ms(r,null,C,m)):Bt(n,r,C,m),r.memoizedState=c.state,d&&jf(r,a,!0),r.child}function bp(n){var r=n.stateNode;r.pendingContext?Ff(n,r.pendingContext,r.pendingContext!==r.context):r.context&&Ff(n,r.context,!1),zc(n,r.containerInfo)}function Mp(n,r,a,c,d){return bs(),Lc(d),r.flags|=256,Bt(n,r,a,c),r.child}var sh={dehydrated:null,treeContext:null,retryLane:0};function oh(n){return{baseLanes:n,cachePool:null,transitions:null}}function Fp(n,r,a){var c=r.pendingProps,d=tt.current,m=!1,_=(r.flags&128)!==0,C;if((C=_)||(C=n!==null&&n.memoizedState===null?!1:(d&2)!==0),C?(m=!0,r.flags&=-129):(n===null||n.memoizedState!==null)&&(d|=1),Ke(tt,d&1),n===null)return Vc(r),n=r.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?(r.mode&1?n.data==="$!"?r.lanes=8:r.lanes=1073741824:r.lanes=1,null):(_=c.children,n=c.fallback,m?(c=r.mode,m=r.child,_={mode:"hidden",children:_},!(c&1)&&m!==null?(m.childLanes=0,m.pendingProps=_):m=Jl(_,c,0,null),n=Bi(n,c,a,null),m.return=r,n.return=r,m.sibling=n,r.child=m,r.child.memoizedState=oh(a),r.memoizedState=sh,n):ah(r,_));if(d=n.memoizedState,d!==null&&(C=d.dehydrated,C!==null))return O_(n,r,_,c,C,d,a);if(m){m=c.fallback,_=r.mode,d=n.child,C=d.sibling;var P={mode:"hidden",children:c.children};return!(_&1)&&r.child!==d?(c=r.child,c.childLanes=0,c.pendingProps=P,r.deletions=null):(c=Xr(d,P),c.subtreeFlags=d.subtreeFlags&14680064),C!==null?m=Xr(C,m):(m=Bi(m,_,a,null),m.flags|=2),m.return=r,c.return=r,c.sibling=m,r.child=c,c=m,m=r.child,_=n.child.memoizedState,_=_===null?oh(a):{baseLanes:_.baseLanes|a,cachePool:null,transitions:_.transitions},m.memoizedState=_,m.childLanes=n.childLanes&~a,r.memoizedState=sh,c}return m=n.child,n=m.sibling,c=Xr(m,{mode:"visible",children:c.children}),!(r.mode&1)&&(c.lanes=a),c.return=r,c.sibling=null,n!==null&&(a=r.deletions,a===null?(r.deletions=[n],r.flags|=16):a.push(n)),r.child=c,r.memoizedState=null,c}function ah(n,r){return r=Jl({mode:"visible",children:r},n.mode,0,null),r.return=n,n.child=r}function Ul(n,r,a,c){return c!==null&&Lc(c),Ms(r,n.child,null,a),n=ah(r,r.pendingProps.children),n.flags|=2,r.memoizedState=null,n}function O_(n,r,a,c,d,m,_){if(a)return r.flags&256?(r.flags&=-257,c=th(Error(t(422))),Ul(n,r,_,c)):r.memoizedState!==null?(r.child=n.child,r.flags|=128,null):(m=c.fallback,d=r.mode,c=Jl({mode:"visible",children:c.children},d,0,null),m=Bi(m,d,_,null),m.flags|=2,c.return=r,m.return=r,c.sibling=m,r.child=c,r.mode&1&&Ms(r,n.child,null,_),r.child.memoizedState=oh(_),r.memoizedState=sh,m);if(!(r.mode&1))return Ul(n,r,_,null);if(d.data==="$!"){if(c=d.nextSibling&&d.nextSibling.dataset,c)var C=c.dgst;return c=C,m=Error(t(419)),c=th(m,c,void 0),Ul(n,r,_,c)}if(C=(_&n.childLanes)!==0,Kt||C){if(c=Tt,c!==null){switch(_&-_){case 4:d=2;break;case 16:d=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:d=32;break;case 536870912:d=268435456;break;default:d=0}d=d&(c.suspendedLanes|_)?0:d,d!==0&&d!==m.retryLane&&(m.retryLane=d,vr(n,d),bn(c,n,d,-1))}return Ih(),c=th(Error(t(421))),Ul(n,r,_,c)}return d.data==="$?"?(r.flags|=128,r.child=n.child,r=K_.bind(null,n),d._reactRetry=r,null):(n=m.treeContext,on=jr(d.nextSibling),sn=r,Ze=!0,Dn=null,n!==null&&(fn[pn++]=gr,fn[pn++]=yr,fn[pn++]=Vi,gr=n.id,yr=n.overflow,Vi=r),r=ah(r,c.children),r.flags|=4096,r)}function Up(n,r,a){n.lanes|=r;var c=n.alternate;c!==null&&(c.lanes|=r),Fc(n.return,r,a)}function lh(n,r,a,c,d){var m=n.memoizedState;m===null?n.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:c,tail:a,tailMode:d}:(m.isBackwards=r,m.rendering=null,m.renderingStartTime=0,m.last=c,m.tail=a,m.tailMode=d)}function jp(n,r,a){var c=r.pendingProps,d=c.revealOrder,m=c.tail;if(Bt(n,r,c.children,a),c=tt.current,c&2)c=c&1|2,r.flags|=128;else{if(n!==null&&n.flags&128)e:for(n=r.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&Up(n,a,r);else if(n.tag===19)Up(n,a,r);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===r)break e;for(;n.sibling===null;){if(n.return===null||n.return===r)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}c&=1}if(Ke(tt,c),!(r.mode&1))r.memoizedState=null;else switch(d){case"forwards":for(a=r.child,d=null;a!==null;)n=a.alternate,n!==null&&Dl(n)===null&&(d=a),a=a.sibling;a=d,a===null?(d=r.child,r.child=null):(d=a.sibling,a.sibling=null),lh(r,!1,d,a,m);break;case"backwards":for(a=null,d=r.child,r.child=null;d!==null;){if(n=d.alternate,n!==null&&Dl(n)===null){r.child=d;break}n=d.sibling,d.sibling=a,a=d,d=n}lh(r,!0,a,null,m);break;case"together":lh(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function jl(n,r){!(r.mode&1)&&n!==null&&(n.alternate=null,r.alternate=null,r.flags|=2)}function wr(n,r,a){if(n!==null&&(r.dependencies=n.dependencies),Fi|=r.lanes,!(a&r.childLanes))return null;if(n!==null&&r.child!==n.child)throw Error(t(153));if(r.child!==null){for(n=r.child,a=Xr(n,n.pendingProps),r.child=a,a.return=r;n.sibling!==null;)n=n.sibling,a=a.sibling=Xr(n,n.pendingProps),a.return=r;a.sibling=null}return r.child}function b_(n,r,a){switch(r.tag){case 3:bp(r),bs();break;case 5:ep(r);break;case 1:Qt(r.type)&&Tl(r);break;case 4:zc(r,r.stateNode.containerInfo);break;case 10:var c=r.type._context,d=r.memoizedProps.value;Ke(Pl,c._currentValue),c._currentValue=d;break;case 13:if(c=r.memoizedState,c!==null)return c.dehydrated!==null?(Ke(tt,tt.current&1),r.flags|=128,null):a&r.child.childLanes?Fp(n,r,a):(Ke(tt,tt.current&1),n=wr(n,r,a),n!==null?n.sibling:null);Ke(tt,tt.current&1);break;case 19:if(c=(a&r.childLanes)!==0,n.flags&128){if(c)return jp(n,r,a);r.flags|=128}if(d=r.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),Ke(tt,tt.current),c)break;return null;case 22:case 23:return r.lanes=0,Vp(n,r,a)}return wr(n,r,a)}var zp,uh,Bp,$p;zp=function(n,r){for(var a=r.child;a!==null;){if(a.tag===5||a.tag===6)n.appendChild(a.stateNode);else if(a.tag!==4&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===r)break;for(;a.sibling===null;){if(a.return===null||a.return===r)return;a=a.return}a.sibling.return=a.return,a=a.sibling}},uh=function(){},Bp=function(n,r,a,c){var d=n.memoizedProps;if(d!==c){n=r.stateNode,bi(Gn.current);var m=null;switch(a){case"input":d=mi(n,d),c=mi(n,c),m=[];break;case"select":d=te({},d,{value:void 0}),c=te({},c,{value:void 0}),m=[];break;case"textarea":d=vo(n,d),c=vo(n,c),m=[];break;default:typeof d.onClick!="function"&&typeof c.onClick=="function"&&(n.onclick=_l)}So(a,c);var _;a=null;for($ in d)if(!c.hasOwnProperty($)&&d.hasOwnProperty($)&&d[$]!=null)if($==="style"){var C=d[$];for(_ in C)C.hasOwnProperty(_)&&(a||(a={}),a[_]="")}else $!=="dangerouslySetInnerHTML"&&$!=="children"&&$!=="suppressContentEditableWarning"&&$!=="suppressHydrationWarning"&&$!=="autoFocus"&&(o.hasOwnProperty($)?m||(m=[]):(m=m||[]).push($,null));for($ in c){var P=c[$];if(C=d!=null?d[$]:void 0,c.hasOwnProperty($)&&P!==C&&(P!=null||C!=null))if($==="style")if(C){for(_ in C)!C.hasOwnProperty(_)||P&&P.hasOwnProperty(_)||(a||(a={}),a[_]="");for(_ in P)P.hasOwnProperty(_)&&C[_]!==P[_]&&(a||(a={}),a[_]=P[_])}else a||(m||(m=[]),m.push($,a)),a=P;else $==="dangerouslySetInnerHTML"?(P=P?P.__html:void 0,C=C?C.__html:void 0,P!=null&&C!==P&&(m=m||[]).push($,P)):$==="children"?typeof P!="string"&&typeof P!="number"||(m=m||[]).push($,""+P):$!=="suppressContentEditableWarning"&&$!=="suppressHydrationWarning"&&(o.hasOwnProperty($)?(P!=null&&$==="onScroll"&&Ge("scroll",n),m||C===P||(m=[])):(m=m||[]).push($,P))}a&&(m=m||[]).push("style",a);var $=m;(r.updateQueue=$)&&(r.flags|=4)}},$p=function(n,r,a,c){a!==c&&(r.flags|=4)};function ia(n,r){if(!Ze)switch(n.tailMode){case"hidden":r=n.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?n.tail=null:a.sibling=null;break;case"collapsed":a=n.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?r||n.tail===null?n.tail=null:n.tail.sibling=null:c.sibling=null}}function Ot(n){var r=n.alternate!==null&&n.alternate.child===n.child,a=0,c=0;if(r)for(var d=n.child;d!==null;)a|=d.lanes|d.childLanes,c|=d.subtreeFlags&14680064,c|=d.flags&14680064,d.return=n,d=d.sibling;else for(d=n.child;d!==null;)a|=d.lanes|d.childLanes,c|=d.subtreeFlags,c|=d.flags,d.return=n,d=d.sibling;return n.subtreeFlags|=c,n.childLanes=a,r}function M_(n,r,a){var c=r.pendingProps;switch(Nc(r),r.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ot(r),null;case 1:return Qt(r.type)&&El(),Ot(r),null;case 3:return c=r.stateNode,js(),Ye(Wt),Ye(Vt),qc(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(n===null||n.child===null)&&(Al(r)?r.flags|=4:n===null||n.memoizedState.isDehydrated&&!(r.flags&256)||(r.flags|=1024,Dn!==null&&(wh(Dn),Dn=null))),uh(n,r),Ot(r),null;case 5:Bc(r);var d=bi(Zo.current);if(a=r.type,n!==null&&r.stateNode!=null)Bp(n,r,a,c,d),n.ref!==r.ref&&(r.flags|=512,r.flags|=2097152);else{if(!c){if(r.stateNode===null)throw Error(t(166));return Ot(r),null}if(n=bi(Gn.current),Al(r)){c=r.stateNode,a=r.type;var m=r.memoizedProps;switch(c[Kn]=r,c[Ko]=m,n=(r.mode&1)!==0,a){case"dialog":Ge("cancel",c),Ge("close",c);break;case"iframe":case"object":case"embed":Ge("load",c);break;case"video":case"audio":for(d=0;d<Ho.length;d++)Ge(Ho[d],c);break;case"source":Ge("error",c);break;case"img":case"image":case"link":Ge("error",c),Ge("load",c);break;case"details":Ge("toggle",c);break;case"input":ts(c,m),Ge("invalid",c);break;case"select":c._wrapperState={wasMultiple:!!m.multiple},Ge("invalid",c);break;case"textarea":rs(c,m),Ge("invalid",c)}So(a,m),d=null;for(var _ in m)if(m.hasOwnProperty(_)){var C=m[_];_==="children"?typeof C=="string"?c.textContent!==C&&(m.suppressHydrationWarning!==!0&&vl(c.textContent,C,n),d=["children",C]):typeof C=="number"&&c.textContent!==""+C&&(m.suppressHydrationWarning!==!0&&vl(c.textContent,C,n),d=["children",""+C]):o.hasOwnProperty(_)&&C!=null&&_==="onScroll"&&Ge("scroll",c)}switch(a){case"input":ln(c),qa(c,m,!0);break;case"textarea":ln(c),_o(c);break;case"select":case"option":break;default:typeof m.onClick=="function"&&(c.onclick=_l)}c=d,r.updateQueue=c,c!==null&&(r.flags|=4)}else{_=d.nodeType===9?d:d.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=ft(a)),n==="http://www.w3.org/1999/xhtml"?a==="script"?(n=_.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof c.is=="string"?n=_.createElement(a,{is:c.is}):(n=_.createElement(a),a==="select"&&(_=n,c.multiple?_.multiple=!0:c.size&&(_.size=c.size))):n=_.createElementNS(n,a),n[Kn]=r,n[Ko]=c,zp(n,r,!1,!1),r.stateNode=n;e:{switch(_=Co(a,c),a){case"dialog":Ge("cancel",n),Ge("close",n),d=c;break;case"iframe":case"object":case"embed":Ge("load",n),d=c;break;case"video":case"audio":for(d=0;d<Ho.length;d++)Ge(Ho[d],n);d=c;break;case"source":Ge("error",n),d=c;break;case"img":case"image":case"link":Ge("error",n),Ge("load",n),d=c;break;case"details":Ge("toggle",n),d=c;break;case"input":ts(n,c),d=mi(n,c),Ge("invalid",n);break;case"option":d=c;break;case"select":n._wrapperState={wasMultiple:!!c.multiple},d=te({},c,{value:void 0}),Ge("invalid",n);break;case"textarea":rs(n,c),d=vo(n,c),Ge("invalid",n);break;default:d=c}So(a,d),C=d;for(m in C)if(C.hasOwnProperty(m)){var P=C[m];m==="style"?To(n,P):m==="dangerouslySetInnerHTML"?(P=P?P.__html:void 0,P!=null&&wo(n,P)):m==="children"?typeof P=="string"?(a!=="textarea"||P!=="")&&kr(n,P):typeof P=="number"&&kr(n,""+P):m!=="suppressContentEditableWarning"&&m!=="suppressHydrationWarning"&&m!=="autoFocus"&&(o.hasOwnProperty(m)?P!=null&&m==="onScroll"&&Ge("scroll",n):P!=null&&se(n,m,P,_))}switch(a){case"input":ln(n),qa(n,c,!1);break;case"textarea":ln(n),_o(n);break;case"option":c.value!=null&&n.setAttribute("value",""+xe(c.value));break;case"select":n.multiple=!!c.multiple,m=c.value,m!=null?or(n,!!c.multiple,m,!1):c.defaultValue!=null&&or(n,!!c.multiple,c.defaultValue,!0);break;default:typeof d.onClick=="function"&&(n.onclick=_l)}switch(a){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}}c&&(r.flags|=4)}r.ref!==null&&(r.flags|=512,r.flags|=2097152)}return Ot(r),null;case 6:if(n&&r.stateNode!=null)$p(n,r,n.memoizedProps,c);else{if(typeof c!="string"&&r.stateNode===null)throw Error(t(166));if(a=bi(Zo.current),bi(Gn.current),Al(r)){if(c=r.stateNode,a=r.memoizedProps,c[Kn]=r,(m=c.nodeValue!==a)&&(n=sn,n!==null))switch(n.tag){case 3:vl(c.nodeValue,a,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&vl(c.nodeValue,a,(n.mode&1)!==0)}m&&(r.flags|=4)}else c=(a.nodeType===9?a:a.ownerDocument).createTextNode(c),c[Kn]=r,r.stateNode=c}return Ot(r),null;case 13:if(Ye(tt),c=r.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(Ze&&on!==null&&r.mode&1&&!(r.flags&128))Wf(),bs(),r.flags|=98560,m=!1;else if(m=Al(r),c!==null&&c.dehydrated!==null){if(n===null){if(!m)throw Error(t(318));if(m=r.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(t(317));m[Kn]=r}else bs(),!(r.flags&128)&&(r.memoizedState=null),r.flags|=4;Ot(r),m=!1}else Dn!==null&&(wh(Dn),Dn=null),m=!0;if(!m)return r.flags&65536?r:null}return r.flags&128?(r.lanes=a,r):(c=c!==null,c!==(n!==null&&n.memoizedState!==null)&&c&&(r.child.flags|=8192,r.mode&1&&(n===null||tt.current&1?yt===0&&(yt=3):Ih())),r.updateQueue!==null&&(r.flags|=4),Ot(r),null);case 4:return js(),uh(n,r),n===null&&Wo(r.stateNode.containerInfo),Ot(r),null;case 10:return Mc(r.type._context),Ot(r),null;case 17:return Qt(r.type)&&El(),Ot(r),null;case 19:if(Ye(tt),m=r.memoizedState,m===null)return Ot(r),null;if(c=(r.flags&128)!==0,_=m.rendering,_===null)if(c)ia(m,!1);else{if(yt!==0||n!==null&&n.flags&128)for(n=r.child;n!==null;){if(_=Dl(n),_!==null){for(r.flags|=128,ia(m,!1),c=_.updateQueue,c!==null&&(r.updateQueue=c,r.flags|=4),r.subtreeFlags=0,c=a,a=r.child;a!==null;)m=a,n=c,m.flags&=14680066,_=m.alternate,_===null?(m.childLanes=0,m.lanes=n,m.child=null,m.subtreeFlags=0,m.memoizedProps=null,m.memoizedState=null,m.updateQueue=null,m.dependencies=null,m.stateNode=null):(m.childLanes=_.childLanes,m.lanes=_.lanes,m.child=_.child,m.subtreeFlags=0,m.deletions=null,m.memoizedProps=_.memoizedProps,m.memoizedState=_.memoizedState,m.updateQueue=_.updateQueue,m.type=_.type,n=_.dependencies,m.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),a=a.sibling;return Ke(tt,tt.current&1|2),r.child}n=n.sibling}m.tail!==null&&Qe()>qs&&(r.flags|=128,c=!0,ia(m,!1),r.lanes=4194304)}else{if(!c)if(n=Dl(_),n!==null){if(r.flags|=128,c=!0,a=n.updateQueue,a!==null&&(r.updateQueue=a,r.flags|=4),ia(m,!0),m.tail===null&&m.tailMode==="hidden"&&!_.alternate&&!Ze)return Ot(r),null}else 2*Qe()-m.renderingStartTime>qs&&a!==1073741824&&(r.flags|=128,c=!0,ia(m,!1),r.lanes=4194304);m.isBackwards?(_.sibling=r.child,r.child=_):(a=m.last,a!==null?a.sibling=_:r.child=_,m.last=_)}return m.tail!==null?(r=m.tail,m.rendering=r,m.tail=r.sibling,m.renderingStartTime=Qe(),r.sibling=null,a=tt.current,Ke(tt,c?a&1|2:a&1),r):(Ot(r),null);case 22:case 23:return Th(),c=r.memoizedState!==null,n!==null&&n.memoizedState!==null!==c&&(r.flags|=8192),c&&r.mode&1?an&1073741824&&(Ot(r),r.subtreeFlags&6&&(r.flags|=8192)):Ot(r),null;case 24:return null;case 25:return null}throw Error(t(156,r.tag))}function F_(n,r){switch(Nc(r),r.tag){case 1:return Qt(r.type)&&El(),n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 3:return js(),Ye(Wt),Ye(Vt),qc(),n=r.flags,n&65536&&!(n&128)?(r.flags=n&-65537|128,r):null;case 5:return Bc(r),null;case 13:if(Ye(tt),n=r.memoizedState,n!==null&&n.dehydrated!==null){if(r.alternate===null)throw Error(t(340));bs()}return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 19:return Ye(tt),null;case 4:return js(),null;case 10:return Mc(r.type._context),null;case 22:case 23:return Th(),null;case 24:return null;default:return null}}var zl=!1,bt=!1,U_=typeof WeakSet=="function"?WeakSet:Set,de=null;function Bs(n,r){var a=n.ref;if(a!==null)if(typeof a=="function")try{a(null)}catch(c){st(n,r,c)}else a.current=null}function ch(n,r,a){try{a()}catch(c){st(n,r,c)}}var qp=!1;function j_(n,r){if(Tc=Mr,n=Tf(),pc(n)){if("selectionStart"in n)var a={start:n.selectionStart,end:n.selectionEnd};else e:{a=(a=n.ownerDocument)&&a.defaultView||window;var c=a.getSelection&&a.getSelection();if(c&&c.rangeCount!==0){a=c.anchorNode;var d=c.anchorOffset,m=c.focusNode;c=c.focusOffset;try{a.nodeType,m.nodeType}catch{a=null;break e}var _=0,C=-1,P=-1,$=0,Z=0,ee=n,J=null;t:for(;;){for(var oe;ee!==a||d!==0&&ee.nodeType!==3||(C=_+d),ee!==m||c!==0&&ee.nodeType!==3||(P=_+c),ee.nodeType===3&&(_+=ee.nodeValue.length),(oe=ee.firstChild)!==null;)J=ee,ee=oe;for(;;){if(ee===n)break t;if(J===a&&++$===d&&(C=_),J===m&&++Z===c&&(P=_),(oe=ee.nextSibling)!==null)break;ee=J,J=ee.parentNode}ee=oe}a=C===-1||P===-1?null:{start:C,end:P}}else a=null}a=a||{start:0,end:0}}else a=null;for(Ic={focusedElem:n,selectionRange:a},Mr=!1,de=r;de!==null;)if(r=de,n=r.child,(r.subtreeFlags&1028)!==0&&n!==null)n.return=r,de=n;else for(;de!==null;){r=de;try{var pe=r.alternate;if(r.flags&1024)switch(r.tag){case 0:case 11:case 15:break;case 1:if(pe!==null){var me=pe.memoizedProps,at=pe.memoizedState,F=r.stateNode,D=F.getSnapshotBeforeUpdate(r.elementType===r.type?me:Vn(r.type,me),at);F.__reactInternalSnapshotBeforeUpdate=D}break;case 3:var z=r.stateNode.containerInfo;z.nodeType===1?z.textContent="":z.nodeType===9&&z.documentElement&&z.removeChild(z.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(re){st(r,r.return,re)}if(n=r.sibling,n!==null){n.return=r.return,de=n;break}de=r.return}return pe=qp,qp=!1,pe}function sa(n,r,a){var c=r.updateQueue;if(c=c!==null?c.lastEffect:null,c!==null){var d=c=c.next;do{if((d.tag&n)===n){var m=d.destroy;d.destroy=void 0,m!==void 0&&ch(r,a,m)}d=d.next}while(d!==c)}}function Bl(n,r){if(r=r.updateQueue,r=r!==null?r.lastEffect:null,r!==null){var a=r=r.next;do{if((a.tag&n)===n){var c=a.create;a.destroy=c()}a=a.next}while(a!==r)}}function hh(n){var r=n.ref;if(r!==null){var a=n.stateNode;switch(n.tag){case 5:n=a;break;default:n=a}typeof r=="function"?r(n):r.current=n}}function Hp(n){var r=n.alternate;r!==null&&(n.alternate=null,Hp(r)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(r=n.stateNode,r!==null&&(delete r[Kn],delete r[Ko],delete r[Rc],delete r[T_],delete r[I_])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function Wp(n){return n.tag===5||n.tag===3||n.tag===4}function Qp(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||Wp(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function dh(n,r,a){var c=n.tag;if(c===5||c===6)n=n.stateNode,r?a.nodeType===8?a.parentNode.insertBefore(n,r):a.insertBefore(n,r):(a.nodeType===8?(r=a.parentNode,r.insertBefore(n,a)):(r=a,r.appendChild(n)),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=_l));else if(c!==4&&(n=n.child,n!==null))for(dh(n,r,a),n=n.sibling;n!==null;)dh(n,r,a),n=n.sibling}function fh(n,r,a){var c=n.tag;if(c===5||c===6)n=n.stateNode,r?a.insertBefore(n,r):a.appendChild(n);else if(c!==4&&(n=n.child,n!==null))for(fh(n,r,a),n=n.sibling;n!==null;)fh(n,r,a),n=n.sibling}var Pt=null,Ln=!1;function Wr(n,r,a){for(a=a.child;a!==null;)Kp(n,r,a),a=a.sibling}function Kp(n,r,a){if(en&&typeof en.onCommitFiberUnmount=="function")try{en.onCommitFiberUnmount(Si,a)}catch{}switch(a.tag){case 5:bt||Bs(a,r);case 6:var c=Pt,d=Ln;Pt=null,Wr(n,r,a),Pt=c,Ln=d,Pt!==null&&(Ln?(n=Pt,a=a.stateNode,n.nodeType===8?n.parentNode.removeChild(a):n.removeChild(a)):Pt.removeChild(a.stateNode));break;case 18:Pt!==null&&(Ln?(n=Pt,a=a.stateNode,n.nodeType===8?Ac(n.parentNode,a):n.nodeType===1&&Ac(n,a),kn(n)):Ac(Pt,a.stateNode));break;case 4:c=Pt,d=Ln,Pt=a.stateNode.containerInfo,Ln=!0,Wr(n,r,a),Pt=c,Ln=d;break;case 0:case 11:case 14:case 15:if(!bt&&(c=a.updateQueue,c!==null&&(c=c.lastEffect,c!==null))){d=c=c.next;do{var m=d,_=m.destroy;m=m.tag,_!==void 0&&(m&2||m&4)&&ch(a,r,_),d=d.next}while(d!==c)}Wr(n,r,a);break;case 1:if(!bt&&(Bs(a,r),c=a.stateNode,typeof c.componentWillUnmount=="function"))try{c.props=a.memoizedProps,c.state=a.memoizedState,c.componentWillUnmount()}catch(C){st(a,r,C)}Wr(n,r,a);break;case 21:Wr(n,r,a);break;case 22:a.mode&1?(bt=(c=bt)||a.memoizedState!==null,Wr(n,r,a),bt=c):Wr(n,r,a);break;default:Wr(n,r,a)}}function Gp(n){var r=n.updateQueue;if(r!==null){n.updateQueue=null;var a=n.stateNode;a===null&&(a=n.stateNode=new U_),r.forEach(function(c){var d=G_.bind(null,n,c);a.has(c)||(a.add(c),c.then(d,d))})}}function On(n,r){var a=r.deletions;if(a!==null)for(var c=0;c<a.length;c++){var d=a[c];try{var m=n,_=r,C=_;e:for(;C!==null;){switch(C.tag){case 5:Pt=C.stateNode,Ln=!1;break e;case 3:Pt=C.stateNode.containerInfo,Ln=!0;break e;case 4:Pt=C.stateNode.containerInfo,Ln=!0;break e}C=C.return}if(Pt===null)throw Error(t(160));Kp(m,_,d),Pt=null,Ln=!1;var P=d.alternate;P!==null&&(P.return=null),d.return=null}catch($){st(d,r,$)}}if(r.subtreeFlags&12854)for(r=r.child;r!==null;)Yp(r,n),r=r.sibling}function Yp(n,r){var a=n.alternate,c=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(On(r,n),Xn(n),c&4){try{sa(3,n,n.return),Bl(3,n)}catch(me){st(n,n.return,me)}try{sa(5,n,n.return)}catch(me){st(n,n.return,me)}}break;case 1:On(r,n),Xn(n),c&512&&a!==null&&Bs(a,a.return);break;case 5:if(On(r,n),Xn(n),c&512&&a!==null&&Bs(a,a.return),n.flags&32){var d=n.stateNode;try{kr(d,"")}catch(me){st(n,n.return,me)}}if(c&4&&(d=n.stateNode,d!=null)){var m=n.memoizedProps,_=a!==null?a.memoizedProps:m,C=n.type,P=n.updateQueue;if(n.updateQueue=null,P!==null)try{C==="input"&&m.type==="radio"&&m.name!=null&&go(d,m),Co(C,_);var $=Co(C,m);for(_=0;_<P.length;_+=2){var Z=P[_],ee=P[_+1];Z==="style"?To(d,ee):Z==="dangerouslySetInnerHTML"?wo(d,ee):Z==="children"?kr(d,ee):se(d,Z,ee,$)}switch(C){case"input":yo(d,m);break;case"textarea":is(d,m);break;case"select":var J=d._wrapperState.wasMultiple;d._wrapperState.wasMultiple=!!m.multiple;var oe=m.value;oe!=null?or(d,!!m.multiple,oe,!1):J!==!!m.multiple&&(m.defaultValue!=null?or(d,!!m.multiple,m.defaultValue,!0):or(d,!!m.multiple,m.multiple?[]:"",!1))}d[Ko]=m}catch(me){st(n,n.return,me)}}break;case 6:if(On(r,n),Xn(n),c&4){if(n.stateNode===null)throw Error(t(162));d=n.stateNode,m=n.memoizedProps;try{d.nodeValue=m}catch(me){st(n,n.return,me)}}break;case 3:if(On(r,n),Xn(n),c&4&&a!==null&&a.memoizedState.isDehydrated)try{kn(r.containerInfo)}catch(me){st(n,n.return,me)}break;case 4:On(r,n),Xn(n);break;case 13:On(r,n),Xn(n),d=n.child,d.flags&8192&&(m=d.memoizedState!==null,d.stateNode.isHidden=m,!m||d.alternate!==null&&d.alternate.memoizedState!==null||(gh=Qe())),c&4&&Gp(n);break;case 22:if(Z=a!==null&&a.memoizedState!==null,n.mode&1?(bt=($=bt)||Z,On(r,n),bt=$):On(r,n),Xn(n),c&8192){if($=n.memoizedState!==null,(n.stateNode.isHidden=$)&&!Z&&n.mode&1)for(de=n,Z=n.child;Z!==null;){for(ee=de=Z;de!==null;){switch(J=de,oe=J.child,J.tag){case 0:case 11:case 14:case 15:sa(4,J,J.return);break;case 1:Bs(J,J.return);var pe=J.stateNode;if(typeof pe.componentWillUnmount=="function"){c=J,a=J.return;try{r=c,pe.props=r.memoizedProps,pe.state=r.memoizedState,pe.componentWillUnmount()}catch(me){st(c,a,me)}}break;case 5:Bs(J,J.return);break;case 22:if(J.memoizedState!==null){Zp(ee);continue}}oe!==null?(oe.return=J,de=oe):Zp(ee)}Z=Z.sibling}e:for(Z=null,ee=n;;){if(ee.tag===5){if(Z===null){Z=ee;try{d=ee.stateNode,$?(m=d.style,typeof m.setProperty=="function"?m.setProperty("display","none","important"):m.display="none"):(C=ee.stateNode,P=ee.memoizedProps.style,_=P!=null&&P.hasOwnProperty("display")?P.display:null,C.style.display=Eo("display",_))}catch(me){st(n,n.return,me)}}}else if(ee.tag===6){if(Z===null)try{ee.stateNode.nodeValue=$?"":ee.memoizedProps}catch(me){st(n,n.return,me)}}else if((ee.tag!==22&&ee.tag!==23||ee.memoizedState===null||ee===n)&&ee.child!==null){ee.child.return=ee,ee=ee.child;continue}if(ee===n)break e;for(;ee.sibling===null;){if(ee.return===null||ee.return===n)break e;Z===ee&&(Z=null),ee=ee.return}Z===ee&&(Z=null),ee.sibling.return=ee.return,ee=ee.sibling}}break;case 19:On(r,n),Xn(n),c&4&&Gp(n);break;case 21:break;default:On(r,n),Xn(n)}}function Xn(n){var r=n.flags;if(r&2){try{e:{for(var a=n.return;a!==null;){if(Wp(a)){var c=a;break e}a=a.return}throw Error(t(160))}switch(c.tag){case 5:var d=c.stateNode;c.flags&32&&(kr(d,""),c.flags&=-33);var m=Qp(n);fh(n,m,d);break;case 3:case 4:var _=c.stateNode.containerInfo,C=Qp(n);dh(n,C,_);break;default:throw Error(t(161))}}catch(P){st(n,n.return,P)}n.flags&=-3}r&4096&&(n.flags&=-4097)}function z_(n,r,a){de=n,Xp(n)}function Xp(n,r,a){for(var c=(n.mode&1)!==0;de!==null;){var d=de,m=d.child;if(d.tag===22&&c){var _=d.memoizedState!==null||zl;if(!_){var C=d.alternate,P=C!==null&&C.memoizedState!==null||bt;C=zl;var $=bt;if(zl=_,(bt=P)&&!$)for(de=d;de!==null;)_=de,P=_.child,_.tag===22&&_.memoizedState!==null?em(d):P!==null?(P.return=_,de=P):em(d);for(;m!==null;)de=m,Xp(m),m=m.sibling;de=d,zl=C,bt=$}Jp(n)}else d.subtreeFlags&8772&&m!==null?(m.return=d,de=m):Jp(n)}}function Jp(n){for(;de!==null;){var r=de;if(r.flags&8772){var a=r.alternate;try{if(r.flags&8772)switch(r.tag){case 0:case 11:case 15:bt||Bl(5,r);break;case 1:var c=r.stateNode;if(r.flags&4&&!bt)if(a===null)c.componentDidMount();else{var d=r.elementType===r.type?a.memoizedProps:Vn(r.type,a.memoizedProps);c.componentDidUpdate(d,a.memoizedState,c.__reactInternalSnapshotBeforeUpdate)}var m=r.updateQueue;m!==null&&Zf(r,m,c);break;case 3:var _=r.updateQueue;if(_!==null){if(a=null,r.child!==null)switch(r.child.tag){case 5:a=r.child.stateNode;break;case 1:a=r.child.stateNode}Zf(r,_,a)}break;case 5:var C=r.stateNode;if(a===null&&r.flags&4){a=C;var P=r.memoizedProps;switch(r.type){case"button":case"input":case"select":case"textarea":P.autoFocus&&a.focus();break;case"img":P.src&&(a.src=P.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(r.memoizedState===null){var $=r.alternate;if($!==null){var Z=$.memoizedState;if(Z!==null){var ee=Z.dehydrated;ee!==null&&kn(ee)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}bt||r.flags&512&&hh(r)}catch(J){st(r,r.return,J)}}if(r===n){de=null;break}if(a=r.sibling,a!==null){a.return=r.return,de=a;break}de=r.return}}function Zp(n){for(;de!==null;){var r=de;if(r===n){de=null;break}var a=r.sibling;if(a!==null){a.return=r.return,de=a;break}de=r.return}}function em(n){for(;de!==null;){var r=de;try{switch(r.tag){case 0:case 11:case 15:var a=r.return;try{Bl(4,r)}catch(P){st(r,a,P)}break;case 1:var c=r.stateNode;if(typeof c.componentDidMount=="function"){var d=r.return;try{c.componentDidMount()}catch(P){st(r,d,P)}}var m=r.return;try{hh(r)}catch(P){st(r,m,P)}break;case 5:var _=r.return;try{hh(r)}catch(P){st(r,_,P)}}}catch(P){st(r,r.return,P)}if(r===n){de=null;break}var C=r.sibling;if(C!==null){C.return=r.return,de=C;break}de=r.return}}var B_=Math.ceil,$l=fe.ReactCurrentDispatcher,ph=fe.ReactCurrentOwner,yn=fe.ReactCurrentBatchConfig,ze=0,Tt=null,ct=null,kt=0,an=0,$s=zr(0),yt=0,oa=null,Fi=0,ql=0,mh=0,aa=null,Gt=null,gh=0,qs=1/0,Er=null,Hl=!1,yh=null,Qr=null,Wl=!1,Kr=null,Ql=0,la=0,vh=null,Kl=-1,Gl=0;function $t(){return ze&6?Qe():Kl!==-1?Kl:Kl=Qe()}function Gr(n){return n.mode&1?ze&2&&kt!==0?kt&-kt:C_.transition!==null?(Gl===0&&(Gl=Ai()),Gl):(n=Me,n!==0||(n=window.event,n=n===void 0?16:bo(n.type)),n):1}function bn(n,r,a,c){if(50<la)throw la=0,vh=null,Error(t(185));Vr(n,a,c),(!(ze&2)||n!==Tt)&&(n===Tt&&(!(ze&2)&&(ql|=a),yt===4&&Yr(n,kt)),Yt(n,c),a===1&&ze===0&&!(r.mode&1)&&(qs=Qe()+500,Il&&$r()))}function Yt(n,r){var a=n.callbackNode;ur(n,r);var c=Ci(n,n===Tt?kt:0);if(c===0)a!==null&&No(a),n.callbackNode=null,n.callbackPriority=0;else if(r=c&-c,n.callbackPriority!==r){if(a!=null&&No(a),r===1)n.tag===0?S_(nm.bind(null,n)):zf(nm.bind(null,n)),w_(function(){!(ze&6)&&$r()}),a=null;else{switch(Or(c)){case 1:a=Ii;break;case 4:a=xr;break;case 16:a=cn;break;case 536870912:a=Ga;break;default:a=cn}a=cm(a,tm.bind(null,n))}n.callbackPriority=r,n.callbackNode=a}}function tm(n,r){if(Kl=-1,Gl=0,ze&6)throw Error(t(327));var a=n.callbackNode;if(Hs()&&n.callbackNode!==a)return null;var c=Ci(n,n===Tt?kt:0);if(c===0)return null;if(c&30||c&n.expiredLanes||r)r=Yl(n,c);else{r=c;var d=ze;ze|=2;var m=im();(Tt!==n||kt!==r)&&(Er=null,qs=Qe()+500,ji(n,r));do try{H_();break}catch(C){rm(n,C)}while(!0);bc(),$l.current=m,ze=d,ct!==null?r=0:(Tt=null,kt=0,r=yt)}if(r!==0){if(r===2&&(d=tn(n),d!==0&&(c=d,r=_h(n,d))),r===1)throw a=oa,ji(n,0),Yr(n,c),Yt(n,Qe()),a;if(r===6)Yr(n,c);else{if(d=n.current.alternate,!(c&30)&&!$_(d)&&(r=Yl(n,c),r===2&&(m=tn(n),m!==0&&(c=m,r=_h(n,m))),r===1))throw a=oa,ji(n,0),Yr(n,c),Yt(n,Qe()),a;switch(n.finishedWork=d,n.finishedLanes=c,r){case 0:case 1:throw Error(t(345));case 2:zi(n,Gt,Er);break;case 3:if(Yr(n,c),(c&130023424)===c&&(r=gh+500-Qe(),10<r)){if(Ci(n,0)!==0)break;if(d=n.suspendedLanes,(d&c)!==c){$t(),n.pingedLanes|=n.suspendedLanes&d;break}n.timeoutHandle=Cc(zi.bind(null,n,Gt,Er),r);break}zi(n,Gt,Er);break;case 4:if(Yr(n,c),(c&4194240)===c)break;for(r=n.eventTimes,d=-1;0<c;){var _=31-jt(c);m=1<<_,_=r[_],_>d&&(d=_),c&=~m}if(c=d,c=Qe()-c,c=(120>c?120:480>c?480:1080>c?1080:1920>c?1920:3e3>c?3e3:4320>c?4320:1960*B_(c/1960))-c,10<c){n.timeoutHandle=Cc(zi.bind(null,n,Gt,Er),c);break}zi(n,Gt,Er);break;case 5:zi(n,Gt,Er);break;default:throw Error(t(329))}}}return Yt(n,Qe()),n.callbackNode===a?tm.bind(null,n):null}function _h(n,r){var a=aa;return n.current.memoizedState.isDehydrated&&(ji(n,r).flags|=256),n=Yl(n,r),n!==2&&(r=Gt,Gt=a,r!==null&&wh(r)),n}function wh(n){Gt===null?Gt=n:Gt.push.apply(Gt,n)}function $_(n){for(var r=n;;){if(r.flags&16384){var a=r.updateQueue;if(a!==null&&(a=a.stores,a!==null))for(var c=0;c<a.length;c++){var d=a[c],m=d.getSnapshot;d=d.value;try{if(!Nn(m(),d))return!1}catch{return!1}}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Yr(n,r){for(r&=~mh,r&=~ql,n.suspendedLanes|=r,n.pingedLanes&=~r,n=n.expirationTimes;0<r;){var a=31-jt(r),c=1<<a;n[a]=-1,r&=~c}}function nm(n){if(ze&6)throw Error(t(327));Hs();var r=Ci(n,0);if(!(r&1))return Yt(n,Qe()),null;var a=Yl(n,r);if(n.tag!==0&&a===2){var c=tn(n);c!==0&&(r=c,a=_h(n,c))}if(a===1)throw a=oa,ji(n,0),Yr(n,r),Yt(n,Qe()),a;if(a===6)throw Error(t(345));return n.finishedWork=n.current.alternate,n.finishedLanes=r,zi(n,Gt,Er),Yt(n,Qe()),null}function Eh(n,r){var a=ze;ze|=1;try{return n(r)}finally{ze=a,ze===0&&(qs=Qe()+500,Il&&$r())}}function Ui(n){Kr!==null&&Kr.tag===0&&!(ze&6)&&Hs();var r=ze;ze|=1;var a=yn.transition,c=Me;try{if(yn.transition=null,Me=1,n)return n()}finally{Me=c,yn.transition=a,ze=r,!(ze&6)&&$r()}}function Th(){an=$s.current,Ye($s)}function ji(n,r){n.finishedWork=null,n.finishedLanes=0;var a=n.timeoutHandle;if(a!==-1&&(n.timeoutHandle=-1,__(a)),ct!==null)for(a=ct.return;a!==null;){var c=a;switch(Nc(c),c.tag){case 1:c=c.type.childContextTypes,c!=null&&El();break;case 3:js(),Ye(Wt),Ye(Vt),qc();break;case 5:Bc(c);break;case 4:js();break;case 13:Ye(tt);break;case 19:Ye(tt);break;case 10:Mc(c.type._context);break;case 22:case 23:Th()}a=a.return}if(Tt=n,ct=n=Xr(n.current,null),kt=an=r,yt=0,oa=null,mh=ql=Fi=0,Gt=aa=null,Oi!==null){for(r=0;r<Oi.length;r++)if(a=Oi[r],c=a.interleaved,c!==null){a.interleaved=null;var d=c.next,m=a.pending;if(m!==null){var _=m.next;m.next=d,c.next=_}a.pending=c}Oi=null}return n}function rm(n,r){do{var a=ct;try{if(bc(),Vl.current=Ml,Ll){for(var c=nt.memoizedState;c!==null;){var d=c.queue;d!==null&&(d.pending=null),c=c.next}Ll=!1}if(Mi=0,Et=gt=nt=null,ea=!1,ta=0,ph.current=null,a===null||a.return===null){yt=1,oa=r,ct=null;break}e:{var m=n,_=a.return,C=a,P=r;if(r=kt,C.flags|=32768,P!==null&&typeof P=="object"&&typeof P.then=="function"){var $=P,Z=C,ee=Z.tag;if(!(Z.mode&1)&&(ee===0||ee===11||ee===15)){var J=Z.alternate;J?(Z.updateQueue=J.updateQueue,Z.memoizedState=J.memoizedState,Z.lanes=J.lanes):(Z.updateQueue=null,Z.memoizedState=null)}var oe=Pp(_);if(oe!==null){oe.flags&=-257,kp(oe,_,C,m,r),oe.mode&1&&Rp(m,$,r),r=oe,P=$;var pe=r.updateQueue;if(pe===null){var me=new Set;me.add(P),r.updateQueue=me}else pe.add(P);break e}else{if(!(r&1)){Rp(m,$,r),Ih();break e}P=Error(t(426))}}else if(Ze&&C.mode&1){var at=Pp(_);if(at!==null){!(at.flags&65536)&&(at.flags|=256),kp(at,_,C,m,r),Lc(zs(P,C));break e}}m=P=zs(P,C),yt!==4&&(yt=2),aa===null?aa=[m]:aa.push(m),m=_;do{switch(m.tag){case 3:m.flags|=65536,r&=-r,m.lanes|=r;var F=Cp(m,P,r);Jf(m,F);break e;case 1:C=P;var D=m.type,z=m.stateNode;if(!(m.flags&128)&&(typeof D.getDerivedStateFromError=="function"||z!==null&&typeof z.componentDidCatch=="function"&&(Qr===null||!Qr.has(z)))){m.flags|=65536,r&=-r,m.lanes|=r;var re=Ap(m,C,r);Jf(m,re);break e}}m=m.return}while(m!==null)}om(a)}catch(ge){r=ge,ct===a&&a!==null&&(ct=a=a.return);continue}break}while(!0)}function im(){var n=$l.current;return $l.current=Ml,n===null?Ml:n}function Ih(){(yt===0||yt===3||yt===2)&&(yt=4),Tt===null||!(Fi&268435455)&&!(ql&268435455)||Yr(Tt,kt)}function Yl(n,r){var a=ze;ze|=2;var c=im();(Tt!==n||kt!==r)&&(Er=null,ji(n,r));do try{q_();break}catch(d){rm(n,d)}while(!0);if(bc(),ze=a,$l.current=c,ct!==null)throw Error(t(261));return Tt=null,kt=0,yt}function q_(){for(;ct!==null;)sm(ct)}function H_(){for(;ct!==null&&!Qa();)sm(ct)}function sm(n){var r=um(n.alternate,n,an);n.memoizedProps=n.pendingProps,r===null?om(n):ct=r,ph.current=null}function om(n){var r=n;do{var a=r.alternate;if(n=r.return,r.flags&32768){if(a=F_(a,r),a!==null){a.flags&=32767,ct=a;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{yt=6,ct=null;return}}else if(a=M_(a,r,an),a!==null){ct=a;return}if(r=r.sibling,r!==null){ct=r;return}ct=r=n}while(r!==null);yt===0&&(yt=5)}function zi(n,r,a){var c=Me,d=yn.transition;try{yn.transition=null,Me=1,W_(n,r,a,c)}finally{yn.transition=d,Me=c}return null}function W_(n,r,a,c){do Hs();while(Kr!==null);if(ze&6)throw Error(t(327));a=n.finishedWork;var d=n.finishedLanes;if(a===null)return null;if(n.finishedWork=null,n.finishedLanes=0,a===n.current)throw Error(t(177));n.callbackNode=null,n.callbackPriority=0;var m=a.lanes|a.childLanes;if(We(n,m),n===Tt&&(ct=Tt=null,kt=0),!(a.subtreeFlags&2064)&&!(a.flags&2064)||Wl||(Wl=!0,cm(cn,function(){return Hs(),null})),m=(a.flags&15990)!==0,a.subtreeFlags&15990||m){m=yn.transition,yn.transition=null;var _=Me;Me=1;var C=ze;ze|=4,ph.current=null,j_(n,a),Yp(a,n),d_(Ic),Mr=!!Tc,Ic=Tc=null,n.current=a,z_(a),oc(),ze=C,Me=_,yn.transition=m}else n.current=a;if(Wl&&(Wl=!1,Kr=n,Ql=d),m=n.pendingLanes,m===0&&(Qr=null),Ya(a.stateNode),Yt(n,Qe()),r!==null)for(c=n.onRecoverableError,a=0;a<r.length;a++)d=r[a],c(d.value,{componentStack:d.stack,digest:d.digest});if(Hl)throw Hl=!1,n=yh,yh=null,n;return Ql&1&&n.tag!==0&&Hs(),m=n.pendingLanes,m&1?n===vh?la++:(la=0,vh=n):la=0,$r(),null}function Hs(){if(Kr!==null){var n=Or(Ql),r=yn.transition,a=Me;try{if(yn.transition=null,Me=16>n?16:n,Kr===null)var c=!1;else{if(n=Kr,Kr=null,Ql=0,ze&6)throw Error(t(331));var d=ze;for(ze|=4,de=n.current;de!==null;){var m=de,_=m.child;if(de.flags&16){var C=m.deletions;if(C!==null){for(var P=0;P<C.length;P++){var $=C[P];for(de=$;de!==null;){var Z=de;switch(Z.tag){case 0:case 11:case 15:sa(8,Z,m)}var ee=Z.child;if(ee!==null)ee.return=Z,de=ee;else for(;de!==null;){Z=de;var J=Z.sibling,oe=Z.return;if(Hp(Z),Z===$){de=null;break}if(J!==null){J.return=oe,de=J;break}de=oe}}}var pe=m.alternate;if(pe!==null){var me=pe.child;if(me!==null){pe.child=null;do{var at=me.sibling;me.sibling=null,me=at}while(me!==null)}}de=m}}if(m.subtreeFlags&2064&&_!==null)_.return=m,de=_;else e:for(;de!==null;){if(m=de,m.flags&2048)switch(m.tag){case 0:case 11:case 15:sa(9,m,m.return)}var F=m.sibling;if(F!==null){F.return=m.return,de=F;break e}de=m.return}}var D=n.current;for(de=D;de!==null;){_=de;var z=_.child;if(_.subtreeFlags&2064&&z!==null)z.return=_,de=z;else e:for(_=D;de!==null;){if(C=de,C.flags&2048)try{switch(C.tag){case 0:case 11:case 15:Bl(9,C)}}catch(ge){st(C,C.return,ge)}if(C===_){de=null;break e}var re=C.sibling;if(re!==null){re.return=C.return,de=re;break e}de=C.return}}if(ze=d,$r(),en&&typeof en.onPostCommitFiberRoot=="function")try{en.onPostCommitFiberRoot(Si,n)}catch{}c=!0}return c}finally{Me=a,yn.transition=r}}return!1}function am(n,r,a){r=zs(a,r),r=Cp(n,r,1),n=Hr(n,r,1),r=$t(),n!==null&&(Vr(n,1,r),Yt(n,r))}function st(n,r,a){if(n.tag===3)am(n,n,a);else for(;r!==null;){if(r.tag===3){am(r,n,a);break}else if(r.tag===1){var c=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Qr===null||!Qr.has(c))){n=zs(a,n),n=Ap(r,n,1),r=Hr(r,n,1),n=$t(),r!==null&&(Vr(r,1,n),Yt(r,n));break}}r=r.return}}function Q_(n,r,a){var c=n.pingCache;c!==null&&c.delete(r),r=$t(),n.pingedLanes|=n.suspendedLanes&a,Tt===n&&(kt&a)===a&&(yt===4||yt===3&&(kt&130023424)===kt&&500>Qe()-gh?ji(n,0):mh|=a),Yt(n,r)}function lm(n,r){r===0&&(n.mode&1?(r=ps,ps<<=1,!(ps&130023424)&&(ps=4194304)):r=1);var a=$t();n=vr(n,r),n!==null&&(Vr(n,r,a),Yt(n,a))}function K_(n){var r=n.memoizedState,a=0;r!==null&&(a=r.retryLane),lm(n,a)}function G_(n,r){var a=0;switch(n.tag){case 13:var c=n.stateNode,d=n.memoizedState;d!==null&&(a=d.retryLane);break;case 19:c=n.stateNode;break;default:throw Error(t(314))}c!==null&&c.delete(r),lm(n,a)}var um;um=function(n,r,a){if(n!==null)if(n.memoizedProps!==r.pendingProps||Wt.current)Kt=!0;else{if(!(n.lanes&a)&&!(r.flags&128))return Kt=!1,b_(n,r,a);Kt=!!(n.flags&131072)}else Kt=!1,Ze&&r.flags&1048576&&Bf(r,Cl,r.index);switch(r.lanes=0,r.tag){case 2:var c=r.type;jl(n,r),n=r.pendingProps;var d=Vs(r,Vt.current);Us(r,a),d=Qc(null,r,c,n,d,a);var m=Kc();return r.flags|=1,typeof d=="object"&&d!==null&&typeof d.render=="function"&&d.$$typeof===void 0?(r.tag=1,r.memoizedState=null,r.updateQueue=null,Qt(c)?(m=!0,Tl(r)):m=!1,r.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,jc(r),d.updater=Fl,r.stateNode=d,d._reactInternals=r,eh(r,c,n,a),r=ih(null,r,c,!0,m,a)):(r.tag=0,Ze&&m&&xc(r),Bt(null,r,d,a),r=r.child),r;case 16:c=r.elementType;e:{switch(jl(n,r),n=r.pendingProps,d=c._init,c=d(c._payload),r.type=c,d=r.tag=X_(c),n=Vn(c,n),d){case 0:r=rh(null,r,c,n,a);break e;case 1:r=Op(null,r,c,n,a);break e;case 11:r=xp(null,r,c,n,a);break e;case 14:r=Np(null,r,c,Vn(c.type,n),a);break e}throw Error(t(306,c,""))}return r;case 0:return c=r.type,d=r.pendingProps,d=r.elementType===c?d:Vn(c,d),rh(n,r,c,d,a);case 1:return c=r.type,d=r.pendingProps,d=r.elementType===c?d:Vn(c,d),Op(n,r,c,d,a);case 3:e:{if(bp(r),n===null)throw Error(t(387));c=r.pendingProps,m=r.memoizedState,d=m.element,Xf(n,r),Nl(r,c,null,a);var _=r.memoizedState;if(c=_.element,m.isDehydrated)if(m={element:c,isDehydrated:!1,cache:_.cache,pendingSuspenseBoundaries:_.pendingSuspenseBoundaries,transitions:_.transitions},r.updateQueue.baseState=m,r.memoizedState=m,r.flags&256){d=zs(Error(t(423)),r),r=Mp(n,r,c,a,d);break e}else if(c!==d){d=zs(Error(t(424)),r),r=Mp(n,r,c,a,d);break e}else for(on=jr(r.stateNode.containerInfo.firstChild),sn=r,Ze=!0,Dn=null,a=Gf(r,null,c,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(bs(),c===d){r=wr(n,r,a);break e}Bt(n,r,c,a)}r=r.child}return r;case 5:return ep(r),n===null&&Vc(r),c=r.type,d=r.pendingProps,m=n!==null?n.memoizedProps:null,_=d.children,Sc(c,d)?_=null:m!==null&&Sc(c,m)&&(r.flags|=32),Lp(n,r),Bt(n,r,_,a),r.child;case 6:return n===null&&Vc(r),null;case 13:return Fp(n,r,a);case 4:return zc(r,r.stateNode.containerInfo),c=r.pendingProps,n===null?r.child=Ms(r,null,c,a):Bt(n,r,c,a),r.child;case 11:return c=r.type,d=r.pendingProps,d=r.elementType===c?d:Vn(c,d),xp(n,r,c,d,a);case 7:return Bt(n,r,r.pendingProps,a),r.child;case 8:return Bt(n,r,r.pendingProps.children,a),r.child;case 12:return Bt(n,r,r.pendingProps.children,a),r.child;case 10:e:{if(c=r.type._context,d=r.pendingProps,m=r.memoizedProps,_=d.value,Ke(Pl,c._currentValue),c._currentValue=_,m!==null)if(Nn(m.value,_)){if(m.children===d.children&&!Wt.current){r=wr(n,r,a);break e}}else for(m=r.child,m!==null&&(m.return=r);m!==null;){var C=m.dependencies;if(C!==null){_=m.child;for(var P=C.firstContext;P!==null;){if(P.context===c){if(m.tag===1){P=_r(-1,a&-a),P.tag=2;var $=m.updateQueue;if($!==null){$=$.shared;var Z=$.pending;Z===null?P.next=P:(P.next=Z.next,Z.next=P),$.pending=P}}m.lanes|=a,P=m.alternate,P!==null&&(P.lanes|=a),Fc(m.return,a,r),C.lanes|=a;break}P=P.next}}else if(m.tag===10)_=m.type===r.type?null:m.child;else if(m.tag===18){if(_=m.return,_===null)throw Error(t(341));_.lanes|=a,C=_.alternate,C!==null&&(C.lanes|=a),Fc(_,a,r),_=m.sibling}else _=m.child;if(_!==null)_.return=m;else for(_=m;_!==null;){if(_===r){_=null;break}if(m=_.sibling,m!==null){m.return=_.return,_=m;break}_=_.return}m=_}Bt(n,r,d.children,a),r=r.child}return r;case 9:return d=r.type,c=r.pendingProps.children,Us(r,a),d=mn(d),c=c(d),r.flags|=1,Bt(n,r,c,a),r.child;case 14:return c=r.type,d=Vn(c,r.pendingProps),d=Vn(c.type,d),Np(n,r,c,d,a);case 15:return Dp(n,r,r.type,r.pendingProps,a);case 17:return c=r.type,d=r.pendingProps,d=r.elementType===c?d:Vn(c,d),jl(n,r),r.tag=1,Qt(c)?(n=!0,Tl(r)):n=!1,Us(r,a),Ip(r,c,d),eh(r,c,d,a),ih(null,r,c,!0,n,a);case 19:return jp(n,r,a);case 22:return Vp(n,r,a)}throw Error(t(156,r.tag))};function cm(n,r){return ds(n,r)}function Y_(n,r,a,c){this.tag=n,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function vn(n,r,a,c){return new Y_(n,r,a,c)}function Sh(n){return n=n.prototype,!(!n||!n.isReactComponent)}function X_(n){if(typeof n=="function")return Sh(n)?1:0;if(n!=null){if(n=n.$$typeof,n===x)return 11;if(n===be)return 14}return 2}function Xr(n,r){var a=n.alternate;return a===null?(a=vn(n.tag,r,n.key,n.mode),a.elementType=n.elementType,a.type=n.type,a.stateNode=n.stateNode,a.alternate=n,n.alternate=a):(a.pendingProps=r,a.type=n.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=n.flags&14680064,a.childLanes=n.childLanes,a.lanes=n.lanes,a.child=n.child,a.memoizedProps=n.memoizedProps,a.memoizedState=n.memoizedState,a.updateQueue=n.updateQueue,r=n.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=n.sibling,a.index=n.index,a.ref=n.ref,a}function Xl(n,r,a,c,d,m){var _=2;if(c=n,typeof n=="function")Sh(n)&&(_=1);else if(typeof n=="string")_=5;else e:switch(n){case N:return Bi(a.children,d,m,r);case T:_=8,d|=8;break;case R:return n=vn(12,a,r,d|2),n.elementType=R,n.lanes=m,n;case S:return n=vn(13,a,r,d),n.elementType=S,n.lanes=m,n;case Ce:return n=vn(19,a,r,d),n.elementType=Ce,n.lanes=m,n;case ke:return Jl(a,d,m,r);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case k:_=10;break e;case V:_=9;break e;case x:_=11;break e;case be:_=14;break e;case De:_=16,c=null;break e}throw Error(t(130,n==null?n:typeof n,""))}return r=vn(_,a,r,d),r.elementType=n,r.type=c,r.lanes=m,r}function Bi(n,r,a,c){return n=vn(7,n,c,r),n.lanes=a,n}function Jl(n,r,a,c){return n=vn(22,n,c,r),n.elementType=ke,n.lanes=a,n.stateNode={isHidden:!1},n}function Ch(n,r,a){return n=vn(6,n,null,r),n.lanes=a,n}function Ah(n,r,a){return r=vn(4,n.children!==null?n.children:[],n.key,r),r.lanes=a,r.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},r}function J_(n,r,a,c,d){this.tag=r,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Dr(0),this.expirationTimes=Dr(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Dr(0),this.identifierPrefix=c,this.onRecoverableError=d,this.mutableSourceEagerHydrationData=null}function Rh(n,r,a,c,d,m,_,C,P){return n=new J_(n,r,a,C,P),r===1?(r=1,m===!0&&(r|=8)):r=0,m=vn(3,null,null,r),n.current=m,m.stateNode=n,m.memoizedState={element:c,isDehydrated:a,cache:null,transitions:null,pendingSuspenseBoundaries:null},jc(m),n}function Z_(n,r,a){var c=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Te,key:c==null?null:""+c,children:n,containerInfo:r,implementation:a}}function hm(n){if(!n)return Br;n=n._reactInternals;e:{if(Sn(n)!==n||n.tag!==1)throw Error(t(170));var r=n;do{switch(r.tag){case 3:r=r.stateNode.context;break e;case 1:if(Qt(r.type)){r=r.stateNode.__reactInternalMemoizedMergedChildContext;break e}}r=r.return}while(r!==null);throw Error(t(171))}if(n.tag===1){var a=n.type;if(Qt(a))return Uf(n,a,r)}return r}function dm(n,r,a,c,d,m,_,C,P){return n=Rh(a,c,!0,n,d,m,_,C,P),n.context=hm(null),a=n.current,c=$t(),d=Gr(a),m=_r(c,d),m.callback=r??null,Hr(a,m,d),n.current.lanes=d,Vr(n,d,c),Yt(n,c),n}function Zl(n,r,a,c){var d=r.current,m=$t(),_=Gr(d);return a=hm(a),r.context===null?r.context=a:r.pendingContext=a,r=_r(m,_),r.payload={element:n},c=c===void 0?null:c,c!==null&&(r.callback=c),n=Hr(d,r,_),n!==null&&(bn(n,d,_,m),xl(n,d,_)),_}function eu(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function fm(n,r){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var a=n.retryLane;n.retryLane=a!==0&&a<r?a:r}}function Ph(n,r){fm(n,r),(n=n.alternate)&&fm(n,r)}var pm=typeof reportError=="function"?reportError:function(n){console.error(n)};function kh(n){this._internalRoot=n}tu.prototype.render=kh.prototype.render=function(n){var r=this._internalRoot;if(r===null)throw Error(t(409));Zl(n,r,null,null)},tu.prototype.unmount=kh.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var r=n.containerInfo;Ui(function(){Zl(null,n,null,null)}),r[pr]=null}};function tu(n){this._internalRoot=n}tu.prototype.unstable_scheduleHydration=function(n){if(n){var r=tl();n={blockedOn:null,target:n,priority:r};for(var a=0;a<qn.length&&r!==0&&r<qn[a].priority;a++);qn.splice(a,0,n),a===0&&il(n)}};function xh(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function nu(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function mm(){}function e0(n,r,a,c,d){if(d){if(typeof c=="function"){var m=c;c=function(){var $=eu(_);m.call($)}}var _=dm(r,c,n,0,null,!1,!1,"",mm);return n._reactRootContainer=_,n[pr]=_.current,Wo(n.nodeType===8?n.parentNode:n),Ui(),_}for(;d=n.lastChild;)n.removeChild(d);if(typeof c=="function"){var C=c;c=function(){var $=eu(P);C.call($)}}var P=Rh(n,0,!1,null,null,!1,!1,"",mm);return n._reactRootContainer=P,n[pr]=P.current,Wo(n.nodeType===8?n.parentNode:n),Ui(function(){Zl(r,P,a,c)}),P}function ru(n,r,a,c,d){var m=a._reactRootContainer;if(m){var _=m;if(typeof d=="function"){var C=d;d=function(){var P=eu(_);C.call(P)}}Zl(r,_,n,d)}else _=e0(a,r,n,d,c);return eu(_)}Za=function(n){switch(n.tag){case 3:var r=n.stateNode;if(r.current.memoizedState.isDehydrated){var a=Nr(r.pendingLanes);a!==0&&(Lr(r,a|1),Yt(r,Qe()),!(ze&6)&&(qs=Qe()+500,$r()))}break;case 13:Ui(function(){var c=vr(n,1);if(c!==null){var d=$t();bn(c,n,1,d)}}),Ph(n,1)}},ms=function(n){if(n.tag===13){var r=vr(n,134217728);if(r!==null){var a=$t();bn(r,n,134217728,a)}Ph(n,134217728)}},el=function(n){if(n.tag===13){var r=Gr(n),a=vr(n,r);if(a!==null){var c=$t();bn(a,n,r,c)}Ph(n,r)}},tl=function(){return Me},nl=function(n,r){var a=Me;try{return Me=n,r()}finally{Me=a}},os=function(n,r,a){switch(r){case"input":if(yo(n,a),r=a.name,a.type==="radio"&&r!=null){for(a=n;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll("input[name="+JSON.stringify(""+r)+'][type="radio"]'),r=0;r<a.length;r++){var c=a[r];if(c!==n&&c.form===n.form){var d=wl(c);if(!d)throw Error(t(90));En(c),yo(c,d)}}}break;case"textarea":is(n,a);break;case"select":r=a.value,r!=null&&or(n,!!a.multiple,r,!1)}},_i=Eh,Ro=Ui;var t0={usingClientEntryPoint:!1,Events:[Go,Ns,wl,Bn,Ao,Eh]},ua={findFiberByHostInstance:Ni,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},n0={bundleType:ua.bundleType,version:ua.version,rendererPackageName:ua.rendererPackageName,rendererConfig:ua.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:fe.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=xo(n),n===null?null:n.stateNode},findFiberByHostInstance:ua.findFiberByHostInstance,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var iu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!iu.isDisabled&&iu.supportsFiber)try{Si=iu.inject(n0),en=iu}catch{}}return Xt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=t0,Xt.createPortal=function(n,r){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!xh(r))throw Error(t(200));return Z_(n,r,null,a)},Xt.createRoot=function(n,r){if(!xh(n))throw Error(t(299));var a=!1,c="",d=pm;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(c=r.identifierPrefix),r.onRecoverableError!==void 0&&(d=r.onRecoverableError)),r=Rh(n,1,!1,null,null,a,!1,c,d),n[pr]=r.current,Wo(n.nodeType===8?n.parentNode:n),new kh(r)},Xt.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var r=n._reactInternals;if(r===void 0)throw typeof n.render=="function"?Error(t(188)):(n=Object.keys(n).join(","),Error(t(268,n)));return n=xo(r),n=n===null?null:n.stateNode,n},Xt.flushSync=function(n){return Ui(n)},Xt.hydrate=function(n,r,a){if(!nu(r))throw Error(t(200));return ru(null,n,r,!0,a)},Xt.hydrateRoot=function(n,r,a){if(!xh(n))throw Error(t(405));var c=a!=null&&a.hydratedSources||null,d=!1,m="",_=pm;if(a!=null&&(a.unstable_strictMode===!0&&(d=!0),a.identifierPrefix!==void 0&&(m=a.identifierPrefix),a.onRecoverableError!==void 0&&(_=a.onRecoverableError)),r=dm(r,null,n,1,a??null,d,!1,m,_),n[pr]=r.current,Wo(n),c)for(n=0;n<c.length;n++)a=c[n],d=a._getVersion,d=d(a._source),r.mutableSourceEagerHydrationData==null?r.mutableSourceEagerHydrationData=[a,d]:r.mutableSourceEagerHydrationData.push(a,d);return new tu(r)},Xt.render=function(n,r,a){if(!nu(r))throw Error(t(200));return ru(null,n,r,!1,a)},Xt.unmountComponentAtNode=function(n){if(!nu(n))throw Error(t(40));return n._reactRootContainer?(Ui(function(){ru(null,null,n,!1,function(){n._reactRootContainer=null,n[pr]=null})}),!0):!1},Xt.unstable_batchedUpdates=Eh,Xt.unstable_renderSubtreeIntoContainer=function(n,r,a,c){if(!nu(a))throw Error(t(200));if(n==null||n._reactInternals===void 0)throw Error(t(38));return ru(n,r,a,!1,c)},Xt.version="18.3.1-next-f1338f8080-20240426",Xt}var Im;function h0(){if(Im)return Vh.exports;Im=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Vh.exports=c0(),Vh.exports}var Sm;function d0(){if(Sm)return su;Sm=1;var i=h0();return su.createRoot=i.createRoot,su.hydrateRoot=i.hydrateRoot,su}var f0=d0(),ha={},Cm;function p0(){if(Cm)return ha;Cm=1,Object.defineProperty(ha,"__esModule",{value:!0}),ha.parse=h,ha.serialize=v;const i=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,u=(()=>{const A=function(){};return A.prototype=Object.create(null),A})();function h(A,O){const b=new u,q=A.length;if(q<2)return b;const j=(O==null?void 0:O.decode)||w;let Q=0;do{const X=A.indexOf("=",Q);if(X===-1)break;const se=A.indexOf(";",Q),fe=se===-1?q:se;if(X>fe){Q=A.lastIndexOf(";",X-1)+1;continue}const Pe=f(A,Q,X),Te=g(A,X,Pe),N=A.slice(Pe,Te);if(b[N]===void 0){let T=f(A,X+1,fe),R=g(A,fe,T);const k=j(A.slice(T,R));b[N]=k}Q=fe+1}while(Q<q);return b}function f(A,O,b){do{const q=A.charCodeAt(O);if(q!==32&&q!==9)return O}while(++O<b);return b}function g(A,O,b){for(;O>b;){const q=A.charCodeAt(--O);if(q!==32&&q!==9)return O+1}return b}function v(A,O,b){const q=(b==null?void 0:b.encode)||encodeURIComponent;if(!i.test(A))throw new TypeError(`argument name is invalid: ${A}`);const j=q(O);if(!e.test(j))throw new TypeError(`argument val is invalid: ${O}`);let Q=A+"="+j;if(!b)return Q;if(b.maxAge!==void 0){if(!Number.isInteger(b.maxAge))throw new TypeError(`option maxAge is invalid: ${b.maxAge}`);Q+="; Max-Age="+b.maxAge}if(b.domain){if(!t.test(b.domain))throw new TypeError(`option domain is invalid: ${b.domain}`);Q+="; Domain="+b.domain}if(b.path){if(!s.test(b.path))throw new TypeError(`option path is invalid: ${b.path}`);Q+="; Path="+b.path}if(b.expires){if(!I(b.expires)||!Number.isFinite(b.expires.valueOf()))throw new TypeError(`option expires is invalid: ${b.expires}`);Q+="; Expires="+b.expires.toUTCString()}if(b.httpOnly&&(Q+="; HttpOnly"),b.secure&&(Q+="; Secure"),b.partitioned&&(Q+="; Partitioned"),b.priority)switch(typeof b.priority=="string"?b.priority.toLowerCase():void 0){case"low":Q+="; Priority=Low";break;case"medium":Q+="; Priority=Medium";break;case"high":Q+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${b.priority}`)}if(b.sameSite)switch(typeof b.sameSite=="string"?b.sameSite.toLowerCase():b.sameSite){case!0:case"strict":Q+="; SameSite=Strict";break;case"lax":Q+="; SameSite=Lax";break;case"none":Q+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${b.sameSite}`)}return Q}function w(A){if(A.indexOf("%")===-1)return A;try{return decodeURIComponent(A)}catch{return A}}function I(A){return o.call(A)==="[object Date]"}return ha}p0();/**
 * react-router v7.1.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Am="popstate";function m0(i={}){function e(s,o){let{pathname:u,search:h,hash:f}=s.location;return Gh("",{pathname:u,search:h,hash:f},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(s,o){return typeof o=="string"?o:Ca(o)}return y0(e,t,null,i)}function rt(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function tr(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function g0(){return Math.random().toString(36).substring(2,10)}function Rm(i,e){return{usr:i.state,key:i.key,idx:e}}function Gh(i,e,t=null,s){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof e=="string"?lo(e):e,state:t,key:e&&e.key||s||g0()}}function Ca({pathname:i="/",search:e="",hash:t=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(i+=t.charAt(0)==="#"?t:"#"+t),i}function lo(i){let e={};if(i){let t=i.indexOf("#");t>=0&&(e.hash=i.substring(t),i=i.substring(0,t));let s=i.indexOf("?");s>=0&&(e.search=i.substring(s),i=i.substring(0,s)),i&&(e.pathname=i)}return e}function y0(i,e,t,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,h=o.history,f="POP",g=null,v=w();v==null&&(v=0,h.replaceState({...h.state,idx:v},""));function w(){return(h.state||{idx:null}).idx}function I(){f="POP";let j=w(),Q=j==null?null:j-v;v=j,g&&g({action:f,location:q.location,delta:Q})}function A(j,Q){f="PUSH";let X=Gh(q.location,j,Q);v=w()+1;let se=Rm(X,v),fe=q.createHref(X);try{h.pushState(se,"",fe)}catch(Pe){if(Pe instanceof DOMException&&Pe.name==="DataCloneError")throw Pe;o.location.assign(fe)}u&&g&&g({action:f,location:q.location,delta:1})}function O(j,Q){f="REPLACE";let X=Gh(q.location,j,Q);v=w();let se=Rm(X,v),fe=q.createHref(X);h.replaceState(se,"",fe),u&&g&&g({action:f,location:q.location,delta:0})}function b(j){let Q=o.location.origin!=="null"?o.location.origin:o.location.href,X=typeof j=="string"?j:Ca(j);return X=X.replace(/ $/,"%20"),rt(Q,`No window.location.(origin|href) available to create URL for href: ${X}`),new URL(X,Q)}let q={get action(){return f},get location(){return i(o,h)},listen(j){if(g)throw new Error("A history only accepts one active listener");return o.addEventListener(Am,I),g=j,()=>{o.removeEventListener(Am,I),g=null}},createHref(j){return e(o,j)},createURL:b,encodeLocation(j){let Q=b(j);return{pathname:Q.pathname,search:Q.search,hash:Q.hash}},push:A,replace:O,go(j){return h.go(j)}};return q}function Ug(i,e,t="/"){return v0(i,e,t,!1)}function v0(i,e,t,s){let o=typeof e=="string"?lo(e):e,u=ai(o.pathname||"/",t);if(u==null)return null;let h=jg(i);_0(h);let f=null;for(let g=0;f==null&&g<h.length;++g){let v=x0(u);f=P0(h[g],v,s)}return f}function jg(i,e=[],t=[],s=""){let o=(u,h,f)=>{let g={relativePath:f===void 0?u.path||"":f,caseSensitive:u.caseSensitive===!0,childrenIndex:h,route:u};g.relativePath.startsWith("/")&&(rt(g.relativePath.startsWith(s),`Absolute route path "${g.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(s.length));let v=Ir([s,g.relativePath]),w=t.concat(g);u.children&&u.children.length>0&&(rt(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${v}".`),jg(u.children,e,w,v)),!(u.path==null&&!u.index)&&e.push({path:v,score:A0(v,u.index),routesMeta:w})};return i.forEach((u,h)=>{var f;if(u.path===""||!((f=u.path)!=null&&f.includes("?")))o(u,h);else for(let g of zg(u.path))o(u,h,g)}),e}function zg(i){let e=i.split("/");if(e.length===0)return[];let[t,...s]=e,o=t.endsWith("?"),u=t.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let h=zg(s.join("/")),f=[];return f.push(...h.map(g=>g===""?u:[u,g].join("/"))),o&&f.push(...h),f.map(g=>i.startsWith("/")&&g===""?"/":g)}function _0(i){i.sort((e,t)=>e.score!==t.score?t.score-e.score:R0(e.routesMeta.map(s=>s.childrenIndex),t.routesMeta.map(s=>s.childrenIndex)))}var w0=/^:[\w-]+$/,E0=3,T0=2,I0=1,S0=10,C0=-2,Pm=i=>i==="*";function A0(i,e){let t=i.split("/"),s=t.length;return t.some(Pm)&&(s+=C0),e&&(s+=T0),t.filter(o=>!Pm(o)).reduce((o,u)=>o+(w0.test(u)?E0:u===""?I0:S0),s)}function R0(i,e){return i.length===e.length&&i.slice(0,-1).every((s,o)=>s===e[o])?i[i.length-1]-e[e.length-1]:0}function P0(i,e,t=!1){let{routesMeta:s}=i,o={},u="/",h=[];for(let f=0;f<s.length;++f){let g=s[f],v=f===s.length-1,w=u==="/"?e:e.slice(u.length)||"/",I=Iu({path:g.relativePath,caseSensitive:g.caseSensitive,end:v},w),A=g.route;if(!I&&v&&t&&!s[s.length-1].route.index&&(I=Iu({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},w)),!I)return null;Object.assign(o,I.params),h.push({params:o,pathname:Ir([u,I.pathname]),pathnameBase:L0(Ir([u,I.pathnameBase])),route:A}),I.pathnameBase!=="/"&&(u=Ir([u,I.pathnameBase]))}return h}function Iu(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[t,s]=k0(i.path,i.caseSensitive,i.end),o=e.match(t);if(!o)return null;let u=o[0],h=u.replace(/(.)\/+$/,"$1"),f=o.slice(1);return{params:s.reduce((v,{paramName:w,isOptional:I},A)=>{if(w==="*"){let b=f[A]||"";h=u.slice(0,u.length-b.length).replace(/(.)\/+$/,"$1")}const O=f[A];return I&&!O?v[w]=void 0:v[w]=(O||"").replace(/%2F/g,"/"),v},{}),pathname:u,pathnameBase:h,pattern:i}}function k0(i,e=!1,t=!0){tr(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let s=[],o="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,f,g)=>(s.push({paramName:f,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)"));return i.endsWith("*")?(s.push({paramName:"*"}),o+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":i!==""&&i!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function x0(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return tr(!1,`The URL path "${i}" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function ai(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,s=i.charAt(t);return s&&s!=="/"?null:i.slice(t)||"/"}function N0(i,e="/"){let{pathname:t,search:s="",hash:o=""}=typeof i=="string"?lo(i):i;return{pathname:t?t.startsWith("/")?t:D0(t,e):e,search:O0(s),hash:b0(o)}}function D0(i,e){let t=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function bh(i,e,t,s){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function V0(i){return i.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Bg(i){let e=V0(i);return e.map((t,s)=>s===e.length-1?t.pathname:t.pathnameBase)}function $g(i,e,t,s=!1){let o;typeof i=="string"?o=lo(i):(o={...i},rt(!o.pathname||!o.pathname.includes("?"),bh("?","pathname","search",o)),rt(!o.pathname||!o.pathname.includes("#"),bh("#","pathname","hash",o)),rt(!o.search||!o.search.includes("#"),bh("#","search","hash",o)));let u=i===""||o.pathname==="",h=u?"/":o.pathname,f;if(h==null)f=t;else{let I=e.length-1;if(!s&&h.startsWith("..")){let A=h.split("/");for(;A[0]==="..";)A.shift(),I-=1;o.pathname=A.join("/")}f=I>=0?e[I]:"/"}let g=N0(o,f),v=h&&h!=="/"&&h.endsWith("/"),w=(u||h===".")&&t.endsWith("/");return!g.pathname.endsWith("/")&&(v||w)&&(g.pathname+="/"),g}var Ir=i=>i.join("/").replace(/\/\/+/g,"/"),L0=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),O0=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,b0=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function M0(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}var qg=["POST","PUT","PATCH","DELETE"];new Set(qg);var F0=["GET",...qg];new Set(F0);var uo=B.createContext(null);uo.displayName="DataRouter";var Fu=B.createContext(null);Fu.displayName="DataRouterState";var Hg=B.createContext({isTransitioning:!1});Hg.displayName="ViewTransition";var U0=B.createContext(new Map);U0.displayName="Fetchers";var j0=B.createContext(null);j0.displayName="Await";var ir=B.createContext(null);ir.displayName="Navigation";var La=B.createContext(null);La.displayName="Location";var Pr=B.createContext({outlet:null,matches:[],isDataRoute:!1});Pr.displayName="Route";var Ed=B.createContext(null);Ed.displayName="RouteError";function z0(i,{relative:e}={}){rt(Oa(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:s}=B.useContext(ir),{hash:o,pathname:u,search:h}=ba(i,{relative:e}),f=u;return t!=="/"&&(f=u==="/"?t:Ir([t,u])),s.createHref({pathname:f,search:h,hash:o})}function Oa(){return B.useContext(La)!=null}function Gi(){return rt(Oa(),"useLocation() may be used only in the context of a <Router> component."),B.useContext(La).location}var Wg="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Qg(i){B.useContext(ir).static||B.useLayoutEffect(i)}function Td(){let{isDataRoute:i}=B.useContext(Pr);return i?ew():B0()}function B0(){rt(Oa(),"useNavigate() may be used only in the context of a <Router> component.");let i=B.useContext(uo),{basename:e,navigator:t}=B.useContext(ir),{matches:s}=B.useContext(Pr),{pathname:o}=Gi(),u=JSON.stringify(Bg(s)),h=B.useRef(!1);return Qg(()=>{h.current=!0}),B.useCallback((g,v={})=>{if(tr(h.current,Wg),!h.current)return;if(typeof g=="number"){t.go(g);return}let w=$g(g,JSON.parse(u),o,v.relative==="path");i==null&&e!=="/"&&(w.pathname=w.pathname==="/"?e:Ir([e,w.pathname])),(v.replace?t.replace:t.push)(w,v.state,v)},[e,t,u,o,i])}B.createContext(null);function ba(i,{relative:e}={}){let{matches:t}=B.useContext(Pr),{pathname:s}=Gi(),o=JSON.stringify(Bg(t));return B.useMemo(()=>$g(i,JSON.parse(o),s,e==="path"),[i,o,s,e])}function $0(i,e){return Kg(i,e)}function Kg(i,e,t,s){var Q;rt(Oa(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=B.useContext(ir),{matches:u}=B.useContext(Pr),h=u[u.length-1],f=h?h.params:{},g=h?h.pathname:"/",v=h?h.pathnameBase:"/",w=h&&h.route;{let X=w&&w.path||"";Gg(g,!w||X.endsWith("*")||X.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${X}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${X}"> to <Route path="${X==="/"?"*":`${X}/*`}">.`)}let I=Gi(),A;if(e){let X=typeof e=="string"?lo(e):e;rt(v==="/"||((Q=X.pathname)==null?void 0:Q.startsWith(v)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${X.pathname}" was given in the \`location\` prop.`),A=X}else A=I;let O=A.pathname||"/",b=O;if(v!=="/"){let X=v.replace(/^\//,"").split("/");b="/"+O.replace(/^\//,"").split("/").slice(X.length).join("/")}let q=Ug(i,{pathname:b});tr(w||q!=null,`No routes matched location "${A.pathname}${A.search}${A.hash}" `),tr(q==null||q[q.length-1].route.element!==void 0||q[q.length-1].route.Component!==void 0||q[q.length-1].route.lazy!==void 0,`Matched leaf route at location "${A.pathname}${A.search}${A.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let j=K0(q&&q.map(X=>Object.assign({},X,{params:Object.assign({},f,X.params),pathname:Ir([v,o.encodeLocation?o.encodeLocation(X.pathname).pathname:X.pathname]),pathnameBase:X.pathnameBase==="/"?v:Ir([v,o.encodeLocation?o.encodeLocation(X.pathnameBase).pathname:X.pathnameBase])})),u,t,s);return e&&j?B.createElement(La.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...A},navigationType:"POP"}},j):j}function q0(){let i=Z0(),e=M0(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),t=i instanceof Error?i.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},h=null;return console.error("Error handled by React Router default ErrorBoundary:",i),h=B.createElement(B.Fragment,null,B.createElement("p",null,"💿 Hey developer 👋"),B.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",B.createElement("code",{style:u},"ErrorBoundary")," or"," ",B.createElement("code",{style:u},"errorElement")," prop on your route.")),B.createElement(B.Fragment,null,B.createElement("h2",null,"Unexpected Application Error!"),B.createElement("h3",{style:{fontStyle:"italic"}},e),t?B.createElement("pre",{style:o},t):null,h)}var H0=B.createElement(q0,null),W0=class extends B.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){console.error("React Router caught the following error during render",i,e)}render(){return this.state.error!==void 0?B.createElement(Pr.Provider,{value:this.props.routeContext},B.createElement(Ed.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Q0({routeContext:i,match:e,children:t}){let s=B.useContext(uo);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),B.createElement(Pr.Provider,{value:i},t)}function K0(i,e=[],t=null,s=null){if(i==null){if(!t)return null;if(t.errors)i=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)i=t.matches;else return null}let o=i,u=t==null?void 0:t.errors;if(u!=null){let g=o.findIndex(v=>v.route.id&&(u==null?void 0:u[v.route.id])!==void 0);rt(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,g+1))}let h=!1,f=-1;if(t)for(let g=0;g<o.length;g++){let v=o[g];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(f=g),v.route.id){let{loaderData:w,errors:I}=t,A=v.route.loader&&!w.hasOwnProperty(v.route.id)&&(!I||I[v.route.id]===void 0);if(v.route.lazy||A){h=!0,f>=0?o=o.slice(0,f+1):o=[o[0]];break}}}return o.reduceRight((g,v,w)=>{let I,A=!1,O=null,b=null;t&&(I=u&&v.route.id?u[v.route.id]:void 0,O=v.route.errorElement||H0,h&&(f<0&&w===0?(Gg("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),A=!0,b=null):f===w&&(A=!0,b=v.route.hydrateFallbackElement||null)));let q=e.concat(o.slice(0,w+1)),j=()=>{let Q;return I?Q=O:A?Q=b:v.route.Component?Q=B.createElement(v.route.Component,null):v.route.element?Q=v.route.element:Q=g,B.createElement(Q0,{match:v,routeContext:{outlet:g,matches:q,isDataRoute:t!=null},children:Q})};return t&&(v.route.ErrorBoundary||v.route.errorElement||w===0)?B.createElement(W0,{location:t.location,revalidation:t.revalidation,component:O,error:I,children:j(),routeContext:{outlet:null,matches:q,isDataRoute:!0}}):j()},null)}function Id(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function G0(i){let e=B.useContext(uo);return rt(e,Id(i)),e}function Y0(i){let e=B.useContext(Fu);return rt(e,Id(i)),e}function X0(i){let e=B.useContext(Pr);return rt(e,Id(i)),e}function Sd(i){let e=X0(i),t=e.matches[e.matches.length-1];return rt(t.route.id,`${i} can only be used on routes that contain a unique "id"`),t.route.id}function J0(){return Sd("useRouteId")}function Z0(){var s;let i=B.useContext(Ed),e=Y0("useRouteError"),t=Sd("useRouteError");return i!==void 0?i:(s=e.errors)==null?void 0:s[t]}function ew(){let{router:i}=G0("useNavigate"),e=Sd("useNavigate"),t=B.useRef(!1);return Qg(()=>{t.current=!0}),B.useCallback(async(o,u={})=>{tr(t.current,Wg),t.current&&(typeof o=="number"?i.navigate(o):await i.navigate(o,{fromRouteId:e,...u}))},[i,e])}var km={};function Gg(i,e,t){!e&&!km[i]&&(km[i]=!0,tr(!1,t))}B.memo(tw);function tw({routes:i,future:e,state:t}){return Kg(i,void 0,t,e)}function fa(i){rt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function nw({basename:i="/",children:e=null,location:t,navigationType:s="POP",navigator:o,static:u=!1}){rt(!Oa(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=i.replace(/^\/*/,"/"),f=B.useMemo(()=>({basename:h,navigator:o,static:u,future:{}}),[h,o,u]);typeof t=="string"&&(t=lo(t));let{pathname:g="/",search:v="",hash:w="",state:I=null,key:A="default"}=t,O=B.useMemo(()=>{let b=ai(g,h);return b==null?null:{location:{pathname:b,search:v,hash:w,state:I,key:A},navigationType:s}},[h,g,v,w,I,A,s]);return tr(O!=null,`<Router basename="${h}"> is not able to match the URL "${g}${v}${w}" because it does not start with the basename, so the <Router> won't render anything.`),O==null?null:B.createElement(ir.Provider,{value:f},B.createElement(La.Provider,{children:e,value:O}))}function rw({children:i,location:e}){return $0(Yh(i),e)}function Yh(i,e=[]){let t=[];return B.Children.forEach(i,(s,o)=>{if(!B.isValidElement(s))return;let u=[...e,o];if(s.type===B.Fragment){t.push.apply(t,Yh(s.props.children,u));return}rt(s.type===fa,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),rt(!s.props.index||!s.props.children,"An index route cannot have child routes.");let h={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(h.children=Yh(s.props.children,u)),t.push(h)}),t}var fu="get",pu="application/x-www-form-urlencoded";function Uu(i){return i!=null&&typeof i.tagName=="string"}function iw(i){return Uu(i)&&i.tagName.toLowerCase()==="button"}function sw(i){return Uu(i)&&i.tagName.toLowerCase()==="form"}function ow(i){return Uu(i)&&i.tagName.toLowerCase()==="input"}function aw(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function lw(i,e){return i.button===0&&(!e||e==="_self")&&!aw(i)}var ou=null;function uw(){if(ou===null)try{new FormData(document.createElement("form"),0),ou=!1}catch{ou=!0}return ou}var cw=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Mh(i){return i!=null&&!cw.has(i)?(tr(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${pu}"`),null):i}function hw(i,e){let t,s,o,u,h;if(sw(i)){let f=i.getAttribute("action");s=f?ai(f,e):null,t=i.getAttribute("method")||fu,o=Mh(i.getAttribute("enctype"))||pu,u=new FormData(i)}else if(iw(i)||ow(i)&&(i.type==="submit"||i.type==="image")){let f=i.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=i.getAttribute("formaction")||f.getAttribute("action");if(s=g?ai(g,e):null,t=i.getAttribute("formmethod")||f.getAttribute("method")||fu,o=Mh(i.getAttribute("formenctype"))||Mh(f.getAttribute("enctype"))||pu,u=new FormData(f,i),!uw()){let{name:v,type:w,value:I}=i;if(w==="image"){let A=v?`${v}.`:"";u.append(`${A}x`,"0"),u.append(`${A}y`,"0")}else v&&u.append(v,I)}}else{if(Uu(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=fu,s=null,o=pu,h=i}return u&&o==="text/plain"&&(h=u,u=void 0),{action:s,method:t.toLowerCase(),encType:o,formData:u,body:h}}function Cd(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}async function dw(i,e){if(i.id in e)return e[i.id];try{let t=await import(i.module);return e[i.id]=t,t}catch(t){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function fw(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function pw(i,e,t){let s=await Promise.all(i.map(async o=>{let u=e.routes[o.route.id];if(u){let h=await dw(u,t);return h.links?h.links():[]}return[]}));return vw(s.flat(1).filter(fw).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function xm(i,e,t,s,o,u){let h=(g,v)=>t[v]?g.route.id!==t[v].route.id:!0,f=(g,v)=>{var w;return t[v].pathname!==g.pathname||((w=t[v].route.path)==null?void 0:w.endsWith("*"))&&t[v].params["*"]!==g.params["*"]};return u==="assets"?e.filter((g,v)=>h(g,v)||f(g,v)):u==="data"?e.filter((g,v)=>{var I;let w=s.routes[g.route.id];if(!w||!w.hasLoader)return!1;if(h(g,v)||f(g,v))return!0;if(g.route.shouldRevalidate){let A=g.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((I=t[0])==null?void 0:I.params)||{},nextUrl:new URL(i,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof A=="boolean")return A}return!0}):[]}function mw(i,e){return gw(i.map(t=>{let s=e.routes[t.route.id];if(!s)return[];let o=[s.module];return s.imports&&(o=o.concat(s.imports)),o}).flat(1))}function gw(i){return[...new Set(i)]}function yw(i){let e={},t=Object.keys(i).sort();for(let s of t)e[s]=i[s];return e}function vw(i,e){let t=new Set;return new Set(e),i.reduce((s,o)=>{let u=JSON.stringify(yw(o));return t.has(u)||(t.add(u),s.push({key:u,link:o})),s},[])}function _w(i){let e=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function ww(){let i=B.useContext(uo);return Cd(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function Ew(){let i=B.useContext(Fu);return Cd(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var Ad=B.createContext(void 0);Ad.displayName="FrameworkContext";function Yg(){let i=B.useContext(Ad);return Cd(i,"You must render this element inside a <HydratedRouter> element"),i}function Tw(i,e){let t=B.useContext(Ad),[s,o]=B.useState(!1),[u,h]=B.useState(!1),{onFocus:f,onBlur:g,onMouseEnter:v,onMouseLeave:w,onTouchStart:I}=e,A=B.useRef(null);B.useEffect(()=>{if(i==="render"&&h(!0),i==="viewport"){let q=Q=>{Q.forEach(X=>{h(X.isIntersecting)})},j=new IntersectionObserver(q,{threshold:.5});return A.current&&j.observe(A.current),()=>{j.disconnect()}}},[i]),B.useEffect(()=>{if(s){let q=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(q)}}},[s]);let O=()=>{o(!0)},b=()=>{o(!1),h(!1)};return t?i!=="intent"?[u,A,{}]:[u,A,{onFocus:da(f,O),onBlur:da(g,b),onMouseEnter:da(v,O),onMouseLeave:da(w,b),onTouchStart:da(I,O)}]:[!1,A,{}]}function da(i,e){return t=>{i&&i(t),t.defaultPrevented||e(t)}}function Iw({page:i,...e}){let{router:t}=ww(),s=B.useMemo(()=>Ug(t.routes,i,t.basename),[t.routes,i,t.basename]);return s?B.createElement(Cw,{page:i,matches:s,...e}):null}function Sw(i){let{manifest:e,routeModules:t}=Yg(),[s,o]=B.useState([]);return B.useEffect(()=>{let u=!1;return pw(i,e,t).then(h=>{u||o(h)}),()=>{u=!0}},[i,e,t]),s}function Cw({page:i,matches:e,...t}){let s=Gi(),{manifest:o,routeModules:u}=Yg(),{loaderData:h,matches:f}=Ew(),g=B.useMemo(()=>xm(i,e,f,o,s,"data"),[i,e,f,o,s]),v=B.useMemo(()=>xm(i,e,f,o,s,"assets"),[i,e,f,o,s]),w=B.useMemo(()=>{if(i===s.pathname+s.search+s.hash)return[];let O=new Set,b=!1;if(e.forEach(j=>{var X;let Q=o.routes[j.route.id];!Q||!Q.hasLoader||(!g.some(se=>se.route.id===j.route.id)&&j.route.id in h&&((X=u[j.route.id])!=null&&X.shouldRevalidate)||Q.hasClientLoader?b=!0:O.add(j.route.id))}),O.size===0)return[];let q=_w(i);return b&&O.size>0&&q.searchParams.set("_routes",e.filter(j=>O.has(j.route.id)).map(j=>j.route.id).join(",")),[q.pathname+q.search]},[h,s,o,g,e,i,u]),I=B.useMemo(()=>mw(v,o),[v,o]),A=Sw(v);return B.createElement(B.Fragment,null,w.map(O=>B.createElement("link",{key:O,rel:"prefetch",as:"fetch",href:O,...t})),I.map(O=>B.createElement("link",{key:O,rel:"modulepreload",href:O,...t})),A.map(({key:O,link:b})=>B.createElement("link",{key:O,...b})))}function Aw(...i){return e=>{i.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var Xg=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Xg&&(window.__reactRouterVersion="7.1.1")}catch{}function Rw({basename:i,children:e,window:t}){let s=B.useRef();s.current==null&&(s.current=m0({window:t,v5Compat:!0}));let o=s.current,[u,h]=B.useState({action:o.action,location:o.location}),f=B.useCallback(g=>{B.startTransition(()=>h(g))},[h]);return B.useLayoutEffect(()=>o.listen(f),[o,f]),B.createElement(nw,{basename:i,children:e,location:u.location,navigationType:u.action,navigator:o})}var Jg=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Zg=B.forwardRef(function({onClick:e,discover:t="render",prefetch:s="none",relative:o,reloadDocument:u,replace:h,state:f,target:g,to:v,preventScrollReset:w,viewTransition:I,...A},O){let{basename:b}=B.useContext(ir),q=typeof v=="string"&&Jg.test(v),j,Q=!1;if(typeof v=="string"&&q&&(j=v,Xg))try{let R=new URL(window.location.href),k=v.startsWith("//")?new URL(R.protocol+v):new URL(v),V=ai(k.pathname,b);k.origin===R.origin&&V!=null?v=V+k.search+k.hash:Q=!0}catch{tr(!1,`<Link to="${v}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let X=z0(v,{relative:o}),[se,fe,Pe]=Tw(s,A),Te=Nw(v,{replace:h,state:f,target:g,preventScrollReset:w,relative:o,viewTransition:I});function N(R){e&&e(R),R.defaultPrevented||Te(R)}let T=B.createElement("a",{...A,...Pe,href:j||X,onClick:Q||u?e:N,ref:Aw(O,fe),target:g,"data-discover":!q&&t==="render"?"true":void 0});return se&&!q?B.createElement(B.Fragment,null,T,B.createElement(Iw,{page:X})):T});Zg.displayName="Link";var Pw=B.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:s="",end:o=!1,style:u,to:h,viewTransition:f,children:g,...v},w){let I=ba(h,{relative:v.relative}),A=Gi(),O=B.useContext(Fu),{navigator:b,basename:q}=B.useContext(ir),j=O!=null&&bw(I)&&f===!0,Q=b.encodeLocation?b.encodeLocation(I).pathname:I.pathname,X=A.pathname,se=O&&O.navigation&&O.navigation.location?O.navigation.location.pathname:null;t||(X=X.toLowerCase(),se=se?se.toLowerCase():null,Q=Q.toLowerCase()),se&&q&&(se=ai(se,q)||se);const fe=Q!=="/"&&Q.endsWith("/")?Q.length-1:Q.length;let Pe=X===Q||!o&&X.startsWith(Q)&&X.charAt(fe)==="/",Te=se!=null&&(se===Q||!o&&se.startsWith(Q)&&se.charAt(Q.length)==="/"),N={isActive:Pe,isPending:Te,isTransitioning:j},T=Pe?e:void 0,R;typeof s=="function"?R=s(N):R=[s,Pe?"active":null,Te?"pending":null,j?"transitioning":null].filter(Boolean).join(" ");let k=typeof u=="function"?u(N):u;return B.createElement(Zg,{...v,"aria-current":T,className:R,ref:w,style:k,to:h,viewTransition:f},typeof g=="function"?g(N):g)});Pw.displayName="NavLink";var kw=B.forwardRef(({discover:i="render",fetcherKey:e,navigate:t,reloadDocument:s,replace:o,state:u,method:h=fu,action:f,onSubmit:g,relative:v,preventScrollReset:w,viewTransition:I,...A},O)=>{let b=Lw(),q=Ow(f,{relative:v}),j=h.toLowerCase()==="get"?"get":"post",Q=typeof f=="string"&&Jg.test(f),X=se=>{if(g&&g(se),se.defaultPrevented)return;se.preventDefault();let fe=se.nativeEvent.submitter,Pe=(fe==null?void 0:fe.getAttribute("formmethod"))||h;b(fe||se.currentTarget,{fetcherKey:e,method:Pe,navigate:t,replace:o,state:u,relative:v,preventScrollReset:w,viewTransition:I})};return B.createElement("form",{ref:O,method:j,action:q,onSubmit:s?g:X,...A,"data-discover":!Q&&i==="render"?"true":void 0})});kw.displayName="Form";function xw(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ey(i){let e=B.useContext(uo);return rt(e,xw(i)),e}function Nw(i,{target:e,replace:t,state:s,preventScrollReset:o,relative:u,viewTransition:h}={}){let f=Td(),g=Gi(),v=ba(i,{relative:u});return B.useCallback(w=>{if(lw(w,e)){w.preventDefault();let I=t!==void 0?t:Ca(g)===Ca(v);f(i,{replace:I,state:s,preventScrollReset:o,relative:u,viewTransition:h})}},[g,f,v,t,s,e,i,o,u,h])}var Dw=0,Vw=()=>`__${String(++Dw)}__`;function Lw(){let{router:i}=ey("useSubmit"),{basename:e}=B.useContext(ir),t=J0();return B.useCallback(async(s,o={})=>{let{action:u,method:h,encType:f,formData:g,body:v}=hw(s,e);if(o.navigate===!1){let w=o.fetcherKey||Vw();await i.fetch(w,t,o.action||u,{preventScrollReset:o.preventScrollReset,formData:g,body:v,formMethod:o.method||h,formEncType:o.encType||f,flushSync:o.flushSync})}else await i.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:g,body:v,formMethod:o.method||h,formEncType:o.encType||f,replace:o.replace,state:o.state,fromRouteId:t,flushSync:o.flushSync,viewTransition:o.viewTransition})},[i,e,t])}function Ow(i,{relative:e}={}){let{basename:t}=B.useContext(ir),s=B.useContext(Pr);rt(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...ba(i||".",{relative:e})},h=Gi();if(i==null){u.search=h.search;let f=new URLSearchParams(u.search),g=f.getAll("index");if(g.some(w=>w==="")){f.delete("index"),g.filter(I=>I).forEach(I=>f.append("index",I));let w=f.toString();u.search=w?`?${w}`:""}}return(!i||i===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(u.pathname=u.pathname==="/"?t:Ir([t,u.pathname])),Ca(u)}function bw(i,e={}){let t=B.useContext(Hg);rt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=ey("useViewTransitionState"),o=ba(i,{relative:e.relative});if(!t.isTransitioning)return!1;let u=ai(t.currentLocation.pathname,s)||t.currentLocation.pathname,h=ai(t.nextLocation.pathname,s)||t.nextLocation.pathname;return Iu(o.pathname,h)!=null||Iu(o.pathname,u)!=null}new TextEncoder;var Nm={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ty=function(i){const e=[];let t=0;for(let s=0;s<i.length;s++){let o=i.charCodeAt(s);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++s)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},Mw=function(i){const e=[];let t=0,s=0;for(;t<i.length;){const o=i[t++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=i[t++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=i[t++],h=i[t++],f=i[t++],g=((o&7)<<18|(u&63)<<12|(h&63)<<6|f&63)-65536;e[s++]=String.fromCharCode(55296+(g>>10)),e[s++]=String.fromCharCode(56320+(g&1023))}else{const u=i[t++],h=i[t++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|h&63)}}return e.join("")},ny={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<i.length;o+=3){const u=i[o],h=o+1<i.length,f=h?i[o+1]:0,g=o+2<i.length,v=g?i[o+2]:0,w=u>>2,I=(u&3)<<4|f>>4;let A=(f&15)<<2|v>>6,O=v&63;g||(O=64,h||(A=64)),s.push(t[w],t[I],t[A],t[O])}return s.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(ty(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):Mw(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<i.length;){const u=t[i.charAt(o++)],f=o<i.length?t[i.charAt(o)]:0;++o;const v=o<i.length?t[i.charAt(o)]:64;++o;const I=o<i.length?t[i.charAt(o)]:64;if(++o,u==null||f==null||v==null||I==null)throw new Fw;const A=u<<2|f>>4;if(s.push(A),v!==64){const O=f<<4&240|v>>2;if(s.push(O),I!==64){const b=v<<6&192|I;s.push(b)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class Fw extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Uw=function(i){const e=ty(i);return ny.encodeByteArray(e,!0)},Su=function(i){return Uw(i).replace(/\./g,"")},ry=function(i){try{return ny.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jw(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zw=()=>jw().__FIREBASE_DEFAULTS__,Bw=()=>{if(typeof process>"u"||typeof Nm>"u")return;const i=Nm.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},$w=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&ry(i[1]);return e&&JSON.parse(e)},ju=()=>{try{return zw()||Bw()||$w()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},qw=i=>{var e,t;return(t=(e=ju())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[i]},Hw=i=>{const e=qw(i);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),s]:[e.substring(0,t),s]},iy=()=>{var i;return(i=ju())===null||i===void 0?void 0:i.config},Ww=i=>{var e;return(e=ju())===null||e===void 0?void 0:e[`_${i}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qw{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,s)=>{t?this.reject(t):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kw(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},s=e||"demo-project",o=i.iat||0,u=i.sub||i.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},i);return[Su(JSON.stringify(t)),Su(JSON.stringify(h)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Gw(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Fn())}function Yw(){var i;const e=(i=ju())===null||i===void 0?void 0:i.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Xw(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Jw(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function Zw(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function eE(){return!Yw()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function tE(){try{return typeof indexedDB=="object"}catch{return!1}}function nE(){return new Promise((i,e)=>{try{let t=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(s),i(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{var u;e(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rE="FirebaseError";class pi extends Error{constructor(e,t,s){super(t),this.code=e,this.customData=s,this.name=rE,Object.setPrototypeOf(this,pi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ma.prototype.create)}}class Ma{constructor(e,t,s){this.service=e,this.serviceName=t,this.errors=s}create(e,...t){const s=t[0]||{},o=`${this.service}/${e}`,u=this.errors[e],h=u?iE(u,s):"Error",f=`${this.serviceName}: ${h} (${o}).`;return new pi(o,f,s)}}function iE(i,e){return i.replace(sE,(t,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const sE=/\{\$([^}]+)}/g;function Xh(i,e){if(i===e)return!0;const t=Object.keys(i),s=Object.keys(e);for(const o of t){if(!s.includes(o))return!1;const u=i[o],h=e[o];if(Dm(u)&&Dm(h)){if(!Xh(u,h))return!1}else if(u!==h)return!1}for(const o of s)if(!t.includes(o))return!1;return!0}function Dm(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sy(i){const e=[];for(const[t,s]of Object.entries(i))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function oE(i,e){const t=new aE(i,e);return t.subscribe.bind(t)}class aE{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,s){let o;if(e===void 0&&t===void 0&&s===void 0)throw new Error("Missing Observer.");lE(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:s},o.next===void 0&&(o.next=Fh),o.error===void 0&&(o.error=Fh),o.complete===void 0&&(o.complete=Fh);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function lE(i,e){if(typeof i!="object"||i===null)return!1;for(const t of e)if(t in i&&typeof i[t]=="function")return!0;return!1}function Fh(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nr(i){return i&&i._delegate?i._delegate:i}class Qi{constructor(e,t,s){this.name=e,this.instanceFactory=t,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $i="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uE{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const s=new Qw;if(this.instancesDeferred.set(t,s),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(hE(e))try{this.getOrInitializeService({instanceIdentifier:$i})}catch{}for(const[t,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=$i){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=$i){return this.instances.has(e)}getOptions(e=$i){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:t});for(const[u,h]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(u);s===f&&h.resolve(o)}return o}onInit(e,t){var s;const o=this.normalizeInstanceIdentifier(t),u=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;u.add(e),this.onInitCallbacks.set(o,u);const h=this.instances.get(o);return h&&e(h,o),()=>{u.delete(e)}}invokeOnInitCallbacks(e,t){const s=this.onInitCallbacks.get(t);if(s)for(const o of s)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:cE(e),options:t}),this.instances.set(e,s),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=$i){return this.component?this.component.multipleInstances?e:$i:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function cE(i){return i===$i?void 0:i}function hE(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dE{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new uE(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Le;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Le||(Le={}));const fE={debug:Le.DEBUG,verbose:Le.VERBOSE,info:Le.INFO,warn:Le.WARN,error:Le.ERROR,silent:Le.SILENT},pE=Le.INFO,mE={[Le.DEBUG]:"log",[Le.VERBOSE]:"log",[Le.INFO]:"info",[Le.WARN]:"warn",[Le.ERROR]:"error"},gE=(i,e,...t)=>{if(e<i.logLevel)return;const s=new Date().toISOString(),o=mE[e];if(o)console[o](`[${s}]  ${i.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Rd{constructor(e){this.name=e,this._logLevel=pE,this._logHandler=gE,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Le))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?fE[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Le.DEBUG,...e),this._logHandler(this,Le.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Le.VERBOSE,...e),this._logHandler(this,Le.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Le.INFO,...e),this._logHandler(this,Le.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Le.WARN,...e),this._logHandler(this,Le.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Le.ERROR,...e),this._logHandler(this,Le.ERROR,...e)}}const yE=(i,e)=>e.some(t=>i instanceof t);let Vm,Lm;function vE(){return Vm||(Vm=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function _E(){return Lm||(Lm=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const oy=new WeakMap,Jh=new WeakMap,ay=new WeakMap,Uh=new WeakMap,Pd=new WeakMap;function wE(i){const e=new Promise((t,s)=>{const o=()=>{i.removeEventListener("success",u),i.removeEventListener("error",h)},u=()=>{t(ni(i.result)),o()},h=()=>{s(i.error),o()};i.addEventListener("success",u),i.addEventListener("error",h)});return e.then(t=>{t instanceof IDBCursor&&oy.set(t,i)}).catch(()=>{}),Pd.set(e,i),e}function EE(i){if(Jh.has(i))return;const e=new Promise((t,s)=>{const o=()=>{i.removeEventListener("complete",u),i.removeEventListener("error",h),i.removeEventListener("abort",h)},u=()=>{t(),o()},h=()=>{s(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",u),i.addEventListener("error",h),i.addEventListener("abort",h)});Jh.set(i,e)}let Zh={get(i,e,t){if(i instanceof IDBTransaction){if(e==="done")return Jh.get(i);if(e==="objectStoreNames")return i.objectStoreNames||ay.get(i);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return ni(i[e])},set(i,e,t){return i[e]=t,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function TE(i){Zh=i(Zh)}function IE(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const s=i.call(jh(this),e,...t);return ay.set(s,e.sort?e.sort():[e]),ni(s)}:_E().includes(i)?function(...e){return i.apply(jh(this),e),ni(oy.get(this))}:function(...e){return ni(i.apply(jh(this),e))}}function SE(i){return typeof i=="function"?IE(i):(i instanceof IDBTransaction&&EE(i),yE(i,vE())?new Proxy(i,Zh):i)}function ni(i){if(i instanceof IDBRequest)return wE(i);if(Uh.has(i))return Uh.get(i);const e=SE(i);return e!==i&&(Uh.set(i,e),Pd.set(e,i)),e}const jh=i=>Pd.get(i);function CE(i,e,{blocked:t,upgrade:s,blocking:o,terminated:u}={}){const h=indexedDB.open(i,e),f=ni(h);return s&&h.addEventListener("upgradeneeded",g=>{s(ni(h.result),g.oldVersion,g.newVersion,ni(h.transaction),g)}),t&&h.addEventListener("blocked",g=>t(g.oldVersion,g.newVersion,g)),f.then(g=>{u&&g.addEventListener("close",()=>u()),o&&g.addEventListener("versionchange",v=>o(v.oldVersion,v.newVersion,v))}).catch(()=>{}),f}const AE=["get","getKey","getAll","getAllKeys","count"],RE=["put","add","delete","clear"],zh=new Map;function Om(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(zh.get(e))return zh.get(e);const t=e.replace(/FromIndex$/,""),s=e!==t,o=RE.includes(t);if(!(t in(s?IDBIndex:IDBObjectStore).prototype)||!(o||AE.includes(t)))return;const u=async function(h,...f){const g=this.transaction(h,o?"readwrite":"readonly");let v=g.store;return s&&(v=v.index(f.shift())),(await Promise.all([v[t](...f),o&&g.done]))[0]};return zh.set(e,u),u}TE(i=>({...i,get:(e,t,s)=>Om(e,t)||i.get(e,t,s),has:(e,t)=>!!Om(e,t)||i.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PE{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(kE(t)){const s=t.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(t=>t).join(" ")}}function kE(i){const e=i.getComponent();return(e==null?void 0:e.type)==="VERSION"}const ed="@firebase/app",bm="0.10.17";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cr=new Rd("@firebase/app"),xE="@firebase/app-compat",NE="@firebase/analytics-compat",DE="@firebase/analytics",VE="@firebase/app-check-compat",LE="@firebase/app-check",OE="@firebase/auth",bE="@firebase/auth-compat",ME="@firebase/database",FE="@firebase/data-connect",UE="@firebase/database-compat",jE="@firebase/functions",zE="@firebase/functions-compat",BE="@firebase/installations",$E="@firebase/installations-compat",qE="@firebase/messaging",HE="@firebase/messaging-compat",WE="@firebase/performance",QE="@firebase/performance-compat",KE="@firebase/remote-config",GE="@firebase/remote-config-compat",YE="@firebase/storage",XE="@firebase/storage-compat",JE="@firebase/firestore",ZE="@firebase/vertexai",eT="@firebase/firestore-compat",tT="firebase",nT="11.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const td="[DEFAULT]",rT={[ed]:"fire-core",[xE]:"fire-core-compat",[DE]:"fire-analytics",[NE]:"fire-analytics-compat",[LE]:"fire-app-check",[VE]:"fire-app-check-compat",[OE]:"fire-auth",[bE]:"fire-auth-compat",[ME]:"fire-rtdb",[FE]:"fire-data-connect",[UE]:"fire-rtdb-compat",[jE]:"fire-fn",[zE]:"fire-fn-compat",[BE]:"fire-iid",[$E]:"fire-iid-compat",[qE]:"fire-fcm",[HE]:"fire-fcm-compat",[WE]:"fire-perf",[QE]:"fire-perf-compat",[KE]:"fire-rc",[GE]:"fire-rc-compat",[YE]:"fire-gcs",[XE]:"fire-gcs-compat",[JE]:"fire-fst",[eT]:"fire-fst-compat",[ZE]:"fire-vertex","fire-js":"fire-js",[tT]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cu=new Map,iT=new Map,nd=new Map;function Mm(i,e){try{i.container.addComponent(e)}catch(t){Cr.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,t)}}function eo(i){const e=i.name;if(nd.has(e))return Cr.debug(`There were multiple attempts to register component ${e}.`),!1;nd.set(e,i);for(const t of Cu.values())Mm(t,i);for(const t of iT.values())Mm(t,i);return!0}function sT(i,e){const t=i.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),i.container.getProvider(e)}function pa(i){return i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oT={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ri=new Ma("app","Firebase",oT);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aT{constructor(e,t,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Qi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ri.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zu=nT;function ly(i,e={}){let t=i;typeof e!="object"&&(e={name:e});const s=Object.assign({name:td,automaticDataCollectionEnabled:!1},e),o=s.name;if(typeof o!="string"||!o)throw ri.create("bad-app-name",{appName:String(o)});if(t||(t=iy()),!t)throw ri.create("no-options");const u=Cu.get(o);if(u){if(Xh(t,u.options)&&Xh(s,u.config))return u;throw ri.create("duplicate-app",{appName:o})}const h=new dE(o);for(const g of nd.values())h.addComponent(g);const f=new aT(t,s,h);return Cu.set(o,f),f}function lT(i=td){const e=Cu.get(i);if(!e&&i===td&&iy())return ly();if(!e)throw ri.create("no-app",{appName:i});return e}function ii(i,e,t){var s;let o=(s=rT[i])!==null&&s!==void 0?s:i;t&&(o+=`-${t}`);const u=o.match(/\s|\//),h=e.match(/\s|\//);if(u||h){const f=[`Unable to register library "${o}" with version "${e}":`];u&&f.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&h&&f.push("and"),h&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Cr.warn(f.join(" "));return}eo(new Qi(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uT="firebase-heartbeat-database",cT=1,Aa="firebase-heartbeat-store";let Bh=null;function uy(){return Bh||(Bh=CE(uT,cT,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(Aa)}catch(t){console.warn(t)}}}}).catch(i=>{throw ri.create("idb-open",{originalErrorMessage:i.message})})),Bh}async function hT(i){try{const t=(await uy()).transaction(Aa),s=await t.objectStore(Aa).get(cy(i));return await t.done,s}catch(e){if(e instanceof pi)Cr.warn(e.message);else{const t=ri.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Cr.warn(t.message)}}}async function Fm(i,e){try{const s=(await uy()).transaction(Aa,"readwrite");await s.objectStore(Aa).put(e,cy(i)),await s.done}catch(t){if(t instanceof pi)Cr.warn(t.message);else{const s=ri.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Cr.warn(s.message)}}}function cy(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dT=1024,fT=30*24*60*60*1e3;class pT{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new gT(t),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,t;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=Um();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(h=>h.date===u)?void 0:(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(h=>{const f=new Date(h.date).valueOf();return Date.now()-f<=fT}),this._storage.overwrite(this._heartbeatsCache))}catch(s){Cr.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Um(),{heartbeatsToSend:s,unsentEntries:o}=mT(this._heartbeatsCache.heartbeats),u=Su(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(t){return Cr.warn(t),""}}}function Um(){return new Date().toISOString().substring(0,10)}function mT(i,e=dT){const t=[];let s=i.slice();for(const o of i){const u=t.find(h=>h.agent===o.agent);if(u){if(u.dates.push(o.date),jm(t)>e){u.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),jm(t)>e){t.pop();break}s=s.slice(1)}return{heartbeatsToSend:t,unsentEntries:s}}class gT{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return tE()?nE().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await hT(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return Fm(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return Fm(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function jm(i){return Su(JSON.stringify({version:2,heartbeats:i})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yT(i){eo(new Qi("platform-logger",e=>new PE(e),"PRIVATE")),eo(new Qi("heartbeat",e=>new pT(e),"PRIVATE")),ii(ed,bm,i),ii(ed,bm,"esm2017"),ii("fire-js","")}yT("");var zm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Wi,hy;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(N,T){function R(){}R.prototype=T.prototype,N.D=T.prototype,N.prototype=new R,N.prototype.constructor=N,N.C=function(k,V,x){for(var S=Array(arguments.length-2),Ce=2;Ce<arguments.length;Ce++)S[Ce-2]=arguments[Ce];return T.prototype[V].apply(k,S)}}function t(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,t),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(N,T,R){R||(R=0);var k=Array(16);if(typeof T=="string")for(var V=0;16>V;++V)k[V]=T.charCodeAt(R++)|T.charCodeAt(R++)<<8|T.charCodeAt(R++)<<16|T.charCodeAt(R++)<<24;else for(V=0;16>V;++V)k[V]=T[R++]|T[R++]<<8|T[R++]<<16|T[R++]<<24;T=N.g[0],R=N.g[1],V=N.g[2];var x=N.g[3],S=T+(x^R&(V^x))+k[0]+3614090360&4294967295;T=R+(S<<7&4294967295|S>>>25),S=x+(V^T&(R^V))+k[1]+3905402710&4294967295,x=T+(S<<12&4294967295|S>>>20),S=V+(R^x&(T^R))+k[2]+606105819&4294967295,V=x+(S<<17&4294967295|S>>>15),S=R+(T^V&(x^T))+k[3]+3250441966&4294967295,R=V+(S<<22&4294967295|S>>>10),S=T+(x^R&(V^x))+k[4]+4118548399&4294967295,T=R+(S<<7&4294967295|S>>>25),S=x+(V^T&(R^V))+k[5]+1200080426&4294967295,x=T+(S<<12&4294967295|S>>>20),S=V+(R^x&(T^R))+k[6]+2821735955&4294967295,V=x+(S<<17&4294967295|S>>>15),S=R+(T^V&(x^T))+k[7]+4249261313&4294967295,R=V+(S<<22&4294967295|S>>>10),S=T+(x^R&(V^x))+k[8]+1770035416&4294967295,T=R+(S<<7&4294967295|S>>>25),S=x+(V^T&(R^V))+k[9]+2336552879&4294967295,x=T+(S<<12&4294967295|S>>>20),S=V+(R^x&(T^R))+k[10]+4294925233&4294967295,V=x+(S<<17&4294967295|S>>>15),S=R+(T^V&(x^T))+k[11]+2304563134&4294967295,R=V+(S<<22&4294967295|S>>>10),S=T+(x^R&(V^x))+k[12]+1804603682&4294967295,T=R+(S<<7&4294967295|S>>>25),S=x+(V^T&(R^V))+k[13]+4254626195&4294967295,x=T+(S<<12&4294967295|S>>>20),S=V+(R^x&(T^R))+k[14]+2792965006&4294967295,V=x+(S<<17&4294967295|S>>>15),S=R+(T^V&(x^T))+k[15]+1236535329&4294967295,R=V+(S<<22&4294967295|S>>>10),S=T+(V^x&(R^V))+k[1]+4129170786&4294967295,T=R+(S<<5&4294967295|S>>>27),S=x+(R^V&(T^R))+k[6]+3225465664&4294967295,x=T+(S<<9&4294967295|S>>>23),S=V+(T^R&(x^T))+k[11]+643717713&4294967295,V=x+(S<<14&4294967295|S>>>18),S=R+(x^T&(V^x))+k[0]+3921069994&4294967295,R=V+(S<<20&4294967295|S>>>12),S=T+(V^x&(R^V))+k[5]+3593408605&4294967295,T=R+(S<<5&4294967295|S>>>27),S=x+(R^V&(T^R))+k[10]+38016083&4294967295,x=T+(S<<9&4294967295|S>>>23),S=V+(T^R&(x^T))+k[15]+3634488961&4294967295,V=x+(S<<14&4294967295|S>>>18),S=R+(x^T&(V^x))+k[4]+3889429448&4294967295,R=V+(S<<20&4294967295|S>>>12),S=T+(V^x&(R^V))+k[9]+568446438&4294967295,T=R+(S<<5&4294967295|S>>>27),S=x+(R^V&(T^R))+k[14]+3275163606&4294967295,x=T+(S<<9&4294967295|S>>>23),S=V+(T^R&(x^T))+k[3]+4107603335&4294967295,V=x+(S<<14&4294967295|S>>>18),S=R+(x^T&(V^x))+k[8]+1163531501&4294967295,R=V+(S<<20&4294967295|S>>>12),S=T+(V^x&(R^V))+k[13]+2850285829&4294967295,T=R+(S<<5&4294967295|S>>>27),S=x+(R^V&(T^R))+k[2]+4243563512&4294967295,x=T+(S<<9&4294967295|S>>>23),S=V+(T^R&(x^T))+k[7]+1735328473&4294967295,V=x+(S<<14&4294967295|S>>>18),S=R+(x^T&(V^x))+k[12]+2368359562&4294967295,R=V+(S<<20&4294967295|S>>>12),S=T+(R^V^x)+k[5]+4294588738&4294967295,T=R+(S<<4&4294967295|S>>>28),S=x+(T^R^V)+k[8]+2272392833&4294967295,x=T+(S<<11&4294967295|S>>>21),S=V+(x^T^R)+k[11]+1839030562&4294967295,V=x+(S<<16&4294967295|S>>>16),S=R+(V^x^T)+k[14]+4259657740&4294967295,R=V+(S<<23&4294967295|S>>>9),S=T+(R^V^x)+k[1]+2763975236&4294967295,T=R+(S<<4&4294967295|S>>>28),S=x+(T^R^V)+k[4]+1272893353&4294967295,x=T+(S<<11&4294967295|S>>>21),S=V+(x^T^R)+k[7]+4139469664&4294967295,V=x+(S<<16&4294967295|S>>>16),S=R+(V^x^T)+k[10]+3200236656&4294967295,R=V+(S<<23&4294967295|S>>>9),S=T+(R^V^x)+k[13]+681279174&4294967295,T=R+(S<<4&4294967295|S>>>28),S=x+(T^R^V)+k[0]+3936430074&4294967295,x=T+(S<<11&4294967295|S>>>21),S=V+(x^T^R)+k[3]+3572445317&4294967295,V=x+(S<<16&4294967295|S>>>16),S=R+(V^x^T)+k[6]+76029189&4294967295,R=V+(S<<23&4294967295|S>>>9),S=T+(R^V^x)+k[9]+3654602809&4294967295,T=R+(S<<4&4294967295|S>>>28),S=x+(T^R^V)+k[12]+3873151461&4294967295,x=T+(S<<11&4294967295|S>>>21),S=V+(x^T^R)+k[15]+530742520&4294967295,V=x+(S<<16&4294967295|S>>>16),S=R+(V^x^T)+k[2]+3299628645&4294967295,R=V+(S<<23&4294967295|S>>>9),S=T+(V^(R|~x))+k[0]+4096336452&4294967295,T=R+(S<<6&4294967295|S>>>26),S=x+(R^(T|~V))+k[7]+1126891415&4294967295,x=T+(S<<10&4294967295|S>>>22),S=V+(T^(x|~R))+k[14]+2878612391&4294967295,V=x+(S<<15&4294967295|S>>>17),S=R+(x^(V|~T))+k[5]+4237533241&4294967295,R=V+(S<<21&4294967295|S>>>11),S=T+(V^(R|~x))+k[12]+1700485571&4294967295,T=R+(S<<6&4294967295|S>>>26),S=x+(R^(T|~V))+k[3]+2399980690&4294967295,x=T+(S<<10&4294967295|S>>>22),S=V+(T^(x|~R))+k[10]+4293915773&4294967295,V=x+(S<<15&4294967295|S>>>17),S=R+(x^(V|~T))+k[1]+2240044497&4294967295,R=V+(S<<21&4294967295|S>>>11),S=T+(V^(R|~x))+k[8]+1873313359&4294967295,T=R+(S<<6&4294967295|S>>>26),S=x+(R^(T|~V))+k[15]+4264355552&4294967295,x=T+(S<<10&4294967295|S>>>22),S=V+(T^(x|~R))+k[6]+2734768916&4294967295,V=x+(S<<15&4294967295|S>>>17),S=R+(x^(V|~T))+k[13]+1309151649&4294967295,R=V+(S<<21&4294967295|S>>>11),S=T+(V^(R|~x))+k[4]+4149444226&4294967295,T=R+(S<<6&4294967295|S>>>26),S=x+(R^(T|~V))+k[11]+3174756917&4294967295,x=T+(S<<10&4294967295|S>>>22),S=V+(T^(x|~R))+k[2]+718787259&4294967295,V=x+(S<<15&4294967295|S>>>17),S=R+(x^(V|~T))+k[9]+3951481745&4294967295,N.g[0]=N.g[0]+T&4294967295,N.g[1]=N.g[1]+(V+(S<<21&4294967295|S>>>11))&4294967295,N.g[2]=N.g[2]+V&4294967295,N.g[3]=N.g[3]+x&4294967295}s.prototype.u=function(N,T){T===void 0&&(T=N.length);for(var R=T-this.blockSize,k=this.B,V=this.h,x=0;x<T;){if(V==0)for(;x<=R;)o(this,N,x),x+=this.blockSize;if(typeof N=="string"){for(;x<T;)if(k[V++]=N.charCodeAt(x++),V==this.blockSize){o(this,k),V=0;break}}else for(;x<T;)if(k[V++]=N[x++],V==this.blockSize){o(this,k),V=0;break}}this.h=V,this.o+=T},s.prototype.v=function(){var N=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);N[0]=128;for(var T=1;T<N.length-8;++T)N[T]=0;var R=8*this.o;for(T=N.length-8;T<N.length;++T)N[T]=R&255,R/=256;for(this.u(N),N=Array(16),T=R=0;4>T;++T)for(var k=0;32>k;k+=8)N[R++]=this.g[T]>>>k&255;return N};function u(N,T){var R=f;return Object.prototype.hasOwnProperty.call(R,N)?R[N]:R[N]=T(N)}function h(N,T){this.h=T;for(var R=[],k=!0,V=N.length-1;0<=V;V--){var x=N[V]|0;k&&x==T||(R[V]=x,k=!1)}this.g=R}var f={};function g(N){return-128<=N&&128>N?u(N,function(T){return new h([T|0],0>T?-1:0)}):new h([N|0],0>N?-1:0)}function v(N){if(isNaN(N)||!isFinite(N))return I;if(0>N)return j(v(-N));for(var T=[],R=1,k=0;N>=R;k++)T[k]=N/R|0,R*=4294967296;return new h(T,0)}function w(N,T){if(N.length==0)throw Error("number format error: empty string");if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(N.charAt(0)=="-")return j(w(N.substring(1),T));if(0<=N.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=v(Math.pow(T,8)),k=I,V=0;V<N.length;V+=8){var x=Math.min(8,N.length-V),S=parseInt(N.substring(V,V+x),T);8>x?(x=v(Math.pow(T,x)),k=k.j(x).add(v(S))):(k=k.j(R),k=k.add(v(S)))}return k}var I=g(0),A=g(1),O=g(16777216);i=h.prototype,i.m=function(){if(q(this))return-j(this).m();for(var N=0,T=1,R=0;R<this.g.length;R++){var k=this.i(R);N+=(0<=k?k:4294967296+k)*T,T*=4294967296}return N},i.toString=function(N){if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if(b(this))return"0";if(q(this))return"-"+j(this).toString(N);for(var T=v(Math.pow(N,6)),R=this,k="";;){var V=fe(R,T).g;R=Q(R,V.j(T));var x=((0<R.g.length?R.g[0]:R.h)>>>0).toString(N);if(R=V,b(R))return x+k;for(;6>x.length;)x="0"+x;k=x+k}},i.i=function(N){return 0>N?0:N<this.g.length?this.g[N]:this.h};function b(N){if(N.h!=0)return!1;for(var T=0;T<N.g.length;T++)if(N.g[T]!=0)return!1;return!0}function q(N){return N.h==-1}i.l=function(N){return N=Q(this,N),q(N)?-1:b(N)?0:1};function j(N){for(var T=N.g.length,R=[],k=0;k<T;k++)R[k]=~N.g[k];return new h(R,~N.h).add(A)}i.abs=function(){return q(this)?j(this):this},i.add=function(N){for(var T=Math.max(this.g.length,N.g.length),R=[],k=0,V=0;V<=T;V++){var x=k+(this.i(V)&65535)+(N.i(V)&65535),S=(x>>>16)+(this.i(V)>>>16)+(N.i(V)>>>16);k=S>>>16,x&=65535,S&=65535,R[V]=S<<16|x}return new h(R,R[R.length-1]&-2147483648?-1:0)};function Q(N,T){return N.add(j(T))}i.j=function(N){if(b(this)||b(N))return I;if(q(this))return q(N)?j(this).j(j(N)):j(j(this).j(N));if(q(N))return j(this.j(j(N)));if(0>this.l(O)&&0>N.l(O))return v(this.m()*N.m());for(var T=this.g.length+N.g.length,R=[],k=0;k<2*T;k++)R[k]=0;for(k=0;k<this.g.length;k++)for(var V=0;V<N.g.length;V++){var x=this.i(k)>>>16,S=this.i(k)&65535,Ce=N.i(V)>>>16,be=N.i(V)&65535;R[2*k+2*V]+=S*be,X(R,2*k+2*V),R[2*k+2*V+1]+=x*be,X(R,2*k+2*V+1),R[2*k+2*V+1]+=S*Ce,X(R,2*k+2*V+1),R[2*k+2*V+2]+=x*Ce,X(R,2*k+2*V+2)}for(k=0;k<T;k++)R[k]=R[2*k+1]<<16|R[2*k];for(k=T;k<2*T;k++)R[k]=0;return new h(R,0)};function X(N,T){for(;(N[T]&65535)!=N[T];)N[T+1]+=N[T]>>>16,N[T]&=65535,T++}function se(N,T){this.g=N,this.h=T}function fe(N,T){if(b(T))throw Error("division by zero");if(b(N))return new se(I,I);if(q(N))return T=fe(j(N),T),new se(j(T.g),j(T.h));if(q(T))return T=fe(N,j(T)),new se(j(T.g),T.h);if(30<N.g.length){if(q(N)||q(T))throw Error("slowDivide_ only works with positive integers.");for(var R=A,k=T;0>=k.l(N);)R=Pe(R),k=Pe(k);var V=Te(R,1),x=Te(k,1);for(k=Te(k,2),R=Te(R,2);!b(k);){var S=x.add(k);0>=S.l(N)&&(V=V.add(R),x=S),k=Te(k,1),R=Te(R,1)}return T=Q(N,V.j(T)),new se(V,T)}for(V=I;0<=N.l(T);){for(R=Math.max(1,Math.floor(N.m()/T.m())),k=Math.ceil(Math.log(R)/Math.LN2),k=48>=k?1:Math.pow(2,k-48),x=v(R),S=x.j(T);q(S)||0<S.l(N);)R-=k,x=v(R),S=x.j(T);b(x)&&(x=A),V=V.add(x),N=Q(N,S)}return new se(V,N)}i.A=function(N){return fe(this,N).h},i.and=function(N){for(var T=Math.max(this.g.length,N.g.length),R=[],k=0;k<T;k++)R[k]=this.i(k)&N.i(k);return new h(R,this.h&N.h)},i.or=function(N){for(var T=Math.max(this.g.length,N.g.length),R=[],k=0;k<T;k++)R[k]=this.i(k)|N.i(k);return new h(R,this.h|N.h)},i.xor=function(N){for(var T=Math.max(this.g.length,N.g.length),R=[],k=0;k<T;k++)R[k]=this.i(k)^N.i(k);return new h(R,this.h^N.h)};function Pe(N){for(var T=N.g.length+1,R=[],k=0;k<T;k++)R[k]=N.i(k)<<1|N.i(k-1)>>>31;return new h(R,N.h)}function Te(N,T){var R=T>>5;T%=32;for(var k=N.g.length-R,V=[],x=0;x<k;x++)V[x]=0<T?N.i(x+R)>>>T|N.i(x+R+1)<<32-T:N.i(x+R);return new h(V,N.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,hy=s,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.A,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=v,h.fromString=w,Wi=h}).apply(typeof zm<"u"?zm:typeof self<"u"?self:typeof window<"u"?window:{});var au=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var dy,ma,fy,mu,rd,py,my,gy;(function(){var i,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(l,p,y){return l==Array.prototype||l==Object.prototype||(l[p]=y.value),l};function t(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof au=="object"&&au];for(var p=0;p<l.length;++p){var y=l[p];if(y&&y.Math==Math)return y}throw Error("Cannot find global object")}var s=t(this);function o(l,p){if(p)e:{var y=s;l=l.split(".");for(var E=0;E<l.length-1;E++){var M=l[E];if(!(M in y))break e;y=y[M]}l=l[l.length-1],E=y[l],p=p(E),p!=E&&p!=null&&e(y,l,{configurable:!0,writable:!0,value:p})}}function u(l,p){l instanceof String&&(l+="");var y=0,E=!1,M={next:function(){if(!E&&y<l.length){var H=y++;return{value:p(H,l[H]),done:!1}}return E=!0,{done:!0,value:void 0}}};return M[Symbol.iterator]=function(){return M},M}o("Array.prototype.values",function(l){return l||function(){return u(this,function(p,y){return y})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},f=this||self;function g(l){var p=typeof l;return p=p!="object"?p:l?Array.isArray(l)?"array":p:"null",p=="array"||p=="object"&&typeof l.length=="number"}function v(l){var p=typeof l;return p=="object"&&l!=null||p=="function"}function w(l,p,y){return l.call.apply(l.bind,arguments)}function I(l,p,y){if(!l)throw Error();if(2<arguments.length){var E=Array.prototype.slice.call(arguments,2);return function(){var M=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(M,E),l.apply(p,M)}}return function(){return l.apply(p,arguments)}}function A(l,p,y){return A=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?w:I,A.apply(null,arguments)}function O(l,p){var y=Array.prototype.slice.call(arguments,1);return function(){var E=y.slice();return E.push.apply(E,arguments),l.apply(this,E)}}function b(l,p){function y(){}y.prototype=p.prototype,l.aa=p.prototype,l.prototype=new y,l.prototype.constructor=l,l.Qb=function(E,M,H){for(var ie=Array(arguments.length-2),He=2;He<arguments.length;He++)ie[He-2]=arguments[He];return p.prototype[M].apply(E,ie)}}function q(l){const p=l.length;if(0<p){const y=Array(p);for(let E=0;E<p;E++)y[E]=l[E];return y}return[]}function j(l,p){for(let y=1;y<arguments.length;y++){const E=arguments[y];if(g(E)){const M=l.length||0,H=E.length||0;l.length=M+H;for(let ie=0;ie<H;ie++)l[M+ie]=E[ie]}else l.push(E)}}class Q{constructor(p,y){this.i=p,this.j=y,this.h=0,this.g=null}get(){let p;return 0<this.h?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function X(l){return/^[\s\xa0]*$/.test(l)}function se(){var l=f.navigator;return l&&(l=l.userAgent)?l:""}function fe(l){return fe[" "](l),l}fe[" "]=function(){};var Pe=se().indexOf("Gecko")!=-1&&!(se().toLowerCase().indexOf("webkit")!=-1&&se().indexOf("Edge")==-1)&&!(se().indexOf("Trident")!=-1||se().indexOf("MSIE")!=-1)&&se().indexOf("Edge")==-1;function Te(l,p,y){for(const E in l)p.call(y,l[E],E,l)}function N(l,p){for(const y in l)p.call(void 0,l[y],y,l)}function T(l){const p={};for(const y in l)p[y]=l[y];return p}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function k(l,p){let y,E;for(let M=1;M<arguments.length;M++){E=arguments[M];for(y in E)l[y]=E[y];for(let H=0;H<R.length;H++)y=R[H],Object.prototype.hasOwnProperty.call(E,y)&&(l[y]=E[y])}}function V(l){var p=1;l=l.split(":");const y=[];for(;0<p&&l.length;)y.push(l.shift()),p--;return l.length&&y.push(l.join(":")),y}function x(l){f.setTimeout(()=>{throw l},0)}function S(){var l=ce;let p=null;return l.g&&(p=l.g,l.g=l.g.next,l.g||(l.h=null),p.next=null),p}class Ce{constructor(){this.h=this.g=null}add(p,y){const E=be.get();E.set(p,y),this.h?this.h.next=E:this.g=E,this.h=E}}var be=new Q(()=>new De,l=>l.reset());class De{constructor(){this.next=this.g=this.h=null}set(p,y){this.h=p,this.g=y,this.next=null}reset(){this.next=this.g=this.h=null}}let ke,ne=!1,ce=new Ce,te=()=>{const l=f.Promise.resolve(void 0);ke=()=>{l.then(L)}};var L=()=>{for(var l;l=S();){try{l.h.call(l.g)}catch(y){x(y)}var p=be;p.j(l),100>p.h&&(p.h++,l.next=p.g,p.g=l)}ne=!1};function W(){this.s=this.s,this.C=this.C}W.prototype.s=!1,W.prototype.ma=function(){this.s||(this.s=!0,this.N())},W.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Y(l,p){this.type=l,this.g=this.target=p,this.defaultPrevented=!1}Y.prototype.h=function(){this.defaultPrevented=!0};var ae=function(){if(!f.addEventListener||!Object.defineProperty)return!1;var l=!1,p=Object.defineProperty({},"passive",{get:function(){l=!0}});try{const y=()=>{};f.addEventListener("test",y,p),f.removeEventListener("test",y,p)}catch{}return l}();function he(l,p){if(Y.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l){var y=this.type=l.type,E=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;if(this.target=l.target||l.srcElement,this.g=p,p=l.relatedTarget){if(Pe){e:{try{fe(p.nodeName);var M=!0;break e}catch{}M=!1}M||(p=null)}}else y=="mouseover"?p=l.fromElement:y=="mouseout"&&(p=l.toElement);this.relatedTarget=p,E?(this.clientX=E.clientX!==void 0?E.clientX:E.pageX,this.clientY=E.clientY!==void 0?E.clientY:E.pageY,this.screenX=E.screenX||0,this.screenY=E.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=typeof l.pointerType=="string"?l.pointerType:ye[l.pointerType]||"",this.state=l.state,this.i=l,l.defaultPrevented&&he.aa.h.call(this)}}b(he,Y);var ye={2:"touch",3:"pen",4:"mouse"};he.prototype.h=function(){he.aa.h.call(this);var l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var Ee="closure_listenable_"+(1e6*Math.random()|0),xe=0;function Ve(l,p,y,E,M){this.listener=l,this.proxy=null,this.src=p,this.type=y,this.capture=!!E,this.ha=M,this.key=++xe,this.da=this.fa=!1}function et(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function ln(l){this.src=l,this.g={},this.h=0}ln.prototype.add=function(l,p,y,E,M){var H=l.toString();l=this.g[H],l||(l=this.g[H]=[],this.h++);var ie=jn(l,p,E,M);return-1<ie?(p=l[ie],y||(p.fa=!1)):(p=new Ve(p,this.src,H,!!E,M),p.fa=y,l.push(p)),p};function En(l,p){var y=p.type;if(y in l.g){var E=l.g[y],M=Array.prototype.indexOf.call(E,p,void 0),H;(H=0<=M)&&Array.prototype.splice.call(E,M,1),H&&(et(p),l.g[y].length==0&&(delete l.g[y],l.h--))}}function jn(l,p,y,E){for(var M=0;M<l.length;++M){var H=l[M];if(!H.da&&H.listener==p&&H.capture==!!y&&H.ha==E)return M}return-1}var mi="closure_lm_"+(1e6*Math.random()|0),ts={};function go(l,p,y,E,M){if(Array.isArray(p)){for(var H=0;H<p.length;H++)go(l,p[H],y,E,M);return null}return y=_o(y),l&&l[Ee]?l.K(p,y,v(E)?!!E.capture:!!E,M):yo(l,p,y,!1,E,M)}function yo(l,p,y,E,M,H){if(!p)throw Error("Invalid event type");var ie=v(M)?!!M.capture:!!M,He=rs(l);if(He||(l[mi]=He=new ln(l)),y=He.add(p,y,E,ie,H),y.proxy)return y;if(E=qa(),y.proxy=E,E.src=l,E.listener=y,l.addEventListener)ae||(M=ie),M===void 0&&(M=!1),l.addEventListener(p.toString(),E,M);else if(l.attachEvent)l.attachEvent(or(p.toString()),E);else if(l.addListener&&l.removeListener)l.addListener(E);else throw Error("addEventListener and attachEvent are unavailable.");return y}function qa(){function l(y){return p.call(l.src,l.listener,y)}const p=vo;return l}function ns(l,p,y,E,M){if(Array.isArray(p))for(var H=0;H<p.length;H++)ns(l,p[H],y,E,M);else E=v(E)?!!E.capture:!!E,y=_o(y),l&&l[Ee]?(l=l.i,p=String(p).toString(),p in l.g&&(H=l.g[p],y=jn(H,y,E,M),-1<y&&(et(H[y]),Array.prototype.splice.call(H,y,1),H.length==0&&(delete l.g[p],l.h--)))):l&&(l=rs(l))&&(p=l.g[p.toString()],l=-1,p&&(l=jn(p,y,E,M)),(y=-1<l?p[l]:null)&&sr(y))}function sr(l){if(typeof l!="number"&&l&&!l.da){var p=l.src;if(p&&p[Ee])En(p.i,l);else{var y=l.type,E=l.proxy;p.removeEventListener?p.removeEventListener(y,E,l.capture):p.detachEvent?p.detachEvent(or(y),E):p.addListener&&p.removeListener&&p.removeListener(E),(y=rs(p))?(En(y,l),y.h==0&&(y.src=null,p[mi]=null)):et(l)}}}function or(l){return l in ts?ts[l]:ts[l]="on"+l}function vo(l,p){if(l.da)l=!0;else{p=new he(p,this);var y=l.listener,E=l.ha||l.src;l.fa&&sr(l),l=y.call(E,p)}return l}function rs(l){return l=l[mi],l instanceof ln?l:null}var is="__closure_events_fn_"+(1e9*Math.random()>>>0);function _o(l){return typeof l=="function"?l:(l[is]||(l[is]=function(p){return l.handleEvent(p)}),l[is])}function ft(){W.call(this),this.i=new ln(this),this.M=this,this.F=null}b(ft,W),ft.prototype[Ee]=!0,ft.prototype.removeEventListener=function(l,p,y,E){ns(this,l,p,y,E)};function pt(l,p){var y,E=l.F;if(E)for(y=[];E;E=E.F)y.push(E);if(l=l.M,E=p.type||p,typeof p=="string")p=new Y(p,l);else if(p instanceof Y)p.target=p.target||l;else{var M=p;p=new Y(E,l),k(p,M)}if(M=!0,y)for(var H=y.length-1;0<=H;H--){var ie=p.g=y[H];M=ar(ie,E,!0,p)&&M}if(ie=p.g=l,M=ar(ie,E,!0,p)&&M,M=ar(ie,E,!1,p)&&M,y)for(H=0;H<y.length;H++)ie=p.g=y[H],M=ar(ie,E,!1,p)&&M}ft.prototype.N=function(){if(ft.aa.N.call(this),this.i){var l=this.i,p;for(p in l.g){for(var y=l.g[p],E=0;E<y.length;E++)et(y[E]);delete l.g[p],l.h--}}this.F=null},ft.prototype.K=function(l,p,y,E){return this.i.add(String(l),p,!1,y,E)},ft.prototype.L=function(l,p,y,E){return this.i.add(String(l),p,!0,y,E)};function ar(l,p,y,E){if(p=l.i.g[String(p)],!p)return!0;p=p.concat();for(var M=!0,H=0;H<p.length;++H){var ie=p[H];if(ie&&!ie.da&&ie.capture==y){var He=ie.listener,mt=ie.ha||ie.src;ie.fa&&En(l.i,ie),M=He.call(mt,E)!==!1&&M}}return M&&!E.defaultPrevented}function wo(l,p,y){if(typeof l=="function")y&&(l=A(l,y));else if(l&&typeof l.handleEvent=="function")l=A(l.handleEvent,l);else throw Error("Invalid listener argument");return 2147483647<Number(p)?-1:f.setTimeout(l,p||0)}function kr(l){l.g=wo(()=>{l.g=null,l.i&&(l.i=!1,kr(l))},l.l);const p=l.h;l.h=null,l.m.apply(null,p)}class gi extends W{constructor(p,y){super(),this.m=p,this.l=y,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:kr(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function yi(l){W.call(this),this.h=l,this.g={}}b(yi,W);var Eo=[];function To(l){Te(l.g,function(p,y){this.g.hasOwnProperty(y)&&sr(p)},l),l.g={}}yi.prototype.N=function(){yi.aa.N.call(this),To(this)},yi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Io=f.JSON.stringify,So=f.JSON.parse,Co=class{stringify(l){return f.JSON.stringify(l,void 0)}parse(l){return f.JSON.parse(l,void 0)}};function vi(){}vi.prototype.h=null;function ss(l){return l.h||(l.h=l.i())}function os(){}var un={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function zn(){Y.call(this,"d")}b(zn,Y);function as(){Y.call(this,"c")}b(as,Y);var Bn={},Ao=null;function _i(){return Ao=Ao||new ft}Bn.La="serverreachability";function Ro(l){Y.call(this,Bn.La,l)}b(Ro,Y);function lr(l){const p=_i();pt(p,new Ro(p))}Bn.STAT_EVENT="statevent";function Po(l,p){Y.call(this,Bn.STAT_EVENT,l),this.stat=p}b(Po,Y);function ot(l){const p=_i();pt(p,new Po(p,l))}Bn.Ma="timingevent";function ls(l,p){Y.call(this,Bn.Ma,l),this.size=p}b(ls,Y);function Tn(l,p){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){l()},p)}function wi(){this.g=!0}wi.prototype.xa=function(){this.g=!1};function Ei(l,p,y,E,M,H){l.info(function(){if(l.g)if(H)for(var ie="",He=H.split("&"),mt=0;mt<He.length;mt++){var Ue=He[mt].split("=");if(1<Ue.length){var wt=Ue[0];Ue=Ue[1];var ut=wt.split("_");ie=2<=ut.length&&ut[1]=="type"?ie+(wt+"="+Ue+"&"):ie+(wt+"=redacted&")}}else ie=null;else ie=H;return"XMLHTTP REQ ("+E+") [attempt "+M+"]: "+p+`
`+y+`
`+ie})}function us(l,p,y,E,M,H,ie){l.info(function(){return"XMLHTTP RESP ("+E+") [ attempt "+M+"]: "+p+`
`+y+`
`+H+" "+ie})}function In(l,p,y,E){l.info(function(){return"XMLHTTP TEXT ("+p+"): "+sc(l,y)+(E?" "+E:"")})}function ko(l,p){l.info(function(){return"TIMEOUT: "+p})}wi.prototype.info=function(){};function sc(l,p){if(!l.g)return p;if(!p)return null;try{var y=JSON.parse(p);if(y){for(l=0;l<y.length;l++)if(Array.isArray(y[l])){var E=y[l];if(!(2>E.length)){var M=E[1];if(Array.isArray(M)&&!(1>M.length)){var H=M[0];if(H!="noop"&&H!="stop"&&H!="close")for(var ie=1;ie<M.length;ie++)M[ie]=""}}}}return Io(y)}catch{return p}}var cs={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ha={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Sn;function Ti(){}b(Ti,vi),Ti.prototype.g=function(){return new XMLHttpRequest},Ti.prototype.i=function(){return{}},Sn=new Ti;function Cn(l,p,y,E){this.j=l,this.i=p,this.l=y,this.R=E||1,this.U=new yi(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Wa}function Wa(){this.i=null,this.g="",this.h=!1}var xo={},hs={};function ds(l,p,y){l.L=1,l.v=Lr(tn(p)),l.m=y,l.P=!0,No(l,null)}function No(l,p){l.F=Date.now(),Qe(l),l.A=tn(l.v);var y=l.A,E=l.R;Array.isArray(E)||(E=[String(E)]),br(y.i,"t",E),l.C=0,y=l.j.J,l.h=new Wa,l.g=cl(l.j,y?p:null,!l.m),0<l.O&&(l.M=new gi(A(l.Y,l,l.g),l.O)),p=l.U,y=l.g,E=l.ca;var M="readystatechange";Array.isArray(M)||(M&&(Eo[0]=M.toString()),M=Eo);for(var H=0;H<M.length;H++){var ie=go(y,M[H],E||p.handleEvent,!1,p.h||p);if(!ie)break;p.g[ie.key]=ie}p=l.H?T(l.H):{},l.m?(l.u||(l.u="POST"),p["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.A,l.u,l.m,p)):(l.u="GET",l.g.ea(l.A,l.u,null,p)),lr(),Ei(l.i,l.u,l.A,l.l,l.R,l.m)}Cn.prototype.ca=function(l){l=l.target;const p=this.M;p&&Ht(l)==3?p.j():this.Y(l)},Cn.prototype.Y=function(l){try{if(l==this.g)e:{const ut=Ht(this.g);var p=this.g.Ba();const dn=this.g.Z();if(!(3>ut)&&(ut!=3||this.g&&(this.h.h||this.g.oa()||Mo(this.g)))){this.J||ut!=4||p==7||(p==8||0>=dn?lr(3):lr(2)),Ii(this);var y=this.g.Z();this.X=y;t:if(Qa(this)){var E=Mo(this.g);l="";var M=E.length,H=Ht(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){cn(this),xr(this);var ie="";break t}this.h.i=new f.TextDecoder}for(p=0;p<M;p++)this.h.h=!0,l+=this.h.i.decode(E[p],{stream:!(H&&p==M-1)});E.length=0,this.h.g+=l,this.C=0,ie=this.h.g}else ie=this.g.oa();if(this.o=y==200,us(this.i,this.u,this.A,this.l,this.R,ut,y),this.o){if(this.T&&!this.K){t:{if(this.g){var He,mt=this.g;if((He=mt.g?mt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!X(He)){var Ue=He;break t}}Ue=null}if(y=Ue)In(this.i,this.l,y,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Do(this,y);else{this.o=!1,this.s=3,ot(12),cn(this),xr(this);break e}}if(this.P){y=!0;let rn;for(;!this.J&&this.C<ie.length;)if(rn=oc(this,ie),rn==hs){ut==4&&(this.s=4,ot(14),y=!1),In(this.i,this.l,null,"[Incomplete Response]");break}else if(rn==xo){this.s=4,ot(15),In(this.i,this.l,ie,"[Invalid Chunk]"),y=!1;break}else In(this.i,this.l,rn,null),Do(this,rn);if(Qa(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ut!=4||ie.length!=0||this.h.h||(this.s=1,ot(16),y=!1),this.o=this.o&&y,!y)In(this.i,this.l,ie,"[Invalid Chunked Response]"),cn(this),xr(this);else if(0<ie.length&&!this.W){this.W=!0;var wt=this.j;wt.g==this&&wt.ba&&!wt.M&&(wt.j.info("Great, no buffering proxy detected. Bytes received: "+ie.length),Uo(wt),wt.M=!0,ot(11))}}else In(this.i,this.l,ie,null),Do(this,ie);ut==4&&cn(this),this.o&&!this.J&&(ut==4?Is(this.j,this):(this.o=!1,Qe(this)))}else vs(this.g),y==400&&0<ie.indexOf("Unknown SID")?(this.s=3,ot(12)):(this.s=0,ot(13)),cn(this),xr(this)}}}catch{}finally{}};function Qa(l){return l.g?l.u=="GET"&&l.L!=2&&l.j.Ca:!1}function oc(l,p){var y=l.C,E=p.indexOf(`
`,y);return E==-1?hs:(y=Number(p.substring(y,E)),isNaN(y)?xo:(E+=1,E+y>p.length?hs:(p=p.slice(E,E+y),l.C=E+y,p)))}Cn.prototype.cancel=function(){this.J=!0,cn(this)};function Qe(l){l.S=Date.now()+l.I,Ka(l,l.I)}function Ka(l,p){if(l.B!=null)throw Error("WatchDog timer not null");l.B=Tn(A(l.ba,l),p)}function Ii(l){l.B&&(f.clearTimeout(l.B),l.B=null)}Cn.prototype.ba=function(){this.B=null;const l=Date.now();0<=l-this.S?(ko(this.i,this.A),this.L!=2&&(lr(),ot(17)),cn(this),this.s=2,xr(this)):Ka(this,this.S-l)};function xr(l){l.j.G==0||l.J||Is(l.j,l)}function cn(l){Ii(l);var p=l.M;p&&typeof p.ma=="function"&&p.ma(),l.M=null,To(l.U),l.g&&(p=l.g,l.g=null,p.abort(),p.ma())}function Do(l,p){try{var y=l.j;if(y.G!=0&&(y.g==l||jt(y.h,l))){if(!l.K&&jt(y.h,l)&&y.G==3){try{var E=y.Da.g.parse(p)}catch{E=null}if(Array.isArray(E)&&E.length==3){var M=E;if(M[0]==0){e:if(!y.u){if(y.g)if(y.g.F+3e3<l.F)Ts(y),xn(y);else break e;Es(y),ot(18)}}else y.za=M[1],0<y.za-y.T&&37500>M[2]&&y.F&&y.v==0&&!y.C&&(y.C=Tn(A(y.Za,y),6e3));if(1>=Ya(y.h)&&y.ca){try{y.ca()}catch{}y.ca=void 0}}else fr(y,11)}else if((l.K||y.g==l)&&Ts(y),!X(p))for(M=y.Da.g.parse(p),p=0;p<M.length;p++){let Ue=M[p];if(y.T=Ue[0],Ue=Ue[1],y.G==2)if(Ue[0]=="c"){y.K=Ue[1],y.ia=Ue[2];const wt=Ue[3];wt!=null&&(y.la=wt,y.j.info("VER="+y.la));const ut=Ue[4];ut!=null&&(y.Aa=ut,y.j.info("SVER="+y.Aa));const dn=Ue[5];dn!=null&&typeof dn=="number"&&0<dn&&(E=1.5*dn,y.L=E,y.j.info("backChannelRequestTimeoutMs_="+E)),E=y;const rn=l.g;if(rn){const xi=rn.g?rn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(xi){var H=E.h;H.g||xi.indexOf("spdy")==-1&&xi.indexOf("quic")==-1&&xi.indexOf("h2")==-1||(H.j=H.l,H.g=new Set,H.h&&(Vo(H,H.h),H.h=null))}if(E.D){const Cs=rn.g?rn.g.getResponseHeader("X-HTTP-Session-Id"):null;Cs&&(E.ya=Cs,We(E.I,E.D,Cs))}}y.G=3,y.l&&y.l.ua(),y.ba&&(y.R=Date.now()-l.F,y.j.info("Handshake RTT: "+y.R+"ms")),E=y;var ie=l;if(E.qa=ul(E,E.J?E.ia:null,E.W),ie.K){Xa(E.h,ie);var He=ie,mt=E.L;mt&&(He.I=mt),He.B&&(Ii(He),Qe(He)),E.g=ie}else ki(E);0<y.i.length&&Wn(y)}else Ue[0]!="stop"&&Ue[0]!="close"||fr(y,7);else y.G==3&&(Ue[0]=="stop"||Ue[0]=="close"?Ue[0]=="stop"?fr(y,7):Rt(y):Ue[0]!="noop"&&y.l&&y.l.ta(Ue),y.v=0)}}lr(4)}catch{}}var Ga=class{constructor(l,p){this.g=l,this.map=p}};function Si(l){this.l=l||10,f.PerformanceNavigationTiming?(l=f.performance.getEntriesByType("navigation"),l=0<l.length&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function en(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function Ya(l){return l.h?1:l.g?l.g.size:0}function jt(l,p){return l.h?l.h==p:l.g?l.g.has(p):!1}function Vo(l,p){l.g?l.g.add(p):l.h=p}function Xa(l,p){l.h&&l.h==p?l.h=null:l.g&&l.g.has(p)&&l.g.delete(p)}Si.prototype.cancel=function(){if(this.i=Ja(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const l of this.g.values())l.cancel();this.g.clear()}};function Ja(l){if(l.h!=null)return l.i.concat(l.h.D);if(l.g!=null&&l.g.size!==0){let p=l.i;for(const y of l.g.values())p=p.concat(y.D);return p}return q(l.i)}function fs(l){if(l.V&&typeof l.V=="function")return l.V();if(typeof Map<"u"&&l instanceof Map||typeof Set<"u"&&l instanceof Set)return Array.from(l.values());if(typeof l=="string")return l.split("");if(g(l)){for(var p=[],y=l.length,E=0;E<y;E++)p.push(l[E]);return p}p=[],y=0;for(E in l)p[y++]=l[E];return p}function ps(l){if(l.na&&typeof l.na=="function")return l.na();if(!l.V||typeof l.V!="function"){if(typeof Map<"u"&&l instanceof Map)return Array.from(l.keys());if(!(typeof Set<"u"&&l instanceof Set)){if(g(l)||typeof l=="string"){var p=[];l=l.length;for(var y=0;y<l;y++)p.push(y);return p}p=[],y=0;for(const E in l)p[y++]=E;return p}}}function Nr(l,p){if(l.forEach&&typeof l.forEach=="function")l.forEach(p,void 0);else if(g(l)||typeof l=="string")Array.prototype.forEach.call(l,p,void 0);else for(var y=ps(l),E=fs(l),M=E.length,H=0;H<M;H++)p.call(void 0,E[H],y&&y[H],l)}var Ci=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ac(l,p){if(l){l=l.split("&");for(var y=0;y<l.length;y++){var E=l[y].indexOf("="),M=null;if(0<=E){var H=l[y].substring(0,E);M=l[y].substring(E+1)}else H=l[y];p(H,M?decodeURIComponent(M.replace(/\+/g," ")):"")}}}function ur(l){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,l instanceof ur){this.h=l.h,Ai(this,l.j),this.o=l.o,this.g=l.g,Dr(this,l.s),this.l=l.l;var p=l.i,y=new $n;y.i=p.i,p.g&&(y.g=new Map(p.g),y.h=p.h),Vr(this,y),this.m=l.m}else l&&(p=String(l).match(Ci))?(this.h=!1,Ai(this,p[1]||"",!0),this.o=Me(p[2]||""),this.g=Me(p[3]||"",!0),Dr(this,p[4]),this.l=Me(p[5]||"",!0),Vr(this,p[6]||"",!0),this.m=Me(p[7]||"")):(this.h=!1,this.i=new $n(null,this.h))}ur.prototype.toString=function(){var l=[],p=this.j;p&&l.push(Or(p,ms,!0),":");var y=this.g;return(y||p=="file")&&(l.push("//"),(p=this.o)&&l.push(Or(p,ms,!0),"@"),l.push(encodeURIComponent(String(y)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y=this.s,y!=null&&l.push(":",String(y))),(y=this.l)&&(this.g&&y.charAt(0)!="/"&&l.push("/"),l.push(Or(y,y.charAt(0)=="/"?tl:el,!0))),(y=this.i.toString())&&l.push("?",y),(y=this.m)&&l.push("#",Or(y,Lo)),l.join("")};function tn(l){return new ur(l)}function Ai(l,p,y){l.j=y?Me(p,!0):p,l.j&&(l.j=l.j.replace(/:$/,""))}function Dr(l,p){if(p){if(p=Number(p),isNaN(p)||0>p)throw Error("Bad port number "+p);l.s=p}else l.s=null}function Vr(l,p,y){p instanceof $n?(l.i=p,qn(l.i,l.h)):(y||(p=Or(p,nl)),l.i=new $n(p,l.h))}function We(l,p,y){l.i.set(p,y)}function Lr(l){return We(l,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),l}function Me(l,p){return l?p?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function Or(l,p,y){return typeof l=="string"?(l=encodeURI(l).replace(p,Za),y&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function Za(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var ms=/[#\/\?@]/g,el=/[#\?:]/g,tl=/[#\?]/g,nl=/[#\?@]/g,Lo=/#/g;function $n(l,p){this.h=this.g=null,this.i=l||null,this.j=!!p}function At(l){l.g||(l.g=new Map,l.h=0,l.i&&ac(l.i,function(p,y){l.add(decodeURIComponent(p.replace(/\+/g," ")),y)}))}i=$n.prototype,i.add=function(l,p){At(this),this.i=null,l=hn(this,l);var y=this.g.get(l);return y||this.g.set(l,y=[]),y.push(p),this.h+=1,this};function An(l,p){At(l),p=hn(l,p),l.g.has(p)&&(l.i=null,l.h-=l.g.get(p).length,l.g.delete(p))}function Rn(l,p){return At(l),p=hn(l,p),l.g.has(p)}i.forEach=function(l,p){At(this),this.g.forEach(function(y,E){y.forEach(function(M){l.call(p,M,E,this)},this)},this)},i.na=function(){At(this);const l=Array.from(this.g.values()),p=Array.from(this.g.keys()),y=[];for(let E=0;E<p.length;E++){const M=l[E];for(let H=0;H<M.length;H++)y.push(p[E])}return y},i.V=function(l){At(this);let p=[];if(typeof l=="string")Rn(this,l)&&(p=p.concat(this.g.get(hn(this,l))));else{l=Array.from(this.g.values());for(let y=0;y<l.length;y++)p=p.concat(l[y])}return p},i.set=function(l,p){return At(this),this.i=null,l=hn(this,l),Rn(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[p]),this.h+=1,this},i.get=function(l,p){return l?(l=this.V(l),0<l.length?String(l[0]):p):p};function br(l,p,y){An(l,p),0<y.length&&(l.i=null,l.g.set(hn(l,p),q(y)),l.h+=y.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const l=[],p=Array.from(this.g.keys());for(var y=0;y<p.length;y++){var E=p[y];const H=encodeURIComponent(String(E)),ie=this.V(E);for(E=0;E<ie.length;E++){var M=H;ie[E]!==""&&(M+="="+encodeURIComponent(String(ie[E]))),l.push(M)}}return this.i=l.join("&")};function hn(l,p){return p=String(p),l.j&&(p=p.toLowerCase()),p}function qn(l,p){p&&!l.j&&(At(l),l.i=null,l.g.forEach(function(y,E){var M=E.toLowerCase();E!=M&&(An(this,E),br(this,M,y))},l)),l.j=p}function lc(l,p){const y=new wi;if(f.Image){const E=new Image;E.onload=O(qt,y,"TestLoadImage: loaded",!0,p,E),E.onerror=O(qt,y,"TestLoadImage: error",!1,p,E),E.onabort=O(qt,y,"TestLoadImage: abort",!1,p,E),E.ontimeout=O(qt,y,"TestLoadImage: timeout",!1,p,E),f.setTimeout(function(){E.ontimeout&&E.ontimeout()},1e4),E.src=l}else p(!1)}function rl(l,p){const y=new wi,E=new AbortController,M=setTimeout(()=>{E.abort(),qt(y,"TestPingServer: timeout",!1,p)},1e4);fetch(l,{signal:E.signal}).then(H=>{clearTimeout(M),H.ok?qt(y,"TestPingServer: ok",!0,p):qt(y,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(M),qt(y,"TestPingServer: error",!1,p)})}function qt(l,p,y,E,M){try{M&&(M.onload=null,M.onerror=null,M.onabort=null,M.ontimeout=null),E(y)}catch{}}function uc(){this.g=new Co}function il(l,p,y){const E=y||"";try{Nr(l,function(M,H){let ie=M;v(M)&&(ie=Io(M)),p.push(E+H+"="+encodeURIComponent(ie))})}catch(M){throw p.push(E+"type="+encodeURIComponent("_badmap")),M}}function cr(l){this.l=l.Ub||null,this.j=l.eb||!1}b(cr,vi),cr.prototype.g=function(){return new Ri(this.l,this.j)},cr.prototype.i=function(l){return function(){return l}}({});function Ri(l,p){ft.call(this),this.D=l,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}b(Ri,ft),i=Ri.prototype,i.open=function(l,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=l,this.A=p,this.readyState=1,kn(this)},i.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const p={headers:this.u,method:this.B,credentials:this.m,cache:void 0};l&&(p.body=l),(this.D||f).fetch(new Request(this.A,p)).then(this.Sa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Pn(this)),this.readyState=0},i.Sa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,kn(this)),this.g&&(this.readyState=3,kn(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;sl(this)}else l.text().then(this.Ra.bind(this),this.ga.bind(this))};function sl(l){l.j.read().then(l.Pa.bind(l)).catch(l.ga.bind(l))}i.Pa=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var p=l.value?l.value:new Uint8Array(0);(p=this.v.decode(p,{stream:!l.done}))&&(this.response=this.responseText+=p)}l.done?Pn(this):kn(this),this.readyState==3&&sl(this)}},i.Ra=function(l){this.g&&(this.response=this.responseText=l,Pn(this))},i.Qa=function(l){this.g&&(this.response=l,Pn(this))},i.ga=function(){this.g&&Pn(this)};function Pn(l){l.readyState=4,l.l=null,l.j=null,l.v=null,kn(l)}i.setRequestHeader=function(l,p){this.u.append(l,p)},i.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const l=[],p=this.h.entries();for(var y=p.next();!y.done;)y=y.value,l.push(y[0]+": "+y[1]),y=p.next();return l.join(`\r
`)};function kn(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(Ri.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function hr(l){let p="";return Te(l,function(y,E){p+=E,p+=":",p+=y,p+=`\r
`}),p}function Mr(l,p,y){e:{for(E in y){var E=!1;break e}E=!0}E||(y=hr(y),typeof l=="string"?y!=null&&encodeURIComponent(String(y)):We(l,p,y))}function Je(l){ft.call(this),this.headers=new Map,this.o=l||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}b(Je,ft);var cc=/^https?$/i,Oo=["POST","PUT"];i=Je.prototype,i.Ha=function(l){this.J=l},i.ea=function(l,p,y,E){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);p=p?p.toUpperCase():"GET",this.D=l,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Sn.g(),this.v=this.o?ss(this.o):ss(Sn),this.g.onreadystatechange=A(this.Ea,this);try{this.B=!0,this.g.open(p,String(l),!0),this.B=!1}catch(H){Pi(this,H);return}if(l=y||"",y=new Map(this.headers),E)if(Object.getPrototypeOf(E)===Object.prototype)for(var M in E)y.set(M,E[M]);else if(typeof E.keys=="function"&&typeof E.get=="function")for(const H of E.keys())y.set(H,E.get(H));else throw Error("Unknown input type for opt_headers: "+String(E));E=Array.from(y.keys()).find(H=>H.toLowerCase()=="content-type"),M=f.FormData&&l instanceof f.FormData,!(0<=Array.prototype.indexOf.call(Oo,p,void 0))||E||M||y.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[H,ie]of y)this.g.setRequestHeader(H,ie);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ys(this),this.u=!0,this.g.send(l),this.u=!1}catch(H){Pi(this,H)}};function Pi(l,p){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=p,l.m=5,gs(l),nn(l)}function gs(l){l.A||(l.A=!0,pt(l,"complete"),pt(l,"error"))}i.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=l||7,pt(this,"complete"),pt(this,"abort"),nn(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),nn(this,!0)),Je.aa.N.call(this)},i.Ea=function(){this.s||(this.B||this.u||this.j?bo(this):this.bb())},i.bb=function(){bo(this)};function bo(l){if(l.h&&typeof h<"u"&&(!l.v[1]||Ht(l)!=4||l.Z()!=2)){if(l.u&&Ht(l)==4)wo(l.Ea,0,l);else if(pt(l,"readystatechange"),Ht(l)==4){l.h=!1;try{const ie=l.Z();e:switch(ie){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break e;default:p=!1}var y;if(!(y=p)){var E;if(E=ie===0){var M=String(l.D).match(Ci)[1]||null;!M&&f.self&&f.self.location&&(M=f.self.location.protocol.slice(0,-1)),E=!cc.test(M?M.toLowerCase():"")}y=E}if(y)pt(l,"complete"),pt(l,"success");else{l.m=6;try{var H=2<Ht(l)?l.g.statusText:""}catch{H=""}l.l=H+" ["+l.Z()+"]",gs(l)}}finally{nn(l)}}}}function nn(l,p){if(l.g){ys(l);const y=l.g,E=l.v[0]?()=>{}:null;l.g=null,l.v=null,p||pt(l,"ready");try{y.onreadystatechange=E}catch{}}}function ys(l){l.I&&(f.clearTimeout(l.I),l.I=null)}i.isActive=function(){return!!this.g};function Ht(l){return l.g?l.g.readyState:0}i.Z=function(){try{return 2<Ht(this)?this.g.status:-1}catch{return-1}},i.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.Oa=function(l){if(this.g){var p=this.g.responseText;return l&&p.indexOf(l)==0&&(p=p.substring(l.length)),So(p)}};function Mo(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.H){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function vs(l){const p={};l=(l.g&&2<=Ht(l)&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let E=0;E<l.length;E++){if(X(l[E]))continue;var y=V(l[E]);const M=y[0];if(y=y[1],typeof y!="string")continue;y=y.trim();const H=p[M]||[];p[M]=H,H.push(y)}N(p,function(E){return E.join(", ")})}i.Ba=function(){return this.m},i.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Hn(l,p,y){return y&&y.internalChannelParams&&y.internalChannelParams[l]||p}function Fo(l){this.Aa=0,this.i=[],this.j=new wi,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Hn("failFast",!1,l),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Hn("baseRetryDelayMs",5e3,l),this.cb=Hn("retryDelaySeedMs",1e4,l),this.Wa=Hn("forwardChannelMaxRetries",2,l),this.wa=Hn("forwardChannelRequestTimeoutMs",2e4,l),this.pa=l&&l.xmlHttpFactory||void 0,this.Xa=l&&l.Tb||void 0,this.Ca=l&&l.useFetchStreams||!1,this.L=void 0,this.J=l&&l.supportsCrossDomainXhr||!1,this.K="",this.h=new Si(l&&l.concurrentRequestLimit),this.Da=new uc,this.P=l&&l.fastHandshake||!1,this.O=l&&l.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=l&&l.Rb||!1,l&&l.xa&&this.j.xa(),l&&l.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&l&&l.detectBufferingProxy||!1,this.ja=void 0,l&&l.longPollingTimeout&&0<l.longPollingTimeout&&(this.ja=l.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}i=Fo.prototype,i.la=8,i.G=1,i.connect=function(l,p,y,E){ot(0),this.W=l,this.H=p||{},y&&E!==void 0&&(this.H.OSID=y,this.H.OAID=E),this.F=this.X,this.I=ul(this,null,this.W),Wn(this)};function Rt(l){if(_s(l),l.G==3){var p=l.U++,y=tn(l.I);if(We(y,"SID",l.K),We(y,"RID",p),We(y,"TYPE","terminate"),dr(l,y),p=new Cn(l,l.j,p),p.L=2,p.v=Lr(tn(y)),y=!1,f.navigator&&f.navigator.sendBeacon)try{y=f.navigator.sendBeacon(p.v.toString(),"")}catch{}!y&&f.Image&&(new Image().src=p.v,y=!0),y||(p.g=cl(p.j,null),p.g.ea(p.v)),p.F=Date.now(),Qe(p)}ll(l)}function xn(l){l.g&&(Uo(l),l.g.cancel(),l.g=null)}function _s(l){xn(l),l.u&&(f.clearTimeout(l.u),l.u=null),Ts(l),l.h.cancel(),l.s&&(typeof l.s=="number"&&f.clearTimeout(l.s),l.s=null)}function Wn(l){if(!en(l.h)&&!l.s){l.s=!0;var p=l.Ga;ke||te(),ne||(ke(),ne=!0),ce.add(p,l),l.B=0}}function hc(l,p){return Ya(l.h)>=l.h.j-(l.s?1:0)?!1:l.s?(l.i=p.D.concat(l.i),!0):l.G==1||l.G==2||l.B>=(l.Va?0:l.Wa)?!1:(l.s=Tn(A(l.Ga,l,p),al(l,l.B)),l.B++,!0)}i.Ga=function(l){if(this.s)if(this.s=null,this.G==1){if(!l){this.U=Math.floor(1e5*Math.random()),l=this.U++;const M=new Cn(this,this.j,l);let H=this.o;if(this.S&&(H?(H=T(H),k(H,this.S)):H=this.S),this.m!==null||this.O||(M.H=H,H=null),this.P)e:{for(var p=0,y=0;y<this.i.length;y++){t:{var E=this.i[y];if("__data__"in E.map&&(E=E.map.__data__,typeof E=="string")){E=E.length;break t}E=void 0}if(E===void 0)break;if(p+=E,4096<p){p=y;break e}if(p===4096||y===this.i.length-1){p=y+1;break e}}p=1e3}else p=1e3;p=Fr(this,M,p),y=tn(this.I),We(y,"RID",l),We(y,"CVER",22),this.D&&We(y,"X-HTTP-Session-Id",this.D),dr(this,y),H&&(this.O?p="headers="+encodeURIComponent(String(hr(H)))+"&"+p:this.m&&Mr(y,this.m,H)),Vo(this.h,M),this.Ua&&We(y,"TYPE","init"),this.P?(We(y,"$req",p),We(y,"SID","null"),M.T=!0,ds(M,y,null)):ds(M,y,p),this.G=2}}else this.G==3&&(l?ws(this,l):this.i.length==0||en(this.h)||ws(this))};function ws(l,p){var y;p?y=p.l:y=l.U++;const E=tn(l.I);We(E,"SID",l.K),We(E,"RID",y),We(E,"AID",l.T),dr(l,E),l.m&&l.o&&Mr(E,l.m,l.o),y=new Cn(l,l.j,y,l.B+1),l.m===null&&(y.H=l.o),p&&(l.i=p.D.concat(l.i)),p=Fr(l,y,1e3),y.I=Math.round(.5*l.wa)+Math.round(.5*l.wa*Math.random()),Vo(l.h,y),ds(y,E,p)}function dr(l,p){l.H&&Te(l.H,function(y,E){We(p,E,y)}),l.l&&Nr({},function(y,E){We(p,E,y)})}function Fr(l,p,y){y=Math.min(l.i.length,y);var E=l.l?A(l.l.Na,l.l,l):null;e:{var M=l.i;let H=-1;for(;;){const ie=["count="+y];H==-1?0<y?(H=M[0].g,ie.push("ofs="+H)):H=0:ie.push("ofs="+H);let He=!0;for(let mt=0;mt<y;mt++){let Ue=M[mt].g;const wt=M[mt].map;if(Ue-=H,0>Ue)H=Math.max(0,M[mt].g-100),He=!1;else try{il(wt,ie,"req"+Ue+"_")}catch{E&&E(wt)}}if(He){E=ie.join("&");break e}}}return l=l.i.splice(0,y),p.D=l,E}function ki(l){if(!l.g&&!l.u){l.Y=1;var p=l.Fa;ke||te(),ne||(ke(),ne=!0),ce.add(p,l),l.v=0}}function Es(l){return l.g||l.u||3<=l.v?!1:(l.Y++,l.u=Tn(A(l.Fa,l),al(l,l.v)),l.v++,!0)}i.Fa=function(){if(this.u=null,ol(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var l=2*this.R;this.j.info("BP detection timer enabled: "+l),this.A=Tn(A(this.ab,this),l)}},i.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ot(10),xn(this),ol(this))};function Uo(l){l.A!=null&&(f.clearTimeout(l.A),l.A=null)}function ol(l){l.g=new Cn(l,l.j,"rpc",l.Y),l.m===null&&(l.g.H=l.o),l.g.O=0;var p=tn(l.qa);We(p,"RID","rpc"),We(p,"SID",l.K),We(p,"AID",l.T),We(p,"CI",l.F?"0":"1"),!l.F&&l.ja&&We(p,"TO",l.ja),We(p,"TYPE","xmlhttp"),dr(l,p),l.m&&l.o&&Mr(p,l.m,l.o),l.L&&(l.g.I=l.L);var y=l.g;l=l.ia,y.L=1,y.v=Lr(tn(p)),y.m=null,y.P=!0,No(y,l)}i.Za=function(){this.C!=null&&(this.C=null,xn(this),Es(this),ot(19))};function Ts(l){l.C!=null&&(f.clearTimeout(l.C),l.C=null)}function Is(l,p){var y=null;if(l.g==p){Ts(l),Uo(l),l.g=null;var E=2}else if(jt(l.h,p))y=p.D,Xa(l.h,p),E=1;else return;if(l.G!=0){if(p.o)if(E==1){y=p.m?p.m.length:0,p=Date.now()-p.F;var M=l.B;E=_i(),pt(E,new ls(E,y)),Wn(l)}else ki(l);else if(M=p.s,M==3||M==0&&0<p.X||!(E==1&&hc(l,p)||E==2&&Es(l)))switch(y&&0<y.length&&(p=l.h,p.i=p.i.concat(y)),M){case 1:fr(l,5);break;case 4:fr(l,10);break;case 3:fr(l,6);break;default:fr(l,2)}}}function al(l,p){let y=l.Ta+Math.floor(Math.random()*l.cb);return l.isActive()||(y*=2),y*p}function fr(l,p){if(l.j.info("Error code "+p),p==2){var y=A(l.fb,l),E=l.Xa;const M=!E;E=new ur(E||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||Ai(E,"https"),Lr(E),M?lc(E.toString(),y):rl(E.toString(),y)}else ot(2);l.G=0,l.l&&l.l.sa(p),ll(l),_s(l)}i.fb=function(l){l?(this.j.info("Successfully pinged google.com"),ot(2)):(this.j.info("Failed to ping google.com"),ot(1))};function ll(l){if(l.G=0,l.ka=[],l.l){const p=Ja(l.h);(p.length!=0||l.i.length!=0)&&(j(l.ka,p),j(l.ka,l.i),l.h.i.length=0,q(l.i),l.i.length=0),l.l.ra()}}function ul(l,p,y){var E=y instanceof ur?tn(y):new ur(y);if(E.g!="")p&&(E.g=p+"."+E.g),Dr(E,E.s);else{var M=f.location;E=M.protocol,p=p?p+"."+M.hostname:M.hostname,M=+M.port;var H=new ur(null);E&&Ai(H,E),p&&(H.g=p),M&&Dr(H,M),y&&(H.l=y),E=H}return y=l.D,p=l.ya,y&&p&&We(E,y,p),We(E,"VER",l.la),dr(l,E),E}function cl(l,p,y){if(p&&!l.J)throw Error("Can't create secondary domain capable XhrIo object.");return p=l.Ca&&!l.pa?new Je(new cr({eb:y})):new Je(l.pa),p.Ha(l.J),p}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function jo(){}i=jo.prototype,i.ua=function(){},i.ta=function(){},i.sa=function(){},i.ra=function(){},i.isActive=function(){return!0},i.Na=function(){};function Ss(){}Ss.prototype.g=function(l,p){return new zt(l,p)};function zt(l,p){ft.call(this),this.g=new Fo(p),this.l=l,this.h=p&&p.messageUrlParams||null,l=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(l?l["X-WebChannel-Content-Type"]=p.messageContentType:l={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.va&&(l?l["X-WebChannel-Client-Profile"]=p.va:l={"X-WebChannel-Client-Profile":p.va}),this.g.S=l,(l=p&&p.Sb)&&!X(l)&&(this.g.m=l),this.v=p&&p.supportsCrossDomainXhr||!1,this.u=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!X(p)&&(this.g.D=p,l=this.h,l!==null&&p in l&&(l=this.h,p in l&&delete l[p])),this.j=new Qn(this)}b(zt,ft),zt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},zt.prototype.close=function(){Rt(this.g)},zt.prototype.o=function(l){var p=this.g;if(typeof l=="string"){var y={};y.__data__=l,l=y}else this.u&&(y={},y.__data__=Io(l),l=y);p.i.push(new Ga(p.Ya++,l)),p.G==3&&Wn(p)},zt.prototype.N=function(){this.g.l=null,delete this.j,Rt(this.g),delete this.g,zt.aa.N.call(this)};function hl(l){zn.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var p=l.__sm__;if(p){e:{for(const y in p){l=y;break e}l=void 0}(this.i=l)&&(l=this.i,p=p!==null&&l in p?p[l]:void 0),this.data=p}else this.data=l}b(hl,zn);function dl(){as.call(this),this.status=1}b(dl,as);function Qn(l){this.g=l}b(Qn,jo),Qn.prototype.ua=function(){pt(this.g,"a")},Qn.prototype.ta=function(l){pt(this.g,new hl(l))},Qn.prototype.sa=function(l){pt(this.g,new dl)},Qn.prototype.ra=function(){pt(this.g,"b")},Ss.prototype.createWebChannel=Ss.prototype.g,zt.prototype.send=zt.prototype.o,zt.prototype.open=zt.prototype.m,zt.prototype.close=zt.prototype.close,gy=function(){return new Ss},my=function(){return _i()},py=Bn,rd={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},cs.NO_ERROR=0,cs.TIMEOUT=8,cs.HTTP_ERROR=6,mu=cs,Ha.COMPLETE="complete",fy=Ha,os.EventType=un,un.OPEN="a",un.CLOSE="b",un.ERROR="c",un.MESSAGE="d",ft.prototype.listen=ft.prototype.K,ma=os,Je.prototype.listenOnce=Je.prototype.L,Je.prototype.getLastError=Je.prototype.Ka,Je.prototype.getLastErrorCode=Je.prototype.Ba,Je.prototype.getStatus=Je.prototype.Z,Je.prototype.getResponseJson=Je.prototype.Oa,Je.prototype.getResponseText=Je.prototype.oa,Je.prototype.send=Je.prototype.ea,Je.prototype.setWithCredentials=Je.prototype.Ha,dy=Je}).apply(typeof au<"u"?au:typeof self<"u"?self:typeof window<"u"?window:{});const Bm="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ft{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ft.UNAUTHENTICATED=new Ft(null),Ft.GOOGLE_CREDENTIALS=new Ft("google-credentials-uid"),Ft.FIRST_PARTY=new Ft("first-party-uid"),Ft.MOCK_USER=new Ft("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let co="11.0.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ki=new Rd("@firebase/firestore");function Ws(){return Ki.logLevel}function le(i,...e){if(Ki.logLevel<=Le.DEBUG){const t=e.map(kd);Ki.debug(`Firestore (${co}): ${i}`,...t)}}function Ar(i,...e){if(Ki.logLevel<=Le.ERROR){const t=e.map(kd);Ki.error(`Firestore (${co}): ${i}`,...t)}}function to(i,...e){if(Ki.logLevel<=Le.WARN){const t=e.map(kd);Ki.warn(`Firestore (${co}): ${i}`,...t)}}function kd(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Se(i="Unexpected state"){const e=`FIRESTORE (${co}) INTERNAL ASSERTION FAILED: `+i;throw Ar(e),new Error(e)}function qe(i,e){i||Se()}function Re(i,e){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ue extends pi{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yy{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class vT{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Ft.UNAUTHENTICATED))}shutdown(){}}class _T{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class wT{constructor(e){this.t=e,this.currentUser=Ft.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){qe(this.o===void 0);let s=this.i;const o=g=>this.i!==s?(s=this.i,t(g)):Promise.resolve();let u=new Sr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Sr,e.enqueueRetryable(()=>o(this.currentUser))};const h=()=>{const g=u;e.enqueueRetryable(async()=>{await g.promise,await o(this.currentUser)})},f=g=>{le("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit(g=>f(g)),setTimeout(()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?f(g):(le("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Sr)}},0),h()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(s=>this.i!==e?(le("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(qe(typeof s.accessToken=="string"),new yy(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return qe(e===null||typeof e=="string"),new Ft(e)}}class ET{constructor(e,t,s){this.l=e,this.h=t,this.P=s,this.type="FirstParty",this.user=Ft.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class TT{constructor(e,t,s){this.l=e,this.h=t,this.P=s}getToken(){return Promise.resolve(new ET(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(Ft.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class IT{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class ST{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){qe(this.o===void 0);const s=u=>{u.error!=null&&le("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const h=u.token!==this.R;return this.R=u.token,le("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?t(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>s(u))};const o=u=>{le("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.A.getImmediate({optional:!0});u?o(u):le("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(qe(typeof t.token=="string"),this.R=t.token,new IT(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CT(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let s=0;s<i;s++)t[s]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vy{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let s="";for(;s.length<20;){const o=CT(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<t&&(s+=e.charAt(o[u]%e.length))}return s}}function Fe(i,e){return i<e?-1:i>e?1:0}function no(i,e,t){return i.length===e.length&&i.every((s,o)=>t(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vt{static now(){return vt.fromMillis(Date.now())}static fromDate(e){return vt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor(1e6*(e-1e3*t));return new vt(t,s)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ue(G.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ue(G.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new ue(G.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ue(G.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Fe(this.nanoseconds,e.nanoseconds):Fe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ae{static fromTimestamp(e){return new Ae(e)}static min(){return new Ae(new vt(0,0))}static max(){return new Ae(new vt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ra{constructor(e,t,s){t===void 0?t=0:t>e.length&&Se(),s===void 0?s=e.length-t:s>e.length-t&&Se(),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return Ra.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Ra?e.forEach(s=>{t.push(s)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let o=0;o<s;o++){const u=e.get(o),h=t.get(o);if(u<h)return-1;if(u>h)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Xe extends Ra{construct(e,t,s){return new Xe(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new ue(G.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter(o=>o.length>0))}return new Xe(t)}static emptyPath(){return new Xe([])}}const AT=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Nt extends Ra{construct(e,t,s){return new Nt(e,t,s)}static isValidIdentifier(e){return AT.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Nt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Nt(["__name__"])}static fromServerFormat(e){const t=[];let s="",o=0;const u=()=>{if(s.length===0)throw new ue(G.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let h=!1;for(;o<e.length;){const f=e[o];if(f==="\\"){if(o+1===e.length)throw new ue(G.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[o+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new ue(G.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=g,o+=2}else f==="`"?(h=!h,o++):f!=="."||h?(s+=f,o++):(u(),o++)}if(u(),h)throw new ue(G.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Nt(t)}static emptyPath(){return new Nt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ve{constructor(e){this.path=e}static fromPath(e){return new ve(Xe.fromString(e))}static fromName(e){return new ve(Xe.fromString(e).popFirst(5))}static empty(){return new ve(Xe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Xe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Xe.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ve(new Xe(e.slice()))}}function RT(i,e){const t=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,o=Ae.fromTimestamp(s===1e9?new vt(t+1,0):new vt(t,s));return new li(o,ve.empty(),e)}function PT(i){return new li(i.readTime,i.key,-1)}class li{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new li(Ae.min(),ve.empty(),-1)}static max(){return new li(Ae.max(),ve.empty(),-1)}}function kT(i,e){let t=i.readTime.compareTo(e.readTime);return t!==0?t:(t=ve.comparator(i.documentKey,e.documentKey),t!==0?t:Fe(i.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xT="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class NT{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ho(i){if(i.code!==G.FAILED_PRECONDITION||i.message!==xT)throw i;le("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Se(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new K((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(t,u).next(s,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof K?t:K.resolve(t)}catch(t){return K.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):K.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):K.reject(t)}static resolve(e){return new K((t,s)=>{t(e)})}static reject(e){return new K((t,s)=>{s(e)})}static waitFor(e){return new K((t,s)=>{let o=0,u=0,h=!1;e.forEach(f=>{++o,f.next(()=>{++u,h&&u===o&&t()},g=>s(g))}),h=!0,u===o&&t()})}static or(e){let t=K.resolve(!1);for(const s of e)t=t.next(o=>o?K.resolve(o):s());return t}static forEach(e,t){const s=[];return e.forEach((o,u)=>{s.push(t.call(this,o,u))}),this.waitFor(s)}static mapArray(e,t){return new K((s,o)=>{const u=e.length,h=new Array(u);let f=0;for(let g=0;g<u;g++){const v=g;t(e[v]).next(w=>{h[v]=w,++f,f===u&&s(h)},w=>o(w))}})}static doWhile(e,t){return new K((s,o)=>{const u=()=>{e()===!0?t().next(()=>{u()},o):s()};u()})}}function DT(i){const e=i.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function fo(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bu{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=s=>this.ie(s),this.se=s=>t.writeSequenceNumber(s))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Bu.oe=-1;function $u(i){return i==null}function Au(i){return i===0&&1/i==-1/0}function VT(i){return typeof i=="number"&&Number.isInteger(i)&&!Au(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LT(i){let e="";for(let t=0;t<i.length;t++)e.length>0&&(e=$m(e)),e=OT(i.get(t),e);return $m(e)}function OT(i,e){let t=e;const s=i.length;for(let o=0;o<s;o++){const u=i.charAt(o);switch(u){case"\0":t+="";break;case"":t+="";break;default:t+=u}}return t}function $m(i){return i+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qm(i){let e=0;for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e++;return e}function Yi(i,e){for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e(t,i[t])}function _y(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class it{constructor(e,t){this.comparator=e,this.root=t||xt.EMPTY}insert(e,t){return new it(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,xt.BLACK,null,null))}remove(e){return new it(this.comparator,this.root.remove(e,this.comparator).copy(null,null,xt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(s===0)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return t+s.left.size;o<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,s)=>(e(t,s),!1))}toString(){const e=[];return this.inorderTraversal((t,s)=>(e.push(`${t}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new lu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new lu(this.root,e,this.comparator,!1)}getReverseIterator(){return new lu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new lu(this.root,e,this.comparator,!0)}}class lu{constructor(e,t,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=t?s(e.key,t):1,t&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class xt{constructor(e,t,s,o,u){this.key=e,this.value=t,this.color=s??xt.RED,this.left=o??xt.EMPTY,this.right=u??xt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,o,u){return new xt(e??this.key,t??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,t,s),null):u===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return xt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return xt.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,xt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,xt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Se();const e=this.left.check();if(e!==this.right.check())throw Se();return e+(this.isRed()?0:1)}}xt.EMPTY=null,xt.RED=!0,xt.BLACK=!1;xt.EMPTY=new class{constructor(){this.size=0}get key(){throw Se()}get value(){throw Se()}get color(){throw Se()}get left(){throw Se()}get right(){throw Se()}copy(e,t,s,o,u){return this}insert(e,t,s){return new xt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _t{constructor(e){this.comparator=e,this.data=new it(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,s)=>(e(t),!1))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let s;for(s=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Hm(this.data.getIterator())}getIteratorFrom(e){return new Hm(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(s=>{t=t.add(s)}),t}isEqual(e){if(!(e instanceof _t)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new _t(this.comparator);return t.data=e,t}}class Hm{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mn{constructor(e){this.fields=e,e.sort(Nt.comparator)}static empty(){return new Mn([])}unionWith(e){let t=new _t(Nt.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new Mn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return no(this.fields,e.fields,(t,s)=>t.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wy extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new wy("Invalid base64 string: "+u):u}}(e);return new Dt(t)}static fromUint8Array(e){const t=function(o){let u="";for(let h=0;h<o.length;++h)u+=String.fromCharCode(o[h]);return u}(e);return new Dt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const s=new Uint8Array(t.length);for(let o=0;o<t.length;o++)s[o]=t.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Fe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Dt.EMPTY_BYTE_STRING=new Dt("");const bT=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ui(i){if(qe(!!i),typeof i=="string"){let e=0;const t=bT.exec(i);if(qe(!!t),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:lt(i.seconds),nanos:lt(i.nanos)}}function lt(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function ci(i){return typeof i=="string"?Dt.fromBase64String(i):Dt.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xd(i){var e,t;return((t=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="server_timestamp"}function qu(i){const e=i.mapValue.fields.__previous_value__;return xd(e)?qu(e):e}function Pa(i){const e=ui(i.mapValue.fields.__local_write_time__.timestampValue);return new vt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MT{constructor(e,t,s,o,u,h,f,g,v){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=h,this.autoDetectLongPolling=f,this.longPollingOptions=g,this.useFetchStreams=v}}class ka{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new ka("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof ka&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uu={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function hi(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?xd(i)?4:UT(i)?9007199254740991:FT(i)?10:11:Se()}function rr(i,e){if(i===e)return!0;const t=hi(i);if(t!==hi(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return Pa(i).isEqual(Pa(e));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const h=ui(o.timestampValue),f=ui(u.timestampValue);return h.seconds===f.seconds&&h.nanos===f.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return function(o,u){return ci(o.bytesValue).isEqual(ci(u.bytesValue))}(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return function(o,u){return lt(o.geoPointValue.latitude)===lt(u.geoPointValue.latitude)&&lt(o.geoPointValue.longitude)===lt(u.geoPointValue.longitude)}(i,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return lt(o.integerValue)===lt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const h=lt(o.doubleValue),f=lt(u.doubleValue);return h===f?Au(h)===Au(f):isNaN(h)&&isNaN(f)}return!1}(i,e);case 9:return no(i.arrayValue.values||[],e.arrayValue.values||[],rr);case 10:case 11:return function(o,u){const h=o.mapValue.fields||{},f=u.mapValue.fields||{};if(qm(h)!==qm(f))return!1;for(const g in h)if(h.hasOwnProperty(g)&&(f[g]===void 0||!rr(h[g],f[g])))return!1;return!0}(i,e);default:return Se()}}function xa(i,e){return(i.values||[]).find(t=>rr(t,e))!==void 0}function ro(i,e){if(i===e)return 0;const t=hi(i),s=hi(e);if(t!==s)return Fe(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return Fe(i.booleanValue,e.booleanValue);case 2:return function(u,h){const f=lt(u.integerValue||u.doubleValue),g=lt(h.integerValue||h.doubleValue);return f<g?-1:f>g?1:f===g?0:isNaN(f)?isNaN(g)?0:-1:1}(i,e);case 3:return Wm(i.timestampValue,e.timestampValue);case 4:return Wm(Pa(i),Pa(e));case 5:return Fe(i.stringValue,e.stringValue);case 6:return function(u,h){const f=ci(u),g=ci(h);return f.compareTo(g)}(i.bytesValue,e.bytesValue);case 7:return function(u,h){const f=u.split("/"),g=h.split("/");for(let v=0;v<f.length&&v<g.length;v++){const w=Fe(f[v],g[v]);if(w!==0)return w}return Fe(f.length,g.length)}(i.referenceValue,e.referenceValue);case 8:return function(u,h){const f=Fe(lt(u.latitude),lt(h.latitude));return f!==0?f:Fe(lt(u.longitude),lt(h.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return Qm(i.arrayValue,e.arrayValue);case 10:return function(u,h){var f,g,v,w;const I=u.fields||{},A=h.fields||{},O=(f=I.value)===null||f===void 0?void 0:f.arrayValue,b=(g=A.value)===null||g===void 0?void 0:g.arrayValue,q=Fe(((v=O==null?void 0:O.values)===null||v===void 0?void 0:v.length)||0,((w=b==null?void 0:b.values)===null||w===void 0?void 0:w.length)||0);return q!==0?q:Qm(O,b)}(i.mapValue,e.mapValue);case 11:return function(u,h){if(u===uu.mapValue&&h===uu.mapValue)return 0;if(u===uu.mapValue)return 1;if(h===uu.mapValue)return-1;const f=u.fields||{},g=Object.keys(f),v=h.fields||{},w=Object.keys(v);g.sort(),w.sort();for(let I=0;I<g.length&&I<w.length;++I){const A=Fe(g[I],w[I]);if(A!==0)return A;const O=ro(f[g[I]],v[w[I]]);if(O!==0)return O}return Fe(g.length,w.length)}(i.mapValue,e.mapValue);default:throw Se()}}function Wm(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return Fe(i,e);const t=ui(i),s=ui(e),o=Fe(t.seconds,s.seconds);return o!==0?o:Fe(t.nanos,s.nanos)}function Qm(i,e){const t=i.values||[],s=e.values||[];for(let o=0;o<t.length&&o<s.length;++o){const u=ro(t[o],s[o]);if(u)return u}return Fe(t.length,s.length)}function io(i){return id(i)}function id(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(t){const s=ui(t);return`time(${s.seconds},${s.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?function(t){return ci(t).toBase64()}(i.bytesValue):"referenceValue"in i?function(t){return ve.fromName(t).toString()}(i.referenceValue):"geoPointValue"in i?function(t){return`geo(${t.latitude},${t.longitude})`}(i.geoPointValue):"arrayValue"in i?function(t){let s="[",o=!0;for(const u of t.values||[])o?o=!1:s+=",",s+=id(u);return s+"]"}(i.arrayValue):"mapValue"in i?function(t){const s=Object.keys(t.fields||{}).sort();let o="{",u=!0;for(const h of s)u?u=!1:o+=",",o+=`${h}:${id(t.fields[h])}`;return o+"}"}(i.mapValue):Se()}function gu(i){switch(hi(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=qu(i);return e?16+gu(e):16;case 5:return 2*i.stringValue.length;case 6:return ci(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,u)=>o+gu(u),0)}(i.arrayValue);case 10:case 11:return function(s){let o=0;return Yi(s.fields,(u,h)=>{o+=u.length+gu(h)}),o}(i.mapValue);default:throw Se()}}function Km(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function sd(i){return!!i&&"integerValue"in i}function Nd(i){return!!i&&"arrayValue"in i}function Gm(i){return!!i&&"nullValue"in i}function Ym(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function yu(i){return!!i&&"mapValue"in i}function FT(i){var e,t;return((t=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="__vector__"}function _a(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return Yi(i.mapValue.fields,(t,s)=>e.mapValue.fields[t]=_a(s)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(i.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=_a(i.arrayValue.values[t]);return e}return Object.assign({},i)}function UT(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wn{constructor(e){this.value=e}static empty(){return new wn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!yu(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=_a(t)}setAll(e){let t=Nt.emptyPath(),s={},o=[];e.forEach((h,f)=>{if(!t.isImmediateParentOf(f)){const g=this.getFieldsMap(t);this.applyChanges(g,s,o),s={},o=[],t=f.popLast()}h?s[f.lastSegment()]=_a(h):o.push(f.lastSegment())});const u=this.getFieldsMap(t);this.applyChanges(u,s,o)}delete(e){const t=this.field(e.popLast());yu(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return rr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=t.mapValue.fields[e.get(s)];yu(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,s){Yi(t,(o,u)=>e[o]=u);for(const o of s)delete e[o]}clone(){return new wn(_a(this.value))}}function Ey(i){const e=[];return Yi(i.fields,(t,s)=>{const o=new Nt([t]);if(yu(s)){const u=Ey(s.mapValue).fields;if(u.length===0)e.push(o);else for(const h of u)e.push(o.child(h))}else e.push(o)}),new Mn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ut{constructor(e,t,s,o,u,h,f){this.key=e,this.documentType=t,this.version=s,this.readTime=o,this.createTime=u,this.data=h,this.documentState=f}static newInvalidDocument(e){return new Ut(e,0,Ae.min(),Ae.min(),Ae.min(),wn.empty(),0)}static newFoundDocument(e,t,s,o){return new Ut(e,1,t,Ae.min(),s,o,0)}static newNoDocument(e,t){return new Ut(e,2,t,Ae.min(),Ae.min(),wn.empty(),0)}static newUnknownDocument(e,t){return new Ut(e,3,t,Ae.min(),Ae.min(),wn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ae.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=wn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=wn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ae.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ut&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ut(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ru{constructor(e,t){this.position=e,this.inclusive=t}}function Xm(i,e,t){let s=0;for(let o=0;o<i.position.length;o++){const u=e[o],h=i.position[o];if(u.field.isKeyField()?s=ve.comparator(ve.fromName(h.referenceValue),t.key):s=ro(h,t.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function Jm(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let t=0;t<i.position.length;t++)if(!rr(i.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Na{constructor(e,t="asc"){this.field=e,this.dir=t}}function jT(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ty{}class dt extends Ty{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,s):new BT(e,t,s):t==="array-contains"?new HT(e,s):t==="in"?new WT(e,s):t==="not-in"?new QT(e,s):t==="array-contains-any"?new KT(e,s):new dt(e,t,s)}static createKeyFieldInFilter(e,t,s){return t==="in"?new $T(e,s):new qT(e,s)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(ro(t,this.value)):t!==null&&hi(this.value)===hi(t)&&this.matchesComparison(ro(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Se()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Un extends Ty{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new Un(e,t)}matches(e){return Iy(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Iy(i){return i.op==="and"}function Sy(i){return zT(i)&&Iy(i)}function zT(i){for(const e of i.filters)if(e instanceof Un)return!1;return!0}function od(i){if(i instanceof dt)return i.field.canonicalString()+i.op.toString()+io(i.value);if(Sy(i))return i.filters.map(e=>od(e)).join(",");{const e=i.filters.map(t=>od(t)).join(",");return`${i.op}(${e})`}}function Cy(i,e){return i instanceof dt?function(s,o){return o instanceof dt&&s.op===o.op&&s.field.isEqual(o.field)&&rr(s.value,o.value)}(i,e):i instanceof Un?function(s,o){return o instanceof Un&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((u,h,f)=>u&&Cy(h,o.filters[f]),!0):!1}(i,e):void Se()}function Ay(i){return i instanceof dt?function(t){return`${t.field.canonicalString()} ${t.op} ${io(t.value)}`}(i):i instanceof Un?function(t){return t.op.toString()+" {"+t.getFilters().map(Ay).join(" ,")+"}"}(i):"Filter"}class BT extends dt{constructor(e,t,s){super(e,t,s),this.key=ve.fromName(s.referenceValue)}matches(e){const t=ve.comparator(e.key,this.key);return this.matchesComparison(t)}}class $T extends dt{constructor(e,t){super(e,"in",t),this.keys=Ry("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class qT extends dt{constructor(e,t){super(e,"not-in",t),this.keys=Ry("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Ry(i,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(s=>ve.fromName(s.referenceValue))}class HT extends dt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Nd(t)&&xa(t.arrayValue,this.value)}}class WT extends dt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&xa(this.value.arrayValue,t)}}class QT extends dt{constructor(e,t){super(e,"not-in",t)}matches(e){if(xa(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!xa(this.value.arrayValue,t)}}class KT extends dt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Nd(t)||!t.arrayValue.values)&&t.arrayValue.values.some(s=>xa(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GT{constructor(e,t=null,s=[],o=[],u=null,h=null,f=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=h,this.endAt=f,this.ue=null}}function Zm(i,e=null,t=[],s=[],o=null,u=null,h=null){return new GT(i,e,t,s,o,u,h)}function Dd(i){const e=Re(i);if(e.ue===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(s=>od(s)).join(","),t+="|ob:",t+=e.orderBy.map(s=>function(u){return u.field.canonicalString()+u.dir}(s)).join(","),$u(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(s=>io(s)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(s=>io(s)).join(",")),e.ue=t}return e.ue}function Vd(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<i.orderBy.length;t++)if(!jT(i.orderBy[t],e.orderBy[t]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let t=0;t<i.filters.length;t++)if(!Cy(i.filters[t],e.filters[t]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!Jm(i.startAt,e.startAt)&&Jm(i.endAt,e.endAt)}function ad(i){return ve.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class po{constructor(e,t=null,s=[],o=[],u=null,h="F",f=null,g=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=h,this.startAt=f,this.endAt=g,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function YT(i,e,t,s,o,u,h,f){return new po(i,e,t,s,o,u,h,f)}function Ld(i){return new po(i)}function eg(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function Py(i){return i.collectionGroup!==null}function wa(i){const e=Re(i);if(e.ce===null){e.ce=[];const t=new Set;for(const u of e.explicitOrderBy)e.ce.push(u),t.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let f=new _t(Nt.comparator);return h.filters.forEach(g=>{g.getFlattenedFilters().forEach(v=>{v.isInequality()&&(f=f.add(v.field))})}),f})(e).forEach(u=>{t.has(u.canonicalString())||u.isKeyField()||e.ce.push(new Na(u,s))}),t.has(Nt.keyField().canonicalString())||e.ce.push(new Na(Nt.keyField(),s))}return e.ce}function Jn(i){const e=Re(i);return e.le||(e.le=XT(e,wa(i))),e.le}function XT(i,e){if(i.limitType==="F")return Zm(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new Na(o.field,u)});const t=i.endAt?new Ru(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new Ru(i.startAt.position,i.startAt.inclusive):null;return Zm(i.path,i.collectionGroup,e,i.filters,i.limit,t,s)}}function ld(i,e){const t=i.filters.concat([e]);return new po(i.path,i.collectionGroup,i.explicitOrderBy.slice(),t,i.limit,i.limitType,i.startAt,i.endAt)}function ud(i,e,t){return new po(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,t,i.startAt,i.endAt)}function Hu(i,e){return Vd(Jn(i),Jn(e))&&i.limitType===e.limitType}function ky(i){return`${Dd(Jn(i))}|lt:${i.limitType}`}function Qs(i){return`Query(target=${function(t){let s=t.path.canonicalString();return t.collectionGroup!==null&&(s+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(s+=`, filters: [${t.filters.map(o=>Ay(o)).join(", ")}]`),$u(t.limit)||(s+=", limit: "+t.limit),t.orderBy.length>0&&(s+=`, orderBy: [${t.orderBy.map(o=>function(h){return`${h.field.canonicalString()} (${h.dir})`}(o)).join(", ")}]`),t.startAt&&(s+=", startAt: ",s+=t.startAt.inclusive?"b:":"a:",s+=t.startAt.position.map(o=>io(o)).join(",")),t.endAt&&(s+=", endAt: ",s+=t.endAt.inclusive?"a:":"b:",s+=t.endAt.position.map(o=>io(o)).join(",")),`Target(${s})`}(Jn(i))}; limitType=${i.limitType})`}function Wu(i,e){return e.isFoundDocument()&&function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):ve.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)}(i,e)&&function(s,o){for(const u of wa(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(i,e)&&function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0}(i,e)&&function(s,o){return!(s.startAt&&!function(h,f,g){const v=Xm(h,f,g);return h.inclusive?v<=0:v<0}(s.startAt,wa(s),o)||s.endAt&&!function(h,f,g){const v=Xm(h,f,g);return h.inclusive?v>=0:v>0}(s.endAt,wa(s),o))}(i,e)}function JT(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function xy(i){return(e,t)=>{let s=!1;for(const o of wa(i)){const u=ZT(o,e,t);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function ZT(i,e,t){const s=i.field.isKeyField()?ve.comparator(e.key,t.key):function(u,h,f){const g=h.data.field(u),v=f.data.field(u);return g!==null&&v!==null?ro(g,v):Se()}(i.field,e,t);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return Se()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xi{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,t){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,t]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[t]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Yi(this.inner,(t,s)=>{for(const[o,u]of s)e(o,u)})}isEmpty(){return _y(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e1=new it(ve.comparator);function Rr(){return e1}const Ny=new it(ve.comparator);function ga(...i){let e=Ny;for(const t of i)e=e.insert(t.key,t);return e}function Dy(i){let e=Ny;return i.forEach((t,s)=>e=e.insert(t,s.overlayedDocument)),e}function qi(){return Ea()}function Vy(){return Ea()}function Ea(){return new Xi(i=>i.toString(),(i,e)=>i.isEqual(e))}const t1=new it(ve.comparator),n1=new _t(ve.comparator);function Oe(...i){let e=n1;for(const t of i)e=e.add(t);return e}const r1=new _t(Fe);function i1(){return r1}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Od(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Au(e)?"-0":e}}function Ly(i){return{integerValue:""+i}}function s1(i,e){return VT(e)?Ly(e):Od(i,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qu{constructor(){this._=void 0}}function o1(i,e,t){return i instanceof Pu?function(o,u){const h={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&xd(u)&&(u=qu(u)),u&&(h.fields.__previous_value__=u),{mapValue:h}}(t,e):i instanceof Da?by(i,e):i instanceof Va?My(i,e):function(o,u){const h=Oy(o,u),f=tg(h)+tg(o.Pe);return sd(h)&&sd(o.Pe)?Ly(f):Od(o.serializer,f)}(i,e)}function a1(i,e,t){return i instanceof Da?by(i,e):i instanceof Va?My(i,e):t}function Oy(i,e){return i instanceof ku?function(s){return sd(s)||function(u){return!!u&&"doubleValue"in u}(s)}(e)?e:{integerValue:0}:null}class Pu extends Qu{}class Da extends Qu{constructor(e){super(),this.elements=e}}function by(i,e){const t=Fy(e);for(const s of i.elements)t.some(o=>rr(o,s))||t.push(s);return{arrayValue:{values:t}}}class Va extends Qu{constructor(e){super(),this.elements=e}}function My(i,e){let t=Fy(e);for(const s of i.elements)t=t.filter(o=>!rr(o,s));return{arrayValue:{values:t}}}class ku extends Qu{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function tg(i){return lt(i.integerValue||i.doubleValue)}function Fy(i){return Nd(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}function l1(i,e){return i.field.isEqual(e.field)&&function(s,o){return s instanceof Da&&o instanceof Da||s instanceof Va&&o instanceof Va?no(s.elements,o.elements,rr):s instanceof ku&&o instanceof ku?rr(s.Pe,o.Pe):s instanceof Pu&&o instanceof Pu}(i.transform,e.transform)}class u1{constructor(e,t){this.version=e,this.transformResults=t}}class Zn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Zn}static exists(e){return new Zn(void 0,e)}static updateTime(e){return new Zn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function vu(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class Ku{}function Uy(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new zy(i.key,Zn.none()):new Fa(i.key,i.data,Zn.none());{const t=i.data,s=wn.empty();let o=new _t(Nt.comparator);for(let u of e.fields)if(!o.has(u)){let h=t.field(u);h===null&&u.length>1&&(u=u.popLast(),h=t.field(u)),h===null?s.delete(u):s.set(u,h),o=o.add(u)}return new Ji(i.key,s,new Mn(o.toArray()),Zn.none())}}function c1(i,e,t){i instanceof Fa?function(o,u,h){const f=o.value.clone(),g=rg(o.fieldTransforms,u,h.transformResults);f.setAll(g),u.convertToFoundDocument(h.version,f).setHasCommittedMutations()}(i,e,t):i instanceof Ji?function(o,u,h){if(!vu(o.precondition,u))return void u.convertToUnknownDocument(h.version);const f=rg(o.fieldTransforms,u,h.transformResults),g=u.data;g.setAll(jy(o)),g.setAll(f),u.convertToFoundDocument(h.version,g).setHasCommittedMutations()}(i,e,t):function(o,u,h){u.convertToNoDocument(h.version).setHasCommittedMutations()}(0,e,t)}function Ta(i,e,t,s){return i instanceof Fa?function(u,h,f,g){if(!vu(u.precondition,h))return f;const v=u.value.clone(),w=ig(u.fieldTransforms,g,h);return v.setAll(w),h.convertToFoundDocument(h.version,v).setHasLocalMutations(),null}(i,e,t,s):i instanceof Ji?function(u,h,f,g){if(!vu(u.precondition,h))return f;const v=ig(u.fieldTransforms,g,h),w=h.data;return w.setAll(jy(u)),w.setAll(v),h.convertToFoundDocument(h.version,w).setHasLocalMutations(),f===null?null:f.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(I=>I.field))}(i,e,t,s):function(u,h,f){return vu(u.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):f}(i,e,t)}function h1(i,e){let t=null;for(const s of i.fieldTransforms){const o=e.data.field(s.field),u=Oy(s.transform,o||null);u!=null&&(t===null&&(t=wn.empty()),t.set(s.field,u))}return t||null}function ng(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&no(s,o,(u,h)=>l1(u,h))}(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class Fa extends Ku{constructor(e,t,s,o=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Ji extends Ku{constructor(e,t,s,o,u=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function jy(i){const e=new Map;return i.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const s=i.data.field(t);e.set(t,s)}}),e}function rg(i,e,t){const s=new Map;qe(i.length===t.length);for(let o=0;o<t.length;o++){const u=i[o],h=u.transform,f=e.data.field(u.field);s.set(u.field,a1(h,f,t[o]))}return s}function ig(i,e,t){const s=new Map;for(const o of i){const u=o.transform,h=t.data.field(o.field);s.set(o.field,o1(u,h,e))}return s}class zy extends Ku{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class d1 extends Ku{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f1{constructor(e,t,s,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&c1(u,e,s[o])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=Ta(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=Ta(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=Vy();return this.mutations.forEach(o=>{const u=e.get(o.key),h=u.overlayedDocument;let f=this.applyToLocalView(h,u.mutatedFields);f=t.has(o.key)?null:f;const g=Uy(h,f);g!==null&&s.set(o.key,g),h.isValidDocument()||h.convertToNoDocument(Ae.min())}),s}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Oe())}isEqual(e){return this.batchId===e.batchId&&no(this.mutations,e.mutations,(t,s)=>ng(t,s))&&no(this.baseMutations,e.baseMutations,(t,s)=>ng(t,s))}}class bd{constructor(e,t,s,o){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=o}static from(e,t,s){qe(e.mutations.length===s.length);let o=function(){return t1}();const u=e.mutations;for(let h=0;h<u.length;h++)o=o.insert(u[h].key,s[h].version);return new bd(e,t,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p1{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m1{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ht,je;function g1(i){switch(i){default:return Se();case G.CANCELLED:case G.UNKNOWN:case G.DEADLINE_EXCEEDED:case G.RESOURCE_EXHAUSTED:case G.INTERNAL:case G.UNAVAILABLE:case G.UNAUTHENTICATED:return!1;case G.INVALID_ARGUMENT:case G.NOT_FOUND:case G.ALREADY_EXISTS:case G.PERMISSION_DENIED:case G.FAILED_PRECONDITION:case G.ABORTED:case G.OUT_OF_RANGE:case G.UNIMPLEMENTED:case G.DATA_LOSS:return!0}}function By(i){if(i===void 0)return Ar("GRPC error has no .code"),G.UNKNOWN;switch(i){case ht.OK:return G.OK;case ht.CANCELLED:return G.CANCELLED;case ht.UNKNOWN:return G.UNKNOWN;case ht.DEADLINE_EXCEEDED:return G.DEADLINE_EXCEEDED;case ht.RESOURCE_EXHAUSTED:return G.RESOURCE_EXHAUSTED;case ht.INTERNAL:return G.INTERNAL;case ht.UNAVAILABLE:return G.UNAVAILABLE;case ht.UNAUTHENTICATED:return G.UNAUTHENTICATED;case ht.INVALID_ARGUMENT:return G.INVALID_ARGUMENT;case ht.NOT_FOUND:return G.NOT_FOUND;case ht.ALREADY_EXISTS:return G.ALREADY_EXISTS;case ht.PERMISSION_DENIED:return G.PERMISSION_DENIED;case ht.FAILED_PRECONDITION:return G.FAILED_PRECONDITION;case ht.ABORTED:return G.ABORTED;case ht.OUT_OF_RANGE:return G.OUT_OF_RANGE;case ht.UNIMPLEMENTED:return G.UNIMPLEMENTED;case ht.DATA_LOSS:return G.DATA_LOSS;default:return Se()}}(je=ht||(ht={}))[je.OK=0]="OK",je[je.CANCELLED=1]="CANCELLED",je[je.UNKNOWN=2]="UNKNOWN",je[je.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",je[je.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",je[je.NOT_FOUND=5]="NOT_FOUND",je[je.ALREADY_EXISTS=6]="ALREADY_EXISTS",je[je.PERMISSION_DENIED=7]="PERMISSION_DENIED",je[je.UNAUTHENTICATED=16]="UNAUTHENTICATED",je[je.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",je[je.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",je[je.ABORTED=10]="ABORTED",je[je.OUT_OF_RANGE=11]="OUT_OF_RANGE",je[je.UNIMPLEMENTED=12]="UNIMPLEMENTED",je[je.INTERNAL=13]="INTERNAL",je[je.UNAVAILABLE=14]="UNAVAILABLE",je[je.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y1(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v1=new Wi([4294967295,4294967295],0);function sg(i){const e=y1().encode(i),t=new hy;return t.update(e),new Uint8Array(t.digest())}function og(i){const e=new DataView(i.buffer),t=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new Wi([t,s],0),new Wi([o,u],0)]}class Md{constructor(e,t,s){if(this.bitmap=e,this.padding=t,this.hashCount=s,t<0||t>=8)throw new ya(`Invalid padding: ${t}`);if(s<0)throw new ya(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new ya(`Invalid hash count: ${s}`);if(e.length===0&&t!==0)throw new ya(`Invalid padding when bitmap length is 0: ${t}`);this.Te=8*e.length-t,this.Ie=Wi.fromNumber(this.Te)}Ee(e,t,s){let o=e.add(t.multiply(Wi.fromNumber(s)));return o.compare(v1)===1&&(o=new Wi([o.getBits(0),o.getBits(1)],0)),o.modulo(this.Ie).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const t=sg(e),[s,o]=og(t);for(let u=0;u<this.hashCount;u++){const h=this.Ee(s,o,u);if(!this.de(h))return!1}return!0}static create(e,t,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),h=new Md(u,o,t);return s.forEach(f=>h.insert(f)),h}insert(e){if(this.Te===0)return;const t=sg(e),[s,o]=og(t);for(let u=0;u<this.hashCount;u++){const h=this.Ee(s,o,u);this.Ae(h)}}Ae(e){const t=Math.floor(e/8),s=e%8;this.bitmap[t]|=1<<s}}class ya extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gu{constructor(e,t,s,o,u){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,t,s){const o=new Map;return o.set(e,Ua.createSynthesizedTargetChangeForCurrentChange(e,t,s)),new Gu(Ae.min(),o,new it(Fe),Rr(),Oe())}}class Ua{constructor(e,t,s,o,u){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,t,s){return new Ua(s,t,Oe(),Oe(),Oe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _u{constructor(e,t,s,o){this.Re=e,this.removedTargetIds=t,this.key=s,this.Ve=o}}class $y{constructor(e,t){this.targetId=e,this.me=t}}class qy{constructor(e,t,s=Dt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=o}}class ag{constructor(){this.fe=0,this.ge=lg(),this.pe=Dt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Oe(),t=Oe(),s=Oe();return this.ge.forEach((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:s=s.add(o);break;default:Se()}}),new Ua(this.pe,this.ye,e,t,s)}Ce(){this.we=!1,this.ge=lg()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,qe(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class _1{constructor(e){this.Le=e,this.Be=new Map,this.ke=Rr(),this.qe=cu(),this.Qe=cu(),this.Ke=new it(Fe)}$e(e){for(const t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.Ue(t,e.Ve):this.We(t,e.key,e.Ve);for(const t of e.removedTargetIds)this.We(t,e.key,e.Ve)}Ge(e){this.forEachTarget(e,t=>{const s=this.ze(t);switch(e.state){case 0:this.je(t)&&s.De(e.resumeToken);break;case 1:s.Oe(),s.Se||s.Ce(),s.De(e.resumeToken);break;case 2:s.Oe(),s.Se||this.removeTarget(t);break;case 3:this.je(t)&&(s.Ne(),s.De(e.resumeToken));break;case 4:this.je(t)&&(this.He(t),s.De(e.resumeToken));break;default:Se()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach((s,o)=>{this.je(o)&&t(o)})}Je(e){const t=e.targetId,s=e.me.count,o=this.Ye(t);if(o){const u=o.target;if(ad(u))if(s===0){const h=new ve(u.path);this.We(t,h,Ut.newNoDocument(h,Ae.min()))}else qe(s===1);else{const h=this.Ze(t);if(h!==s){const f=this.Xe(e),g=f?this.et(f,e,h):1;if(g!==0){this.He(t);const v=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(t,v)}}}}}Xe(e){const t=e.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=t;let h,f;try{h=ci(s).toUint8Array()}catch(g){if(g instanceof wy)return to("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{f=new Md(h,o,u)}catch(g){return to(g instanceof ya?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return f.Te===0?null:f}et(e,t,s){return t.me.count===s-this.rt(e,t.targetId)?0:2}rt(e,t){const s=this.Le.getRemoteKeysForTarget(t);let o=0;return s.forEach(u=>{const h=this.Le.nt(),f=`projects/${h.projectId}/databases/${h.database}/documents/${u.path.canonicalString()}`;e.mightContain(f)||(this.We(t,u,null),o++)}),o}it(e){const t=new Map;this.Be.forEach((u,h)=>{const f=this.Ye(h);if(f){if(u.current&&ad(f.target)){const g=new ve(f.target.path);this.st(g).has(h)||this.ot(h,g)||this.We(h,g,Ut.newNoDocument(g,e))}u.be&&(t.set(h,u.ve()),u.Ce())}});let s=Oe();this.Qe.forEach((u,h)=>{let f=!0;h.forEachWhile(g=>{const v=this.Ye(g);return!v||v.purpose==="TargetPurposeLimboResolution"||(f=!1,!1)}),f&&(s=s.add(u))}),this.ke.forEach((u,h)=>h.setReadTime(e));const o=new Gu(e,t,this.Ke,this.ke,s);return this.ke=Rr(),this.qe=cu(),this.Qe=cu(),this.Ke=new it(Fe),o}Ue(e,t){if(!this.je(e))return;const s=this.ot(e,t.key)?2:0;this.ze(e).Fe(t.key,s),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e)),this.Qe=this.Qe.insert(t.key,this._t(t.key).add(e))}We(e,t,s){if(!this.je(e))return;const o=this.ze(e);this.ot(e,t)?o.Fe(t,1):o.Me(t),this.Qe=this.Qe.insert(t,this._t(t).delete(e)),this.Qe=this.Qe.insert(t,this._t(t).add(e)),s&&(this.ke=this.ke.insert(t,s))}removeTarget(e){this.Be.delete(e)}Ze(e){const t=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.ze(e).xe()}ze(e){let t=this.Be.get(e);return t||(t=new ag,this.Be.set(e,t)),t}_t(e){let t=this.Qe.get(e);return t||(t=new _t(Fe),this.Qe=this.Qe.insert(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new _t(Fe),this.qe=this.qe.insert(e,t)),t}je(e){const t=this.Ye(e)!==null;return t||le("WatchChangeAggregator","Detected inactive target",e),t}Ye(e){const t=this.Be.get(e);return t&&t.Se?null:this.Le.ut(e)}He(e){this.Be.set(e,new ag),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.We(e,t,null)})}ot(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function cu(){return new it(ve.comparator)}function lg(){return new it(ve.comparator)}const w1={asc:"ASCENDING",desc:"DESCENDING"},E1={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},T1={and:"AND",or:"OR"};class I1{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function cd(i,e){return i.useProto3Json||$u(e)?e:{value:e}}function xu(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Hy(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function S1(i,e){return xu(i,e.toTimestamp())}function er(i){return qe(!!i),Ae.fromTimestamp(function(t){const s=ui(t);return new vt(s.seconds,s.nanos)}(i))}function Fd(i,e){return hd(i,e).canonicalString()}function hd(i,e){const t=function(o){return new Xe(["projects",o.projectId,"databases",o.database])}(i).child("documents");return e===void 0?t:t.child(e)}function Wy(i){const e=Xe.fromString(i);return qe(Xy(e)),e}function dd(i,e){return Fd(i.databaseId,e.path)}function $h(i,e){const t=Wy(e);if(t.get(1)!==i.databaseId.projectId)throw new ue(G.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+i.databaseId.projectId);if(t.get(3)!==i.databaseId.database)throw new ue(G.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+i.databaseId.database);return new ve(Ky(t))}function Qy(i,e){return Fd(i.databaseId,e)}function C1(i){const e=Wy(i);return e.length===4?Xe.emptyPath():Ky(e)}function fd(i){return new Xe(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function Ky(i){return qe(i.length>4&&i.get(4)==="documents"),i.popFirst(5)}function ug(i,e,t){return{name:dd(i,e),fields:t.value.mapValue.fields}}function A1(i,e){let t;if("targetChange"in e){e.targetChange;const s=function(v){return v==="NO_CHANGE"?0:v==="ADD"?1:v==="REMOVE"?2:v==="CURRENT"?3:v==="RESET"?4:Se()}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=function(v,w){return v.useProto3Json?(qe(w===void 0||typeof w=="string"),Dt.fromBase64String(w||"")):(qe(w===void 0||w instanceof Buffer||w instanceof Uint8Array),Dt.fromUint8Array(w||new Uint8Array))}(i,e.targetChange.resumeToken),h=e.targetChange.cause,f=h&&function(v){const w=v.code===void 0?G.UNKNOWN:By(v.code);return new ue(w,v.message||"")}(h);t=new qy(s,o,u,f||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=$h(i,s.document.name),u=er(s.document.updateTime),h=s.document.createTime?er(s.document.createTime):Ae.min(),f=new wn({mapValue:{fields:s.document.fields}}),g=Ut.newFoundDocument(o,u,h,f),v=s.targetIds||[],w=s.removedTargetIds||[];t=new _u(v,w,g.key,g)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=$h(i,s.document),u=s.readTime?er(s.readTime):Ae.min(),h=Ut.newNoDocument(o,u),f=s.removedTargetIds||[];t=new _u([],f,h.key,h)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=$h(i,s.document),u=s.removedTargetIds||[];t=new _u([],u,o,null)}else{if(!("filter"in e))return Se();{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,h=new m1(o,u),f=s.targetId;t=new $y(f,h)}}return t}function R1(i,e){let t;if(e instanceof Fa)t={update:ug(i,e.key,e.value)};else if(e instanceof zy)t={delete:dd(i,e.key)};else if(e instanceof Ji)t={update:ug(i,e.key,e.data),updateMask:b1(e.fieldMask)};else{if(!(e instanceof d1))return Se();t={verify:dd(i,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(s=>function(u,h){const f=h.transform;if(f instanceof Pu)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof Da)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof Va)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof ku)return{fieldPath:h.field.canonicalString(),increment:f.Pe};throw Se()}(0,s))),e.precondition.isNone||(t.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:S1(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Se()}(i,e.precondition)),t}function P1(i,e){return i&&i.length>0?(qe(e!==void 0),i.map(t=>function(o,u){let h=o.updateTime?er(o.updateTime):er(u);return h.isEqual(Ae.min())&&(h=er(u)),new u1(h,o.transformResults||[])}(t,e))):[]}function k1(i,e){return{documents:[Qy(i,e.path)]}}function x1(i,e){const t={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),t.structuredQuery.from=[{collectionId:s.lastSegment()}]),t.parent=Qy(i,o);const u=function(v){if(v.length!==0)return Yy(Un.create(v,"and"))}(e.filters);u&&(t.structuredQuery.where=u);const h=function(v){if(v.length!==0)return v.map(w=>function(A){return{field:Ks(A.field),direction:V1(A.dir)}}(w))}(e.orderBy);h&&(t.structuredQuery.orderBy=h);const f=cd(i,e.limit);return f!==null&&(t.structuredQuery.limit=f),e.startAt&&(t.structuredQuery.startAt=function(v){return{before:v.inclusive,values:v.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(v){return{before:!v.inclusive,values:v.position}}(e.endAt)),{ct:t,parent:o}}function N1(i){let e=C1(i.parent);const t=i.structuredQuery,s=t.from?t.from.length:0;let o=null;if(s>0){qe(s===1);const w=t.from[0];w.allDescendants?o=w.collectionId:e=e.child(w.collectionId)}let u=[];t.where&&(u=function(I){const A=Gy(I);return A instanceof Un&&Sy(A)?A.getFilters():[A]}(t.where));let h=[];t.orderBy&&(h=function(I){return I.map(A=>function(b){return new Na(Gs(b.field),function(j){switch(j){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(b.direction))}(A))}(t.orderBy));let f=null;t.limit&&(f=function(I){let A;return A=typeof I=="object"?I.value:I,$u(A)?null:A}(t.limit));let g=null;t.startAt&&(g=function(I){const A=!!I.before,O=I.values||[];return new Ru(O,A)}(t.startAt));let v=null;return t.endAt&&(v=function(I){const A=!I.before,O=I.values||[];return new Ru(O,A)}(t.endAt)),YT(e,o,h,u,f,"F",g,v)}function D1(i,e){const t=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Se()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function Gy(i){return i.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const s=Gs(t.unaryFilter.field);return dt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=Gs(t.unaryFilter.field);return dt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Gs(t.unaryFilter.field);return dt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=Gs(t.unaryFilter.field);return dt.create(h,"!=",{nullValue:"NULL_VALUE"});default:return Se()}}(i):i.fieldFilter!==void 0?function(t){return dt.create(Gs(t.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Se()}}(t.fieldFilter.op),t.fieldFilter.value)}(i):i.compositeFilter!==void 0?function(t){return Un.create(t.compositeFilter.filters.map(s=>Gy(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Se()}}(t.compositeFilter.op))}(i):Se()}function V1(i){return w1[i]}function L1(i){return E1[i]}function O1(i){return T1[i]}function Ks(i){return{fieldPath:i.canonicalString()}}function Gs(i){return Nt.fromServerFormat(i.fieldPath)}function Yy(i){return i instanceof dt?function(t){if(t.op==="=="){if(Ym(t.value))return{unaryFilter:{field:Ks(t.field),op:"IS_NAN"}};if(Gm(t.value))return{unaryFilter:{field:Ks(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(Ym(t.value))return{unaryFilter:{field:Ks(t.field),op:"IS_NOT_NAN"}};if(Gm(t.value))return{unaryFilter:{field:Ks(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ks(t.field),op:L1(t.op),value:t.value}}}(i):i instanceof Un?function(t){const s=t.getFilters().map(o=>Yy(o));return s.length===1?s[0]:{compositeFilter:{op:O1(t.op),filters:s}}}(i):Se()}function b1(i){const e=[];return i.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function Xy(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ei{constructor(e,t,s,o,u=Ae.min(),h=Ae.min(),f=Dt.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=f,this.expectedCount=g}withSequenceNumber(e){return new ei(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new ei(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ei(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ei(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M1{constructor(e){this.ht=e}}function F1(i){const e=N1({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?ud(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U1{constructor(){this.ln=new j1}addToCollectionParentIndex(e,t){return this.ln.add(t),K.resolve()}getCollectionParents(e,t){return K.resolve(this.ln.getEntries(t))}addFieldIndex(e,t){return K.resolve()}deleteFieldIndex(e,t){return K.resolve()}deleteAllFieldIndexes(e){return K.resolve()}createTargetIndexes(e,t){return K.resolve()}getDocumentsMatchingTarget(e,t){return K.resolve(null)}getIndexType(e,t){return K.resolve(0)}getFieldIndexes(e,t){return K.resolve([])}getNextCollectionGroupToUpdate(e){return K.resolve(null)}getMinOffset(e,t){return K.resolve(li.min())}getMinOffsetFromCollectionGroup(e,t){return K.resolve(li.min())}updateCollectionGroup(e,t,s){return K.resolve()}updateIndexEntries(e,t){return K.resolve()}}class j1{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t]||new _t(Xe.comparator),u=!o.has(s);return this.index[t]=o.add(s),u}has(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t];return o&&o.has(s)}getEntries(e){return(this.index[e]||new _t(Xe.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cg={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Jt{static withCacheSize(e){return new Jt(e,Jt.DEFAULT_COLLECTION_PERCENTILE,Jt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Jt.DEFAULT_COLLECTION_PERCENTILE=10,Jt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Jt.DEFAULT=new Jt(41943040,Jt.DEFAULT_COLLECTION_PERCENTILE,Jt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Jt.DISABLED=new Jt(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class so{constructor(e){this.kn=e}next(){return this.kn+=2,this.kn}static qn(){return new so(0)}static Qn(){return new so(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hg([i,e],[t,s]){const o=Fe(i,t);return o===0?Fe(e,s):o}class z1{constructor(e){this.Gn=e,this.buffer=new _t(hg),this.zn=0}jn(){return++this.zn}Hn(e){const t=[e,this.jn()];if(this.buffer.size<this.Gn)this.buffer=this.buffer.add(t);else{const s=this.buffer.last();hg(t,s)<0&&(this.buffer=this.buffer.delete(s).add(t))}}get maxValue(){return this.buffer.last()[0]}}class B1{constructor(e,t,s){this.garbageCollector=e,this.asyncQueue=t,this.localStore=s,this.Jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Yn(6e4)}stop(){this.Jn&&(this.Jn.cancel(),this.Jn=null)}get started(){return this.Jn!==null}Yn(e){le("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){fo(t)?le("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",t):await ho(t)}await this.Yn(3e5)})}}class $1{constructor(e,t){this.Zn=e,this.params=t}calculateTargetCount(e,t){return this.Zn.Xn(e).next(s=>Math.floor(t/100*s))}nthSequenceNumber(e,t){if(t===0)return K.resolve(Bu.oe);const s=new z1(t);return this.Zn.forEachTarget(e,o=>s.Hn(o.sequenceNumber)).next(()=>this.Zn.er(e,o=>s.Hn(o))).next(()=>s.maxValue)}removeTargets(e,t,s){return this.Zn.removeTargets(e,t,s)}removeOrphanedDocuments(e,t){return this.Zn.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(le("LruGarbageCollector","Garbage collection skipped; disabled"),K.resolve(cg)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(le("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),cg):this.tr(e,t))}getCacheSize(e){return this.Zn.getCacheSize(e)}tr(e,t){let s,o,u,h,f,g,v;const w=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(I=>(I>this.params.maximumSequenceNumbersToCollect?(le("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${I}`),o=this.params.maximumSequenceNumbersToCollect):o=I,h=Date.now(),this.nthSequenceNumber(e,o))).next(I=>(s=I,f=Date.now(),this.removeTargets(e,s,t))).next(I=>(u=I,g=Date.now(),this.removeOrphanedDocuments(e,s))).next(I=>(v=Date.now(),Ws()<=Le.DEBUG&&le("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-w}ms
	Determined least recently used ${o} in `+(f-h)+`ms
	Removed ${u} targets in `+(g-f)+`ms
	Removed ${I} documents in `+(v-g)+`ms
Total Duration: ${v-w}ms`),K.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:I})))}}function q1(i,e){return new $1(i,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H1{constructor(){this.changes=new Xi(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Ut.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return s!==void 0?K.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W1{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q1{constructor(e,t,s,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,t))).next(o=>(s!==null&&Ta(s.mutation,o,Mn.empty(),vt.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.getLocalViewOfDocuments(e,s,Oe()).next(()=>s))}getLocalViewOfDocuments(e,t,s=Oe()){const o=qi();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,s).next(u=>{let h=ga();return u.forEach((f,g)=>{h=h.insert(f,g.overlayedDocument)}),h}))}getOverlayedDocuments(e,t){const s=qi();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,Oe()))}populateOverlays(e,t,s){const o=[];return s.forEach(u=>{t.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(e,o).next(u=>{u.forEach((h,f)=>{t.set(h,f)})})}computeViews(e,t,s,o){let u=Rr();const h=Ea(),f=function(){return Ea()}();return t.forEach((g,v)=>{const w=s.get(v.key);o.has(v.key)&&(w===void 0||w.mutation instanceof Ji)?u=u.insert(v.key,v):w!==void 0?(h.set(v.key,w.mutation.getFieldMask()),Ta(w.mutation,v,w.mutation.getFieldMask(),vt.now())):h.set(v.key,Mn.empty())}),this.recalculateAndSaveOverlays(e,u).next(g=>(g.forEach((v,w)=>h.set(v,w)),t.forEach((v,w)=>{var I;return f.set(v,new W1(w,(I=h.get(v))!==null&&I!==void 0?I:null))}),f))}recalculateAndSaveOverlays(e,t){const s=Ea();let o=new it((h,f)=>h-f),u=Oe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(h=>{for(const f of h)f.keys().forEach(g=>{const v=t.get(g);if(v===null)return;let w=s.get(g)||Mn.empty();w=f.applyToLocalView(v,w),s.set(g,w);const I=(o.get(f.batchId)||Oe()).add(g);o=o.insert(f.batchId,I)})}).next(()=>{const h=[],f=o.getReverseIterator();for(;f.hasNext();){const g=f.getNext(),v=g.key,w=g.value,I=Vy();w.forEach(A=>{if(!u.has(A)){const O=Uy(t.get(A),s.get(A));O!==null&&I.set(A,O),u=u.add(A)}}),h.push(this.documentOverlayCache.saveOverlays(e,v,I))}return K.waitFor(h)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,t,s,o){return function(h){return ve.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Py(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s,o):this.getDocumentsMatchingCollectionQuery(e,t,s,o)}getNextDocuments(e,t,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,o).next(u=>{const h=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,o-u.size):K.resolve(qi());let f=-1,g=u;return h.next(v=>K.forEach(v,(w,I)=>(f<I.largestBatchId&&(f=I.largestBatchId),u.get(w)?K.resolve():this.remoteDocumentCache.getEntry(e,w).next(A=>{g=g.insert(w,A)}))).next(()=>this.populateOverlays(e,v,u)).next(()=>this.computeViews(e,g,v,Oe())).next(w=>({batchId:f,changes:Dy(w)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ve(t)).next(s=>{let o=ga();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,s,o){const u=t.collectionGroup;let h=ga();return this.indexManager.getCollectionParents(e,u).next(f=>K.forEach(f,g=>{const v=function(I,A){return new po(A,null,I.explicitOrderBy.slice(),I.filters.slice(),I.limit,I.limitType,I.startAt,I.endAt)}(t,g.child(u));return this.getDocumentsMatchingCollectionQuery(e,v,s,o).next(w=>{w.forEach((I,A)=>{h=h.insert(I,A)})})}).next(()=>h))}getDocumentsMatchingCollectionQuery(e,t,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId).next(h=>(u=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,s,u,o))).next(h=>{u.forEach((g,v)=>{const w=v.getKey();h.get(w)===null&&(h=h.insert(w,Ut.newInvalidDocument(w)))});let f=ga();return h.forEach((g,v)=>{const w=u.get(g);w!==void 0&&Ta(w.mutation,v,Mn.empty(),vt.now()),Wu(t,v)&&(f=f.insert(g,v))}),f})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K1{constructor(e){this.serializer=e,this.Tr=new Map,this.Ir=new Map}getBundleMetadata(e,t){return K.resolve(this.Tr.get(t))}saveBundleMetadata(e,t){return this.Tr.set(t.id,function(o){return{id:o.id,version:o.version,createTime:er(o.createTime)}}(t)),K.resolve()}getNamedQuery(e,t){return K.resolve(this.Ir.get(t))}saveNamedQuery(e,t){return this.Ir.set(t.name,function(o){return{name:o.name,query:F1(o.bundledQuery),readTime:er(o.readTime)}}(t)),K.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G1{constructor(){this.overlays=new it(ve.comparator),this.Er=new Map}getOverlay(e,t){return K.resolve(this.overlays.get(t))}getOverlays(e,t){const s=qi();return K.forEach(t,o=>this.getOverlay(e,o).next(u=>{u!==null&&s.set(o,u)})).next(()=>s)}saveOverlays(e,t,s){return s.forEach((o,u)=>{this.Tt(e,t,u)}),K.resolve()}removeOverlaysForBatchId(e,t,s){const o=this.Er.get(s);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.Er.delete(s)),K.resolve()}getOverlaysForCollection(e,t,s){const o=qi(),u=t.length+1,h=new ve(t.child("")),f=this.overlays.getIteratorFrom(h);for(;f.hasNext();){const g=f.getNext().value,v=g.getKey();if(!t.isPrefixOf(v.path))break;v.path.length===u&&g.largestBatchId>s&&o.set(g.getKey(),g)}return K.resolve(o)}getOverlaysForCollectionGroup(e,t,s,o){let u=new it((v,w)=>v-w);const h=this.overlays.getIterator();for(;h.hasNext();){const v=h.getNext().value;if(v.getKey().getCollectionGroup()===t&&v.largestBatchId>s){let w=u.get(v.largestBatchId);w===null&&(w=qi(),u=u.insert(v.largestBatchId,w)),w.set(v.getKey(),v)}}const f=qi(),g=u.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach((v,w)=>f.set(v,w)),!(f.size()>=o)););return K.resolve(f)}Tt(e,t,s){const o=this.overlays.get(s.key);if(o!==null){const h=this.Er.get(o.largestBatchId).delete(s.key);this.Er.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(s.key,new p1(t,s));let u=this.Er.get(t);u===void 0&&(u=Oe(),this.Er.set(t,u)),this.Er.set(t,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y1{constructor(){this.sessionToken=Dt.EMPTY_BYTE_STRING}getSessionToken(e){return K.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,K.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ud{constructor(){this.dr=new _t(St.Ar),this.Rr=new _t(St.Vr)}isEmpty(){return this.dr.isEmpty()}addReference(e,t){const s=new St(e,t);this.dr=this.dr.add(s),this.Rr=this.Rr.add(s)}mr(e,t){e.forEach(s=>this.addReference(s,t))}removeReference(e,t){this.gr(new St(e,t))}pr(e,t){e.forEach(s=>this.removeReference(s,t))}yr(e){const t=new ve(new Xe([])),s=new St(t,e),o=new St(t,e+1),u=[];return this.Rr.forEachInRange([s,o],h=>{this.gr(h),u.push(h.key)}),u}wr(){this.dr.forEach(e=>this.gr(e))}gr(e){this.dr=this.dr.delete(e),this.Rr=this.Rr.delete(e)}Sr(e){const t=new ve(new Xe([])),s=new St(t,e),o=new St(t,e+1);let u=Oe();return this.Rr.forEachInRange([s,o],h=>{u=u.add(h.key)}),u}containsKey(e){const t=new St(e,0),s=this.dr.firstAfterOrEqual(t);return s!==null&&e.isEqual(s.key)}}class St{constructor(e,t){this.key=e,this.br=t}static Ar(e,t){return ve.comparator(e.key,t.key)||Fe(e.br,t.br)}static Vr(e,t){return Fe(e.br,t.br)||ve.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X1{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Dr=1,this.vr=new _t(St.Ar)}checkEmpty(e){return K.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,s,o){const u=this.Dr;this.Dr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new f1(u,t,s,o);this.mutationQueue.push(h);for(const f of o)this.vr=this.vr.add(new St(f.key,u)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return K.resolve(h)}lookupMutationBatch(e,t){return K.resolve(this.Cr(t))}getNextMutationBatchAfterBatchId(e,t){const s=t+1,o=this.Fr(s),u=o<0?0:o;return K.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return K.resolve(this.mutationQueue.length===0?-1:this.Dr-1)}getAllMutationBatches(e){return K.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new St(t,0),o=new St(t,Number.POSITIVE_INFINITY),u=[];return this.vr.forEachInRange([s,o],h=>{const f=this.Cr(h.br);u.push(f)}),K.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new _t(Fe);return t.forEach(o=>{const u=new St(o,0),h=new St(o,Number.POSITIVE_INFINITY);this.vr.forEachInRange([u,h],f=>{s=s.add(f.br)})}),K.resolve(this.Mr(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,o=s.length+1;let u=s;ve.isDocumentKey(u)||(u=u.child(""));const h=new St(new ve(u),0);let f=new _t(Fe);return this.vr.forEachWhile(g=>{const v=g.key.path;return!!s.isPrefixOf(v)&&(v.length===o&&(f=f.add(g.br)),!0)},h),K.resolve(this.Mr(f))}Mr(e){const t=[];return e.forEach(s=>{const o=this.Cr(s);o!==null&&t.push(o)}),t}removeMutationBatch(e,t){qe(this.Or(t.batchId,"removed")===0),this.mutationQueue.shift();let s=this.vr;return K.forEach(t.mutations,o=>{const u=new St(o.key,t.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.vr=s})}Ln(e){}containsKey(e,t){const s=new St(t,0),o=this.vr.firstAfterOrEqual(s);return K.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,K.resolve()}Or(e,t){return this.Fr(e)}Fr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Cr(e){const t=this.Fr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J1{constructor(e){this.Nr=e,this.docs=function(){return new it(ve.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,o=this.docs.get(s),u=o?o.size:0,h=this.Nr(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:h}),this.size+=h-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return K.resolve(s?s.document.mutableCopy():Ut.newInvalidDocument(t))}getEntries(e,t){let s=Rr();return t.forEach(o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():Ut.newInvalidDocument(o))}),K.resolve(s)}getDocumentsMatchingQuery(e,t,s,o){let u=Rr();const h=t.path,f=new ve(h.child("")),g=this.docs.getIteratorFrom(f);for(;g.hasNext();){const{key:v,value:{document:w}}=g.getNext();if(!h.isPrefixOf(v.path))break;v.path.length>h.length+1||kT(PT(w),s)<=0||(o.has(w.key)||Wu(t,w))&&(u=u.insert(w.key,w.mutableCopy()))}return K.resolve(u)}getAllFromCollectionGroup(e,t,s,o){Se()}Lr(e,t){return K.forEach(this.docs,s=>t(s))}newChangeBuffer(e){return new Z1(this)}getSize(e){return K.resolve(this.size)}}class Z1 extends H1{constructor(e){super(),this.hr=e}applyChanges(e){const t=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?t.push(this.hr.addEntry(e,o)):this.hr.removeEntry(s)}),K.waitFor(t)}getFromCache(e,t){return this.hr.getEntry(e,t)}getAllFromCache(e,t){return this.hr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eI{constructor(e){this.persistence=e,this.Br=new Xi(t=>Dd(t),Vd),this.lastRemoteSnapshotVersion=Ae.min(),this.highestTargetId=0,this.kr=0,this.qr=new Ud,this.targetCount=0,this.Qr=so.qn()}forEachTarget(e,t){return this.Br.forEach((s,o)=>t(o)),K.resolve()}getLastRemoteSnapshotVersion(e){return K.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return K.resolve(this.kr)}allocateTargetId(e){return this.highestTargetId=this.Qr.next(),K.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.kr&&(this.kr=t),K.resolve()}Un(e){this.Br.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Qr=new so(t),this.highestTargetId=t),e.sequenceNumber>this.kr&&(this.kr=e.sequenceNumber)}addTargetData(e,t){return this.Un(t),this.targetCount+=1,K.resolve()}updateTargetData(e,t){return this.Un(t),K.resolve()}removeTargetData(e,t){return this.Br.delete(t.target),this.qr.yr(t.targetId),this.targetCount-=1,K.resolve()}removeTargets(e,t,s){let o=0;const u=[];return this.Br.forEach((h,f)=>{f.sequenceNumber<=t&&s.get(f.targetId)===null&&(this.Br.delete(h),u.push(this.removeMatchingKeysForTargetId(e,f.targetId)),o++)}),K.waitFor(u).next(()=>o)}getTargetCount(e){return K.resolve(this.targetCount)}getTargetData(e,t){const s=this.Br.get(t)||null;return K.resolve(s)}addMatchingKeys(e,t,s){return this.qr.mr(t,s),K.resolve()}removeMatchingKeys(e,t,s){this.qr.pr(t,s);const o=this.persistence.referenceDelegate,u=[];return o&&t.forEach(h=>{u.push(o.markPotentiallyOrphaned(e,h))}),K.waitFor(u)}removeMatchingKeysForTargetId(e,t){return this.qr.yr(t),K.resolve()}getMatchingKeysForTargetId(e,t){const s=this.qr.Sr(t);return K.resolve(s)}containsKey(e,t){return K.resolve(this.qr.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jy{constructor(e,t){this.Kr={},this.overlays={},this.$r=new Bu(0),this.Ur=!1,this.Ur=!0,this.Wr=new Y1,this.referenceDelegate=e(this),this.Gr=new eI(this),this.indexManager=new U1,this.remoteDocumentCache=function(o){return new J1(o)}(s=>this.referenceDelegate.zr(s)),this.serializer=new M1(t),this.jr=new K1(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ur=!1,Promise.resolve()}get started(){return this.Ur}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new G1,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this.Kr[e.toKey()];return s||(s=new X1(t,this.referenceDelegate),this.Kr[e.toKey()]=s),s}getGlobalsCache(){return this.Wr}getTargetCache(){return this.Gr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.jr}runTransaction(e,t,s){le("MemoryPersistence","Starting transaction:",e);const o=new tI(this.$r.next());return this.referenceDelegate.Hr(),s(o).next(u=>this.referenceDelegate.Jr(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}Yr(e,t){return K.or(Object.values(this.Kr).map(s=>()=>s.containsKey(e,t)))}}class tI extends NT{constructor(e){super(),this.currentSequenceNumber=e}}class jd{constructor(e){this.persistence=e,this.Zr=new Ud,this.Xr=null}static ei(e){return new jd(e)}get ti(){if(this.Xr)return this.Xr;throw Se()}addReference(e,t,s){return this.Zr.addReference(s,t),this.ti.delete(s.toString()),K.resolve()}removeReference(e,t,s){return this.Zr.removeReference(s,t),this.ti.add(s.toString()),K.resolve()}markPotentiallyOrphaned(e,t){return this.ti.add(t.toString()),K.resolve()}removeTarget(e,t){this.Zr.yr(t.targetId).forEach(o=>this.ti.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(u=>this.ti.add(u.toString()))}).next(()=>s.removeTargetData(e,t))}Hr(){this.Xr=new Set}Jr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return K.forEach(this.ti,s=>{const o=ve.fromPath(s);return this.ni(e,o).next(u=>{u||t.removeEntry(o,Ae.min())})}).next(()=>(this.Xr=null,t.apply(e)))}updateLimboDocument(e,t){return this.ni(e,t).next(s=>{s?this.ti.delete(t.toString()):this.ti.add(t.toString())})}zr(e){return 0}ni(e,t){return K.or([()=>K.resolve(this.Zr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Yr(e,t)])}}class Nu{constructor(e,t){this.persistence=e,this.ri=new Xi(s=>LT(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=q1(this,t)}static ei(e,t){return new Nu(e,t)}Hr(){}Jr(e){return K.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}Xn(e){const t=this.nr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>t.next(o=>s+o))}nr(e){let t=0;return this.er(e,s=>{t++}).next(()=>t)}er(e,t){return K.forEach(this.ri,(s,o)=>this.ir(e,s,o).next(u=>u?K.resolve():t(o)))}removeTargets(e,t,s){return this.persistence.getTargetCache().removeTargets(e,t,s)}removeOrphanedDocuments(e,t){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.Lr(e,h=>this.ir(e,h,t).next(f=>{f||(s++,u.removeEntry(h,Ae.min()))})).next(()=>u.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,t){return this.ri.set(t,e.currentSequenceNumber),K.resolve()}removeTarget(e,t){const s=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,t,s){return this.ri.set(s,e.currentSequenceNumber),K.resolve()}removeReference(e,t,s){return this.ri.set(s,e.currentSequenceNumber),K.resolve()}updateLimboDocument(e,t){return this.ri.set(t,e.currentSequenceNumber),K.resolve()}zr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=gu(e.data.value)),t}ir(e,t,s){return K.or([()=>this.persistence.Yr(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.ri.get(t);return K.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zd{constructor(e,t,s,o){this.targetId=e,this.fromCache=t,this.Wi=s,this.Gi=o}static zi(e,t){let s=Oe(),o=Oe();for(const u of t.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new zd(e,t.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nI{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rI{constructor(){this.ji=!1,this.Hi=!1,this.Ji=100,this.Yi=function(){return eE()?8:DT(Fn())>0?6:4}()}initialize(e,t){this.Zi=e,this.indexManager=t,this.ji=!0}getDocumentsMatchingQuery(e,t,s,o){const u={result:null};return this.Xi(e,t).next(h=>{u.result=h}).next(()=>{if(!u.result)return this.es(e,t,o,s).next(h=>{u.result=h})}).next(()=>{if(u.result)return;const h=new nI;return this.ts(e,t,h).next(f=>{if(u.result=f,this.Hi)return this.ns(e,t,h,f.size)})}).next(()=>u.result)}ns(e,t,s,o){return s.documentReadCount<this.Ji?(Ws()<=Le.DEBUG&&le("QueryEngine","SDK will not create cache indexes for query:",Qs(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Ji,"documents"),K.resolve()):(Ws()<=Le.DEBUG&&le("QueryEngine","Query:",Qs(t),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.Yi*o?(Ws()<=Le.DEBUG&&le("QueryEngine","The SDK decides to create cache indexes for query:",Qs(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Jn(t))):K.resolve())}Xi(e,t){if(eg(t))return K.resolve(null);let s=Jn(t);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(t.limit!==null&&o===1&&(t=ud(t,null,"F"),s=Jn(t)),this.indexManager.getDocumentsMatchingTarget(e,s).next(u=>{const h=Oe(...u);return this.Zi.getDocuments(e,h).next(f=>this.indexManager.getMinOffset(e,s).next(g=>{const v=this.rs(t,f);return this.ss(t,v,h,g.readTime)?this.Xi(e,ud(t,null,"F")):this.os(e,v,t,g)}))})))}es(e,t,s,o){return eg(t)||o.isEqual(Ae.min())?K.resolve(null):this.Zi.getDocuments(e,s).next(u=>{const h=this.rs(t,u);return this.ss(t,h,s,o)?K.resolve(null):(Ws()<=Le.DEBUG&&le("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Qs(t)),this.os(e,h,t,RT(o,-1)).next(f=>f))})}rs(e,t){let s=new _t(xy(e));return t.forEach((o,u)=>{Wu(e,u)&&(s=s.add(u))}),s}ss(e,t,s,o){if(e.limit===null)return!1;if(s.size!==t.size)return!0;const u=e.limitType==="F"?t.last():t.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}ts(e,t,s){return Ws()<=Le.DEBUG&&le("QueryEngine","Using full collection scan to execute query:",Qs(t)),this.Zi.getDocumentsMatchingQuery(e,t,li.min(),s)}os(e,t,s,o){return this.Zi.getDocumentsMatchingQuery(e,s,o).next(u=>(t.forEach(h=>{u=u.insert(h.key,h)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iI{constructor(e,t,s,o){this.persistence=e,this._s=t,this.serializer=o,this.us=new it(Fe),this.cs=new Xi(u=>Dd(u),Vd),this.ls=new Map,this.hs=e.getRemoteDocumentCache(),this.Gr=e.getTargetCache(),this.jr=e.getBundleCache(),this.Ps(s)}Ps(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Q1(this.hs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.hs.setIndexManager(this.indexManager),this._s.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.us))}}function sI(i,e,t,s){return new iI(i,e,t,s)}async function Zy(i,e){const t=Re(i);return await t.persistence.runTransaction("Handle user change","readonly",s=>{let o;return t.mutationQueue.getAllMutationBatches(s).next(u=>(o=u,t.Ps(e),t.mutationQueue.getAllMutationBatches(s))).next(u=>{const h=[],f=[];let g=Oe();for(const v of o){h.push(v.batchId);for(const w of v.mutations)g=g.add(w.key)}for(const v of u){f.push(v.batchId);for(const w of v.mutations)g=g.add(w.key)}return t.localDocuments.getDocuments(s,g).next(v=>({Ts:v,removedBatchIds:h,addedBatchIds:f}))})})}function oI(i,e){const t=Re(i);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),u=t.hs.newChangeBuffer({trackRemovals:!0});return function(f,g,v,w){const I=v.batch,A=I.keys();let O=K.resolve();return A.forEach(b=>{O=O.next(()=>w.getEntry(g,b)).next(q=>{const j=v.docVersions.get(b);qe(j!==null),q.version.compareTo(j)<0&&(I.applyToRemoteDocument(q,v),q.isValidDocument()&&(q.setReadTime(v.commitVersion),w.addEntry(q)))})}),O.next(()=>f.mutationQueue.removeMutationBatch(g,I))}(t,s,e,u).next(()=>u.apply(s)).next(()=>t.mutationQueue.performConsistencyCheck(s)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(f){let g=Oe();for(let v=0;v<f.mutationResults.length;++v)f.mutationResults[v].transformResults.length>0&&(g=g.add(f.batch.mutations[v].key));return g}(e))).next(()=>t.localDocuments.getDocuments(s,o))})}function ev(i){const e=Re(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Gr.getLastRemoteSnapshotVersion(t))}function aI(i,e){const t=Re(i),s=e.snapshotVersion;let o=t.us;return t.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const h=t.hs.newChangeBuffer({trackRemovals:!0});o=t.us;const f=[];e.targetChanges.forEach((w,I)=>{const A=o.get(I);if(!A)return;f.push(t.Gr.removeMatchingKeys(u,w.removedDocuments,I).next(()=>t.Gr.addMatchingKeys(u,w.addedDocuments,I)));let O=A.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(I)!==null?O=O.withResumeToken(Dt.EMPTY_BYTE_STRING,Ae.min()).withLastLimboFreeSnapshotVersion(Ae.min()):w.resumeToken.approximateByteSize()>0&&(O=O.withResumeToken(w.resumeToken,s)),o=o.insert(I,O),function(q,j,Q){return q.resumeToken.approximateByteSize()===0||j.snapshotVersion.toMicroseconds()-q.snapshotVersion.toMicroseconds()>=3e8?!0:Q.addedDocuments.size+Q.modifiedDocuments.size+Q.removedDocuments.size>0}(A,O,w)&&f.push(t.Gr.updateTargetData(u,O))});let g=Rr(),v=Oe();if(e.documentUpdates.forEach(w=>{e.resolvedLimboDocuments.has(w)&&f.push(t.persistence.referenceDelegate.updateLimboDocument(u,w))}),f.push(lI(u,h,e.documentUpdates).next(w=>{g=w.Is,v=w.Es})),!s.isEqual(Ae.min())){const w=t.Gr.getLastRemoteSnapshotVersion(u).next(I=>t.Gr.setTargetsMetadata(u,u.currentSequenceNumber,s));f.push(w)}return K.waitFor(f).next(()=>h.apply(u)).next(()=>t.localDocuments.getLocalViewOfDocuments(u,g,v)).next(()=>g)}).then(u=>(t.us=o,u))}function lI(i,e,t){let s=Oe(),o=Oe();return t.forEach(u=>s=s.add(u)),e.getEntries(i,s).next(u=>{let h=Rr();return t.forEach((f,g)=>{const v=u.get(f);g.isFoundDocument()!==v.isFoundDocument()&&(o=o.add(f)),g.isNoDocument()&&g.version.isEqual(Ae.min())?(e.removeEntry(f,g.readTime),h=h.insert(f,g)):!v.isValidDocument()||g.version.compareTo(v.version)>0||g.version.compareTo(v.version)===0&&v.hasPendingWrites?(e.addEntry(g),h=h.insert(f,g)):le("LocalStore","Ignoring outdated watch update for ",f,". Current version:",v.version," Watch version:",g.version)}),{Is:h,Es:o}})}function uI(i,e){const t=Re(i);return t.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function cI(i,e){const t=Re(i);return t.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return t.Gr.getTargetData(s,e).next(u=>u?(o=u,K.resolve(o)):t.Gr.allocateTargetId(s).next(h=>(o=new ei(e,h,"TargetPurposeListen",s.currentSequenceNumber),t.Gr.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=t.us.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.us=t.us.insert(s.targetId,s),t.cs.set(e,s.targetId)),s})}async function pd(i,e,t){const s=Re(i),o=s.us.get(e),u=t?"readwrite":"readwrite-primary";try{t||await s.persistence.runTransaction("Release target",u,h=>s.persistence.referenceDelegate.removeTarget(h,o))}catch(h){if(!fo(h))throw h;le("LocalStore",`Failed to update sequence numbers for target ${e}: ${h}`)}s.us=s.us.remove(e),s.cs.delete(o.target)}function dg(i,e,t){const s=Re(i);let o=Ae.min(),u=Oe();return s.persistence.runTransaction("Execute query","readwrite",h=>function(g,v,w){const I=Re(g),A=I.cs.get(w);return A!==void 0?K.resolve(I.us.get(A)):I.Gr.getTargetData(v,w)}(s,h,Jn(e)).next(f=>{if(f)return o=f.lastLimboFreeSnapshotVersion,s.Gr.getMatchingKeysForTargetId(h,f.targetId).next(g=>{u=g})}).next(()=>s._s.getDocumentsMatchingQuery(h,e,t?o:Ae.min(),t?u:Oe())).next(f=>(hI(s,JT(e),f),{documents:f,ds:u})))}function hI(i,e,t){let s=i.ls.get(e)||Ae.min();t.forEach((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)}),i.ls.set(e,s)}class fg{constructor(){this.activeTargetIds=i1()}ps(e){this.activeTargetIds=this.activeTargetIds.add(e)}ys(e){this.activeTargetIds=this.activeTargetIds.delete(e)}gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class dI{constructor(){this._o=new fg,this.ao={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e,t=!0){return t&&this._o.ps(e),this.ao[e]||"not-current"}updateQueryState(e,t,s){this.ao[e]=t}removeLocalQueryTarget(e){this._o.ys(e)}isLocalQueryTarget(e){return this._o.activeTargetIds.has(e)}clearQueryState(e){delete this.ao[e]}getAllActiveQueryTargets(){return this._o.activeTargetIds}isActiveQueryTarget(e){return this._o.activeTargetIds.has(e)}start(){return this._o=new fg,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fI{uo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pg{constructor(){this.co=()=>this.lo(),this.ho=()=>this.Po(),this.To=[],this.Io()}uo(e){this.To.push(e)}shutdown(){window.removeEventListener("online",this.co),window.removeEventListener("offline",this.ho)}Io(){window.addEventListener("online",this.co),window.addEventListener("offline",this.ho)}lo(){le("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.To)e(0)}Po(){le("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.To)e(1)}static p(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hu=null;function qh(){return hu===null?hu=function(){return 268435456+Math.round(2147483648*Math.random())}():hu++,"0x"+hu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mI{constructor(e){this.Eo=e.Eo,this.Ao=e.Ao}Ro(e){this.Vo=e}mo(e){this.fo=e}po(e){this.yo=e}onMessage(e){this.wo=e}close(){this.Ao()}send(e){this.Eo(e)}So(){this.Vo()}bo(){this.fo()}Do(e){this.yo(e)}vo(e){this.wo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mt="WebChannelConnection";class gI extends class{get Co(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const s=t.ssl?"https":"http",o=encodeURIComponent(this.databaseId.projectId),u=encodeURIComponent(this.databaseId.database);this.Fo=s+"://"+t.host,this.Mo=`projects/${o}/databases/${u}`,this.xo=this.databaseId.database==="(default)"?`project_id=${o}`:`project_id=${o}&database_id=${u}`}Oo(t,s,o,u,h){const f=qh(),g=this.No(t,s.toUriEncodedString());le("RestConnection",`Sending RPC '${t}' ${f}:`,g,o);const v={"google-cloud-resource-prefix":this.Mo,"x-goog-request-params":this.xo};return this.Lo(v,u,h),this.Bo(t,g,v,o).then(w=>(le("RestConnection",`Received RPC '${t}' ${f}: `,w),w),w=>{throw to("RestConnection",`RPC '${t}' ${f} failed with error: `,w,"url: ",g,"request:",o),w})}ko(t,s,o,u,h,f){return this.Oo(t,s,o,u,h)}Lo(t,s,o){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+co}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),s&&s.headers.forEach((u,h)=>t[h]=u),o&&o.headers.forEach((u,h)=>t[h]=u)}No(t,s){const o=pI[t];return`${this.Fo}/v1/${s}:${o}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Bo(e,t,s,o){const u=qh();return new Promise((h,f)=>{const g=new dy;g.setWithCredentials(!0),g.listenOnce(fy.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case mu.NO_ERROR:const w=g.getResponseJson();le(Mt,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(w)),h(w);break;case mu.TIMEOUT:le(Mt,`RPC '${e}' ${u} timed out`),f(new ue(G.DEADLINE_EXCEEDED,"Request time out"));break;case mu.HTTP_ERROR:const I=g.getStatus();if(le(Mt,`RPC '${e}' ${u} failed with status:`,I,"response text:",g.getResponseText()),I>0){let A=g.getResponseJson();Array.isArray(A)&&(A=A[0]);const O=A==null?void 0:A.error;if(O&&O.status&&O.message){const b=function(j){const Q=j.toLowerCase().replace(/_/g,"-");return Object.values(G).indexOf(Q)>=0?Q:G.UNKNOWN}(O.status);f(new ue(b,O.message))}else f(new ue(G.UNKNOWN,"Server responded with status "+g.getStatus()))}else f(new ue(G.UNAVAILABLE,"Connection failed."));break;default:Se()}}finally{le(Mt,`RPC '${e}' ${u} completed.`)}});const v=JSON.stringify(o);le(Mt,`RPC '${e}' ${u} sending request:`,o),g.send(t,"POST",v,s,15)})}qo(e,t,s){const o=qh(),u=[this.Fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=gy(),f=my(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(g.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(g.useFetchStreams=!0),this.Lo(g.initMessageHeaders,t,s),g.encodeInitMessageHeaders=!0;const w=u.join("");le(Mt,`Creating RPC '${e}' stream ${o}: ${w}`,g);const I=h.createWebChannel(w,g);let A=!1,O=!1;const b=new mI({Eo:j=>{O?le(Mt,`Not sending because RPC '${e}' stream ${o} is closed:`,j):(A||(le(Mt,`Opening RPC '${e}' stream ${o} transport.`),I.open(),A=!0),le(Mt,`RPC '${e}' stream ${o} sending:`,j),I.send(j))},Ao:()=>I.close()}),q=(j,Q,X)=>{j.listen(Q,se=>{try{X(se)}catch(fe){setTimeout(()=>{throw fe},0)}})};return q(I,ma.EventType.OPEN,()=>{O||(le(Mt,`RPC '${e}' stream ${o} transport opened.`),b.So())}),q(I,ma.EventType.CLOSE,()=>{O||(O=!0,le(Mt,`RPC '${e}' stream ${o} transport closed`),b.Do())}),q(I,ma.EventType.ERROR,j=>{O||(O=!0,to(Mt,`RPC '${e}' stream ${o} transport errored:`,j),b.Do(new ue(G.UNAVAILABLE,"The operation could not be completed")))}),q(I,ma.EventType.MESSAGE,j=>{var Q;if(!O){const X=j.data[0];qe(!!X);const se=X,fe=(se==null?void 0:se.error)||((Q=se[0])===null||Q===void 0?void 0:Q.error);if(fe){le(Mt,`RPC '${e}' stream ${o} received error:`,fe);const Pe=fe.status;let Te=function(R){const k=ht[R];if(k!==void 0)return By(k)}(Pe),N=fe.message;Te===void 0&&(Te=G.INTERNAL,N="Unknown error status: "+Pe+" with message "+fe.message),O=!0,b.Do(new ue(Te,N)),I.close()}else le(Mt,`RPC '${e}' stream ${o} received:`,X),b.vo(X)}}),q(f,py.STAT_EVENT,j=>{j.stat===rd.PROXY?le(Mt,`RPC '${e}' stream ${o} detected buffering proxy`):j.stat===rd.NOPROXY&&le(Mt,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{b.bo()},0),b}}function Hh(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yu(i){return new I1(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tv{constructor(e,t,s=1e3,o=1.5,u=6e4){this.li=e,this.timerId=t,this.Qo=s,this.Ko=o,this.$o=u,this.Uo=0,this.Wo=null,this.Go=Date.now(),this.reset()}reset(){this.Uo=0}zo(){this.Uo=this.$o}jo(e){this.cancel();const t=Math.floor(this.Uo+this.Ho()),s=Math.max(0,Date.now()-this.Go),o=Math.max(0,t-s);o>0&&le("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Uo} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.Wo=this.li.enqueueAfterDelay(this.timerId,o,()=>(this.Go=Date.now(),e())),this.Uo*=this.Ko,this.Uo<this.Qo&&(this.Uo=this.Qo),this.Uo>this.$o&&(this.Uo=this.$o)}Jo(){this.Wo!==null&&(this.Wo.skipDelay(),this.Wo=null)}cancel(){this.Wo!==null&&(this.Wo.cancel(),this.Wo=null)}Ho(){return(Math.random()-.5)*this.Uo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nv{constructor(e,t,s,o,u,h,f,g){this.li=e,this.Yo=s,this.Zo=o,this.connection=u,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=f,this.listener=g,this.state=0,this.Xo=0,this.e_=null,this.t_=null,this.stream=null,this.n_=0,this.r_=new tv(e,t)}i_(){return this.state===1||this.state===5||this.s_()}s_(){return this.state===2||this.state===3}start(){this.n_=0,this.state!==4?this.auth():this.o_()}async stop(){this.i_()&&await this.close(0)}__(){this.state=0,this.r_.reset()}a_(){this.s_()&&this.e_===null&&(this.e_=this.li.enqueueAfterDelay(this.Yo,6e4,()=>this.u_()))}c_(e){this.l_(),this.stream.send(e)}async u_(){if(this.s_())return this.close(0)}l_(){this.e_&&(this.e_.cancel(),this.e_=null)}h_(){this.t_&&(this.t_.cancel(),this.t_=null)}async close(e,t){this.l_(),this.h_(),this.r_.cancel(),this.Xo++,e!==4?this.r_.reset():t&&t.code===G.RESOURCE_EXHAUSTED?(Ar(t.toString()),Ar("Using maximum backoff delay to prevent overloading the backend."),this.r_.zo()):t&&t.code===G.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.P_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.po(t)}P_(){}auth(){this.state=1;const e=this.T_(this.Xo),t=this.Xo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.Xo===t&&this.I_(s,o)},s=>{e(()=>{const o=new ue(G.UNKNOWN,"Fetching auth token failed: "+s.message);return this.E_(o)})})}I_(e,t){const s=this.T_(this.Xo);this.stream=this.d_(e,t),this.stream.Ro(()=>{s(()=>this.listener.Ro())}),this.stream.mo(()=>{s(()=>(this.state=2,this.t_=this.li.enqueueAfterDelay(this.Zo,1e4,()=>(this.s_()&&(this.state=3),Promise.resolve())),this.listener.mo()))}),this.stream.po(o=>{s(()=>this.E_(o))}),this.stream.onMessage(o=>{s(()=>++this.n_==1?this.A_(o):this.onNext(o))})}o_(){this.state=5,this.r_.jo(async()=>{this.state=0,this.start()})}E_(e){return le("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}T_(e){return t=>{this.li.enqueueAndForget(()=>this.Xo===e?t():(le("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class yI extends nv{constructor(e,t,s,o,u,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,o,h),this.serializer=u}d_(e,t){return this.connection.qo("Listen",e,t)}A_(e){return this.onNext(e)}onNext(e){this.r_.reset();const t=A1(this.serializer,e),s=function(u){if(!("targetChange"in u))return Ae.min();const h=u.targetChange;return h.targetIds&&h.targetIds.length?Ae.min():h.readTime?er(h.readTime):Ae.min()}(e);return this.listener.R_(t,s)}V_(e){const t={};t.database=fd(this.serializer),t.addTarget=function(u,h){let f;const g=h.target;if(f=ad(g)?{documents:k1(u,g)}:{query:x1(u,g).ct},f.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){f.resumeToken=Hy(u,h.resumeToken);const v=cd(u,h.expectedCount);v!==null&&(f.expectedCount=v)}else if(h.snapshotVersion.compareTo(Ae.min())>0){f.readTime=xu(u,h.snapshotVersion.toTimestamp());const v=cd(u,h.expectedCount);v!==null&&(f.expectedCount=v)}return f}(this.serializer,e);const s=D1(this.serializer,e);s&&(t.labels=s),this.c_(t)}m_(e){const t={};t.database=fd(this.serializer),t.removeTarget=e,this.c_(t)}}class vI extends nv{constructor(e,t,s,o,u,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,o,h),this.serializer=u}get f_(){return this.n_>0}start(){this.lastStreamToken=void 0,super.start()}P_(){this.f_&&this.g_([])}d_(e,t){return this.connection.qo("Write",e,t)}A_(e){return qe(!!e.streamToken),this.lastStreamToken=e.streamToken,qe(!e.writeResults||e.writeResults.length===0),this.listener.p_()}onNext(e){qe(!!e.streamToken),this.lastStreamToken=e.streamToken,this.r_.reset();const t=P1(e.writeResults,e.commitTime),s=er(e.commitTime);return this.listener.y_(s,t)}w_(){const e={};e.database=fd(this.serializer),this.c_(e)}g_(e){const t={streamToken:this.lastStreamToken,writes:e.map(s=>R1(this.serializer,s))};this.c_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _I extends class{}{constructor(e,t,s,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=s,this.serializer=o,this.S_=!1}b_(){if(this.S_)throw new ue(G.FAILED_PRECONDITION,"The client has already been terminated.")}Oo(e,t,s,o){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,h])=>this.connection.Oo(e,hd(t,s),o,u,h)).catch(u=>{throw u.name==="FirebaseError"?(u.code===G.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ue(G.UNKNOWN,u.toString())})}ko(e,t,s,o,u){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,f])=>this.connection.ko(e,hd(t,s),o,h,f,u)).catch(h=>{throw h.name==="FirebaseError"?(h.code===G.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new ue(G.UNKNOWN,h.toString())})}terminate(){this.S_=!0,this.connection.terminate()}}class wI{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.D_=0,this.v_=null,this.C_=!0}F_(){this.D_===0&&(this.M_("Unknown"),this.v_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.v_=null,this.x_("Backend didn't respond within 10 seconds."),this.M_("Offline"),Promise.resolve())))}O_(e){this.state==="Online"?this.M_("Unknown"):(this.D_++,this.D_>=1&&(this.N_(),this.x_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.M_("Offline")))}set(e){this.N_(),this.D_=0,e==="Online"&&(this.C_=!1),this.M_(e)}M_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}x_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.C_?(Ar(t),this.C_=!1):le("OnlineStateTracker",t)}N_(){this.v_!==null&&(this.v_.cancel(),this.v_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EI{constructor(e,t,s,o,u){this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.L_=[],this.B_=new Map,this.k_=new Set,this.q_=[],this.Q_=u,this.Q_.uo(h=>{s.enqueueAndForget(async()=>{Zi(this)&&(le("RemoteStore","Restarting streams for network reachability change."),await async function(g){const v=Re(g);v.k_.add(4),await ja(v),v.K_.set("Unknown"),v.k_.delete(4),await Xu(v)}(this))})}),this.K_=new wI(s,o)}}async function Xu(i){if(Zi(i))for(const e of i.q_)await e(!0)}async function ja(i){for(const e of i.q_)await e(!1)}function rv(i,e){const t=Re(i);t.B_.has(e.targetId)||(t.B_.set(e.targetId,e),Hd(t)?qd(t):mo(t).s_()&&$d(t,e))}function Bd(i,e){const t=Re(i),s=mo(t);t.B_.delete(e),s.s_()&&iv(t,e),t.B_.size===0&&(s.s_()?s.a_():Zi(t)&&t.K_.set("Unknown"))}function $d(i,e){if(i.U_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ae.min())>0){const t=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}mo(i).V_(e)}function iv(i,e){i.U_.xe(e),mo(i).m_(e)}function qd(i){i.U_=new _1({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),ut:e=>i.B_.get(e)||null,nt:()=>i.datastore.serializer.databaseId}),mo(i).start(),i.K_.F_()}function Hd(i){return Zi(i)&&!mo(i).i_()&&i.B_.size>0}function Zi(i){return Re(i).k_.size===0}function sv(i){i.U_=void 0}async function TI(i){i.K_.set("Online")}async function II(i){i.B_.forEach((e,t)=>{$d(i,e)})}async function SI(i,e){sv(i),Hd(i)?(i.K_.O_(e),qd(i)):i.K_.set("Unknown")}async function CI(i,e,t){if(i.K_.set("Online"),e instanceof qy&&e.state===2&&e.cause)try{await async function(o,u){const h=u.cause;for(const f of u.targetIds)o.B_.has(f)&&(await o.remoteSyncer.rejectListen(f,h),o.B_.delete(f),o.U_.removeTarget(f))}(i,e)}catch(s){le("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Du(i,s)}else if(e instanceof _u?i.U_.$e(e):e instanceof $y?i.U_.Je(e):i.U_.Ge(e),!t.isEqual(Ae.min()))try{const s=await ev(i.localStore);t.compareTo(s)>=0&&await function(u,h){const f=u.U_.it(h);return f.targetChanges.forEach((g,v)=>{if(g.resumeToken.approximateByteSize()>0){const w=u.B_.get(v);w&&u.B_.set(v,w.withResumeToken(g.resumeToken,h))}}),f.targetMismatches.forEach((g,v)=>{const w=u.B_.get(g);if(!w)return;u.B_.set(g,w.withResumeToken(Dt.EMPTY_BYTE_STRING,w.snapshotVersion)),iv(u,g);const I=new ei(w.target,g,v,w.sequenceNumber);$d(u,I)}),u.remoteSyncer.applyRemoteEvent(f)}(i,t)}catch(s){le("RemoteStore","Failed to raise snapshot:",s),await Du(i,s)}}async function Du(i,e,t){if(!fo(e))throw e;i.k_.add(1),await ja(i),i.K_.set("Offline"),t||(t=()=>ev(i.localStore)),i.asyncQueue.enqueueRetryable(async()=>{le("RemoteStore","Retrying IndexedDB access"),await t(),i.k_.delete(1),await Xu(i)})}function ov(i,e){return e().catch(t=>Du(i,t,e))}async function Ju(i){const e=Re(i),t=di(e);let s=e.L_.length>0?e.L_[e.L_.length-1].batchId:-1;for(;AI(e);)try{const o=await uI(e.localStore,s);if(o===null){e.L_.length===0&&t.a_();break}s=o.batchId,RI(e,o)}catch(o){await Du(e,o)}av(e)&&lv(e)}function AI(i){return Zi(i)&&i.L_.length<10}function RI(i,e){i.L_.push(e);const t=di(i);t.s_()&&t.f_&&t.g_(e.mutations)}function av(i){return Zi(i)&&!di(i).i_()&&i.L_.length>0}function lv(i){di(i).start()}async function PI(i){di(i).w_()}async function kI(i){const e=di(i);for(const t of i.L_)e.g_(t.mutations)}async function xI(i,e,t){const s=i.L_.shift(),o=bd.from(s,e,t);await ov(i,()=>i.remoteSyncer.applySuccessfulWrite(o)),await Ju(i)}async function NI(i,e){e&&di(i).f_&&await async function(s,o){if(function(h){return g1(h)&&h!==G.ABORTED}(o.code)){const u=s.L_.shift();di(s).__(),await ov(s,()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o)),await Ju(s)}}(i,e),av(i)&&lv(i)}async function mg(i,e){const t=Re(i);t.asyncQueue.verifyOperationInProgress(),le("RemoteStore","RemoteStore received new credentials");const s=Zi(t);t.k_.add(3),await ja(t),s&&t.K_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.k_.delete(3),await Xu(t)}async function DI(i,e){const t=Re(i);e?(t.k_.delete(2),await Xu(t)):e||(t.k_.add(2),await ja(t),t.K_.set("Unknown"))}function mo(i){return i.W_||(i.W_=function(t,s,o){const u=Re(t);return u.b_(),new yI(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(i.datastore,i.asyncQueue,{Ro:TI.bind(null,i),mo:II.bind(null,i),po:SI.bind(null,i),R_:CI.bind(null,i)}),i.q_.push(async e=>{e?(i.W_.__(),Hd(i)?qd(i):i.K_.set("Unknown")):(await i.W_.stop(),sv(i))})),i.W_}function di(i){return i.G_||(i.G_=function(t,s,o){const u=Re(t);return u.b_(),new vI(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(i.datastore,i.asyncQueue,{Ro:()=>Promise.resolve(),mo:PI.bind(null,i),po:NI.bind(null,i),p_:kI.bind(null,i),y_:xI.bind(null,i)}),i.q_.push(async e=>{e?(i.G_.__(),await Ju(i)):(await i.G_.stop(),i.L_.length>0&&(le("RemoteStore",`Stopping write stream with ${i.L_.length} pending writes`),i.L_=[]))})),i.G_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wd{constructor(e,t,s,o,u){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new Sr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(h=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,s,o,u){const h=Date.now()+s,f=new Wd(e,t,h,o,u);return f.start(s),f}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ue(G.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Qd(i,e){if(Ar("AsyncQueue",`${e}: ${i}`),fo(i))return new ue(G.UNAVAILABLE,`${e}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ys{static emptySet(e){return new Ys(e.comparator)}constructor(e){this.comparator=e?(t,s)=>e(t,s)||ve.comparator(t.key,s.key):(t,s)=>ve.comparator(t.key,s.key),this.keyedMap=ga(),this.sortedSet=new it(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,s)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Ys)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const s=new Ys;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gg{constructor(){this.z_=new it(ve.comparator)}track(e){const t=e.doc.key,s=this.z_.get(t);s?e.type!==0&&s.type===3?this.z_=this.z_.insert(t,e):e.type===3&&s.type!==1?this.z_=this.z_.insert(t,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.z_=this.z_.insert(t,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.z_=this.z_.insert(t,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.z_=this.z_.remove(t):e.type===1&&s.type===2?this.z_=this.z_.insert(t,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.z_=this.z_.insert(t,{type:2,doc:e.doc}):Se():this.z_=this.z_.insert(t,e)}j_(){const e=[];return this.z_.inorderTraversal((t,s)=>{e.push(s)}),e}}class oo{constructor(e,t,s,o,u,h,f,g,v){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=h,this.syncStateChanged=f,this.excludesMetadataChanges=g,this.hasCachedResults=v}static fromInitialDocuments(e,t,s,o,u){const h=[];return t.forEach(f=>{h.push({type:0,doc:f})}),new oo(e,t,Ys.emptySet(t),h,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Hu(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==s[o].type||!t[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VI{constructor(){this.H_=void 0,this.J_=[]}Y_(){return this.J_.some(e=>e.Z_())}}class LI{constructor(){this.queries=yg(),this.onlineState="Unknown",this.X_=new Set}terminate(){(function(t,s){const o=Re(t),u=o.queries;o.queries=yg(),u.forEach((h,f)=>{for(const g of f.J_)g.onError(s)})})(this,new ue(G.ABORTED,"Firestore shutting down"))}}function yg(){return new Xi(i=>ky(i),Hu)}async function uv(i,e){const t=Re(i);let s=3;const o=e.query;let u=t.queries.get(o);u?!u.Y_()&&e.Z_()&&(s=2):(u=new VI,s=e.Z_()?0:1);try{switch(s){case 0:u.H_=await t.onListen(o,!0);break;case 1:u.H_=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(h){const f=Qd(h,`Initialization of query '${Qs(e.query)}' failed`);return void e.onError(f)}t.queries.set(o,u),u.J_.push(e),e.ea(t.onlineState),u.H_&&e.ta(u.H_)&&Kd(t)}async function cv(i,e){const t=Re(i),s=e.query;let o=3;const u=t.queries.get(s);if(u){const h=u.J_.indexOf(e);h>=0&&(u.J_.splice(h,1),u.J_.length===0?o=e.Z_()?0:1:!u.Y_()&&e.Z_()&&(o=2))}switch(o){case 0:return t.queries.delete(s),t.onUnlisten(s,!0);case 1:return t.queries.delete(s),t.onUnlisten(s,!1);case 2:return t.onLastRemoteStoreUnlisten(s);default:return}}function OI(i,e){const t=Re(i);let s=!1;for(const o of e){const u=o.query,h=t.queries.get(u);if(h){for(const f of h.J_)f.ta(o)&&(s=!0);h.H_=o}}s&&Kd(t)}function bI(i,e,t){const s=Re(i),o=s.queries.get(e);if(o)for(const u of o.J_)u.onError(t);s.queries.delete(e)}function Kd(i){i.X_.forEach(e=>{e.next()})}var md,vg;(vg=md||(md={})).na="default",vg.Cache="cache";class hv{constructor(e,t,s){this.query=e,this.ra=t,this.ia=!1,this.sa=null,this.onlineState="Unknown",this.options=s||{}}ta(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new oo(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ia?this.oa(e)&&(this.ra.next(e),t=!0):this._a(e,this.onlineState)&&(this.aa(e),t=!0),this.sa=e,t}onError(e){this.ra.error(e)}ea(e){this.onlineState=e;let t=!1;return this.sa&&!this.ia&&this._a(this.sa,e)&&(this.aa(this.sa),t=!0),t}_a(e,t){if(!e.fromCache||!this.Z_())return!0;const s=t!=="Offline";return(!this.options.ua||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}oa(e){if(e.docChanges.length>0)return!0;const t=this.sa&&this.sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}aa(e){e=oo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ia=!0,this.ra.next(e)}Z_(){return this.options.source!==md.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dv{constructor(e){this.key=e}}class fv{constructor(e){this.key=e}}class MI{constructor(e,t){this.query=e,this.da=t,this.Aa=null,this.hasCachedResults=!1,this.current=!1,this.Ra=Oe(),this.mutatedKeys=Oe(),this.Va=xy(e),this.ma=new Ys(this.Va)}get fa(){return this.da}ga(e,t){const s=t?t.pa:new gg,o=t?t.ma:this.ma;let u=t?t.mutatedKeys:this.mutatedKeys,h=o,f=!1;const g=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,v=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((w,I)=>{const A=o.get(w),O=Wu(this.query,I)?I:null,b=!!A&&this.mutatedKeys.has(A.key),q=!!O&&(O.hasLocalMutations||this.mutatedKeys.has(O.key)&&O.hasCommittedMutations);let j=!1;A&&O?A.data.isEqual(O.data)?b!==q&&(s.track({type:3,doc:O}),j=!0):this.ya(A,O)||(s.track({type:2,doc:O}),j=!0,(g&&this.Va(O,g)>0||v&&this.Va(O,v)<0)&&(f=!0)):!A&&O?(s.track({type:0,doc:O}),j=!0):A&&!O&&(s.track({type:1,doc:A}),j=!0,(g||v)&&(f=!0)),j&&(O?(h=h.add(O),u=q?u.add(w):u.delete(w)):(h=h.delete(w),u=u.delete(w)))}),this.query.limit!==null)for(;h.size>this.query.limit;){const w=this.query.limitType==="F"?h.last():h.first();h=h.delete(w.key),u=u.delete(w.key),s.track({type:1,doc:w})}return{ma:h,pa:s,ss:f,mutatedKeys:u}}ya(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s,o){const u=this.ma;this.ma=e.ma,this.mutatedKeys=e.mutatedKeys;const h=e.pa.j_();h.sort((w,I)=>function(O,b){const q=j=>{switch(j){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Se()}};return q(O)-q(b)}(w.type,I.type)||this.Va(w.doc,I.doc)),this.wa(s),o=o!=null&&o;const f=t&&!o?this.Sa():[],g=this.Ra.size===0&&this.current&&!o?1:0,v=g!==this.Aa;return this.Aa=g,h.length!==0||v?{snapshot:new oo(this.query,e.ma,u,h,e.mutatedKeys,g===0,v,!1,!!s&&s.resumeToken.approximateByteSize()>0),ba:f}:{ba:f}}ea(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ma:this.ma,pa:new gg,mutatedKeys:this.mutatedKeys,ss:!1},!1)):{ba:[]}}Da(e){return!this.da.has(e)&&!!this.ma.has(e)&&!this.ma.get(e).hasLocalMutations}wa(e){e&&(e.addedDocuments.forEach(t=>this.da=this.da.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.da=this.da.delete(t)),this.current=e.current)}Sa(){if(!this.current)return[];const e=this.Ra;this.Ra=Oe(),this.ma.forEach(s=>{this.Da(s.key)&&(this.Ra=this.Ra.add(s.key))});const t=[];return e.forEach(s=>{this.Ra.has(s)||t.push(new fv(s))}),this.Ra.forEach(s=>{e.has(s)||t.push(new dv(s))}),t}va(e){this.da=e.ds,this.Ra=Oe();const t=this.ga(e.documents);return this.applyChanges(t,!0)}Ca(){return oo.fromInitialDocuments(this.query,this.ma,this.mutatedKeys,this.Aa===0,this.hasCachedResults)}}class FI{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class UI{constructor(e){this.key=e,this.Fa=!1}}class jI{constructor(e,t,s,o,u,h){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=h,this.Ma={},this.xa=new Xi(f=>ky(f),Hu),this.Oa=new Map,this.Na=new Set,this.La=new it(ve.comparator),this.Ba=new Map,this.ka=new Ud,this.qa={},this.Qa=new Map,this.Ka=so.Qn(),this.onlineState="Unknown",this.$a=void 0}get isPrimaryClient(){return this.$a===!0}}async function zI(i,e,t=!0){const s=_v(i);let o;const u=s.xa.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.Ca()):o=await pv(s,e,t,!0),o}async function BI(i,e){const t=_v(i);await pv(t,e,!0,!1)}async function pv(i,e,t,s){const o=await cI(i.localStore,Jn(e)),u=o.targetId,h=i.sharedClientState.addLocalQueryTarget(u,t);let f;return s&&(f=await $I(i,e,u,h==="current",o.resumeToken)),i.isPrimaryClient&&t&&rv(i.remoteStore,o),f}async function $I(i,e,t,s,o){i.Ua=(I,A,O)=>async function(q,j,Q,X){let se=j.view.ga(Q);se.ss&&(se=await dg(q.localStore,j.query,!1).then(({documents:N})=>j.view.ga(N,se)));const fe=X&&X.targetChanges.get(j.targetId),Pe=X&&X.targetMismatches.get(j.targetId)!=null,Te=j.view.applyChanges(se,q.isPrimaryClient,fe,Pe);return wg(q,j.targetId,Te.ba),Te.snapshot}(i,I,A,O);const u=await dg(i.localStore,e,!0),h=new MI(e,u.ds),f=h.ga(u.documents),g=Ua.createSynthesizedTargetChangeForCurrentChange(t,s&&i.onlineState!=="Offline",o),v=h.applyChanges(f,i.isPrimaryClient,g);wg(i,t,v.ba);const w=new FI(e,t,h);return i.xa.set(e,w),i.Oa.has(t)?i.Oa.get(t).push(e):i.Oa.set(t,[e]),v.snapshot}async function qI(i,e,t){const s=Re(i),o=s.xa.get(e),u=s.Oa.get(o.targetId);if(u.length>1)return s.Oa.set(o.targetId,u.filter(h=>!Hu(h,e))),void s.xa.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await pd(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),t&&Bd(s.remoteStore,o.targetId),gd(s,o.targetId)}).catch(ho)):(gd(s,o.targetId),await pd(s.localStore,o.targetId,!0))}async function HI(i,e){const t=Re(i),s=t.xa.get(e),o=t.Oa.get(s.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(s.targetId),Bd(t.remoteStore,s.targetId))}async function WI(i,e,t){const s=ZI(i);try{const o=await function(h,f){const g=Re(h),v=vt.now(),w=f.reduce((O,b)=>O.add(b.key),Oe());let I,A;return g.persistence.runTransaction("Locally write mutations","readwrite",O=>{let b=Rr(),q=Oe();return g.hs.getEntries(O,w).next(j=>{b=j,b.forEach((Q,X)=>{X.isValidDocument()||(q=q.add(Q))})}).next(()=>g.localDocuments.getOverlayedDocuments(O,b)).next(j=>{I=j;const Q=[];for(const X of f){const se=h1(X,I.get(X.key).overlayedDocument);se!=null&&Q.push(new Ji(X.key,se,Ey(se.value.mapValue),Zn.exists(!0)))}return g.mutationQueue.addMutationBatch(O,v,Q,f)}).next(j=>{A=j;const Q=j.applyToLocalDocumentSet(I,q);return g.documentOverlayCache.saveOverlays(O,j.batchId,Q)})}).then(()=>({batchId:A.batchId,changes:Dy(I)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(h,f,g){let v=h.qa[h.currentUser.toKey()];v||(v=new it(Fe)),v=v.insert(f,g),h.qa[h.currentUser.toKey()]=v}(s,o.batchId,t),await za(s,o.changes),await Ju(s.remoteStore)}catch(o){const u=Qd(o,"Failed to persist write");t.reject(u)}}async function mv(i,e){const t=Re(i);try{const s=await aI(t.localStore,e);e.targetChanges.forEach((o,u)=>{const h=t.Ba.get(u);h&&(qe(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?h.Fa=!0:o.modifiedDocuments.size>0?qe(h.Fa):o.removedDocuments.size>0&&(qe(h.Fa),h.Fa=!1))}),await za(t,s,e)}catch(s){await ho(s)}}function _g(i,e,t){const s=Re(i);if(s.isPrimaryClient&&t===0||!s.isPrimaryClient&&t===1){const o=[];s.xa.forEach((u,h)=>{const f=h.view.ea(e);f.snapshot&&o.push(f.snapshot)}),function(h,f){const g=Re(h);g.onlineState=f;let v=!1;g.queries.forEach((w,I)=>{for(const A of I.J_)A.ea(f)&&(v=!0)}),v&&Kd(g)}(s.eventManager,e),o.length&&s.Ma.R_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function QI(i,e,t){const s=Re(i);s.sharedClientState.updateQueryState(e,"rejected",t);const o=s.Ba.get(e),u=o&&o.key;if(u){let h=new it(ve.comparator);h=h.insert(u,Ut.newNoDocument(u,Ae.min()));const f=Oe().add(u),g=new Gu(Ae.min(),new Map,new it(Fe),h,f);await mv(s,g),s.La=s.La.remove(u),s.Ba.delete(e),Gd(s)}else await pd(s.localStore,e,!1).then(()=>gd(s,e,t)).catch(ho)}async function KI(i,e){const t=Re(i),s=e.batch.batchId;try{const o=await oI(t.localStore,e);yv(t,s,null),gv(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),await za(t,o)}catch(o){await ho(o)}}async function GI(i,e,t){const s=Re(i);try{const o=await function(h,f){const g=Re(h);return g.persistence.runTransaction("Reject batch","readwrite-primary",v=>{let w;return g.mutationQueue.lookupMutationBatch(v,f).next(I=>(qe(I!==null),w=I.keys(),g.mutationQueue.removeMutationBatch(v,I))).next(()=>g.mutationQueue.performConsistencyCheck(v)).next(()=>g.documentOverlayCache.removeOverlaysForBatchId(v,w,f)).next(()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(v,w)).next(()=>g.localDocuments.getDocuments(v,w))})}(s.localStore,e);yv(s,e,t),gv(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),await za(s,o)}catch(o){await ho(o)}}function gv(i,e){(i.Qa.get(e)||[]).forEach(t=>{t.resolve()}),i.Qa.delete(e)}function yv(i,e,t){const s=Re(i);let o=s.qa[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(t?u.reject(t):u.resolve(),o=o.remove(e)),s.qa[s.currentUser.toKey()]=o}}function gd(i,e,t=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i.Oa.get(e))i.xa.delete(s),t&&i.Ma.Wa(s,t);i.Oa.delete(e),i.isPrimaryClient&&i.ka.yr(e).forEach(s=>{i.ka.containsKey(s)||vv(i,s)})}function vv(i,e){i.Na.delete(e.path.canonicalString());const t=i.La.get(e);t!==null&&(Bd(i.remoteStore,t),i.La=i.La.remove(e),i.Ba.delete(t),Gd(i))}function wg(i,e,t){for(const s of t)s instanceof dv?(i.ka.addReference(s.key,e),YI(i,s)):s instanceof fv?(le("SyncEngine","Document no longer in limbo: "+s.key),i.ka.removeReference(s.key,e),i.ka.containsKey(s.key)||vv(i,s.key)):Se()}function YI(i,e){const t=e.key,s=t.path.canonicalString();i.La.get(t)||i.Na.has(s)||(le("SyncEngine","New document in limbo: "+t),i.Na.add(s),Gd(i))}function Gd(i){for(;i.Na.size>0&&i.La.size<i.maxConcurrentLimboResolutions;){const e=i.Na.values().next().value;i.Na.delete(e);const t=new ve(Xe.fromString(e)),s=i.Ka.next();i.Ba.set(s,new UI(t)),i.La=i.La.insert(t,s),rv(i.remoteStore,new ei(Jn(Ld(t.path)),s,"TargetPurposeLimboResolution",Bu.oe))}}async function za(i,e,t){const s=Re(i),o=[],u=[],h=[];s.xa.isEmpty()||(s.xa.forEach((f,g)=>{h.push(s.Ua(g,e,t).then(v=>{var w;if((v||t)&&s.isPrimaryClient){const I=v?!v.fromCache:(w=t==null?void 0:t.targetChanges.get(g.targetId))===null||w===void 0?void 0:w.current;s.sharedClientState.updateQueryState(g.targetId,I?"current":"not-current")}if(v){o.push(v);const I=zd.zi(g.targetId,v);u.push(I)}}))}),await Promise.all(h),s.Ma.R_(o),await async function(g,v){const w=Re(g);try{await w.persistence.runTransaction("notifyLocalViewChanges","readwrite",I=>K.forEach(v,A=>K.forEach(A.Wi,O=>w.persistence.referenceDelegate.addReference(I,A.targetId,O)).next(()=>K.forEach(A.Gi,O=>w.persistence.referenceDelegate.removeReference(I,A.targetId,O)))))}catch(I){if(!fo(I))throw I;le("LocalStore","Failed to update sequence numbers: "+I)}for(const I of v){const A=I.targetId;if(!I.fromCache){const O=w.us.get(A),b=O.snapshotVersion,q=O.withLastLimboFreeSnapshotVersion(b);w.us=w.us.insert(A,q)}}}(s.localStore,u))}async function XI(i,e){const t=Re(i);if(!t.currentUser.isEqual(e)){le("SyncEngine","User change. New user:",e.toKey());const s=await Zy(t.localStore,e);t.currentUser=e,function(u,h){u.Qa.forEach(f=>{f.forEach(g=>{g.reject(new ue(G.CANCELLED,h))})}),u.Qa.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await za(t,s.Ts)}}function JI(i,e){const t=Re(i),s=t.Ba.get(e);if(s&&s.Fa)return Oe().add(s.key);{let o=Oe();const u=t.Oa.get(e);if(!u)return o;for(const h of u){const f=t.xa.get(h);o=o.unionWith(f.view.fa)}return o}}function _v(i){const e=Re(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=mv.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=JI.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=QI.bind(null,e),e.Ma.R_=OI.bind(null,e.eventManager),e.Ma.Wa=bI.bind(null,e.eventManager),e}function ZI(i){const e=Re(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=KI.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=GI.bind(null,e),e}class Vu{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Yu(e.databaseInfo.databaseId),this.sharedClientState=this.za(e),this.persistence=this.ja(e),await this.persistence.start(),this.localStore=this.Ha(e),this.gcScheduler=this.Ja(e,this.localStore),this.indexBackfillerScheduler=this.Ya(e,this.localStore)}Ja(e,t){return null}Ya(e,t){return null}Ha(e){return sI(this.persistence,new rI,e.initialUser,this.serializer)}ja(e){return new Jy(jd.ei,this.serializer)}za(e){return new dI}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Vu.provider={build:()=>new Vu};class eS extends Vu{constructor(e){super(),this.cacheSizeBytes=e}Ja(e,t){qe(this.persistence.referenceDelegate instanceof Nu);const s=this.persistence.referenceDelegate.garbageCollector;return new B1(s,e.asyncQueue,t)}ja(e){const t=this.cacheSizeBytes!==void 0?Jt.withCacheSize(this.cacheSizeBytes):Jt.DEFAULT;return new Jy(s=>Nu.ei(s,t),this.serializer)}}class yd{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>_g(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=XI.bind(null,this.syncEngine),await DI(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new LI}()}createDatastore(e){const t=Yu(e.databaseInfo.databaseId),s=function(u){return new gI(u)}(e.databaseInfo);return function(u,h,f,g){return new _I(u,h,f,g)}(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return function(s,o,u,h,f){return new EI(s,o,u,h,f)}(this.localStore,this.datastore,e.asyncQueue,t=>_g(this.syncEngine,t,0),function(){return pg.p()?new pg:new fI}())}createSyncEngine(e,t){return function(o,u,h,f,g,v,w){const I=new jI(o,u,h,f,g,v);return w&&(I.$a=!0),I}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(o){const u=Re(o);le("RemoteStore","RemoteStore shutting down."),u.k_.add(5),await ja(u),u.Q_.shutdown(),u.K_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}yd.provider={build:()=>new yd};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wv{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Xa(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Xa(this.observer.error,e):Ar("Uncaught Error in snapshot listener:",e.toString()))}eu(){this.muted=!0}Xa(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tS{constructor(e,t,s,o,u){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this.databaseInfo=o,this.user=Ft.UNAUTHENTICATED,this.clientId=vy.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,async h=>{le("FirestoreClient","Received user=",h.uid),await this.authCredentialListener(h),this.user=h}),this.appCheckCredentials.start(s,h=>(le("FirestoreClient","Received new app check token=",h),this.appCheckCredentialListener(h,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Sr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const s=Qd(t,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function Wh(i,e){i.asyncQueue.verifyOperationInProgress(),le("FirestoreClient","Initializing OfflineComponentProvider");const t=i.configuration;await e.initialize(t);let s=t.initialUser;i.setCredentialChangeListener(async o=>{s.isEqual(o)||(await Zy(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i._offlineComponents=e}async function Eg(i,e){i.asyncQueue.verifyOperationInProgress();const t=await nS(i);le("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(t,i.configuration),i.setCredentialChangeListener(s=>mg(e.remoteStore,s)),i.setAppCheckTokenChangeListener((s,o)=>mg(e.remoteStore,o)),i._onlineComponents=e}async function nS(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){le("FirestoreClient","Using user provided OfflineComponentProvider");try{await Wh(i,i._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(o){return o.name==="FirebaseError"?o.code===G.FAILED_PRECONDITION||o.code===G.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(t))throw t;to("Error using user provided cache. Falling back to memory cache: "+t),await Wh(i,new Vu)}}else le("FirestoreClient","Using default OfflineComponentProvider"),await Wh(i,new eS(void 0));return i._offlineComponents}async function Ev(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(le("FirestoreClient","Using user provided OnlineComponentProvider"),await Eg(i,i._uninitializedComponentsProvider._online)):(le("FirestoreClient","Using default OnlineComponentProvider"),await Eg(i,new yd))),i._onlineComponents}function rS(i){return Ev(i).then(e=>e.syncEngine)}async function Tv(i){const e=await Ev(i),t=e.eventManager;return t.onListen=zI.bind(null,e.syncEngine),t.onUnlisten=qI.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=BI.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=HI.bind(null,e.syncEngine),t}function iS(i,e,t={}){const s=new Sr;return i.asyncQueue.enqueueAndForget(async()=>function(u,h,f,g,v){const w=new wv({next:A=>{w.eu(),h.enqueueAndForget(()=>cv(u,I));const O=A.docs.has(f);!O&&A.fromCache?v.reject(new ue(G.UNAVAILABLE,"Failed to get document because the client is offline.")):O&&A.fromCache&&g&&g.source==="server"?v.reject(new ue(G.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):v.resolve(A)},error:A=>v.reject(A)}),I=new hv(Ld(f.path),w,{includeMetadataChanges:!0,ua:!0});return uv(u,I)}(await Tv(i),i.asyncQueue,e,t,s)),s.promise}function sS(i,e,t={}){const s=new Sr;return i.asyncQueue.enqueueAndForget(async()=>function(u,h,f,g,v){const w=new wv({next:A=>{w.eu(),h.enqueueAndForget(()=>cv(u,I)),A.fromCache&&g.source==="server"?v.reject(new ue(G.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):v.resolve(A)},error:A=>v.reject(A)}),I=new hv(f,w,{includeMetadataChanges:!0,ua:!0});return uv(u,I)}(await Tv(i),i.asyncQueue,e,t,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iv(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tg=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sv(i,e,t){if(!t)throw new ue(G.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function oS(i,e,t,s){if(e===!0&&s===!0)throw new ue(G.INVALID_ARGUMENT,`${i} and ${t} cannot be used together.`)}function Ig(i){if(!ve.isDocumentKey(i))throw new ue(G.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function Sg(i){if(ve.isDocumentKey(i))throw new ue(G.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function Zu(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":Se()}function fi(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new ue(G.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Zu(i);throw new ue(G.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cg{constructor(e){var t,s;if(e.host===void 0){if(e.ssl!==void 0)throw new ue(G.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ue(G.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}oS("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Iv((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new ue(G.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new ue(G.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new ue(G.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class ec{constructor(e,t,s,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Cg({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ue(G.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ue(G.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Cg(e),e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new vT;switch(s.type){case"firstParty":return new TT(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ue(G.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const s=Tg.get(t);s&&(le("ComponentProvider","Removing Datastore"),Tg.delete(t),s.terminate())}(this),Promise.resolve()}}function aS(i,e,t,s={}){var o;const u=(i=fi(i,ec))._getSettings(),h=`${e}:${t}`;if(u.host!=="firestore.googleapis.com"&&u.host!==h&&to("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),i._setSettings(Object.assign(Object.assign({},u),{host:h,ssl:!1})),s.mockUserToken){let f,g;if(typeof s.mockUserToken=="string")f=s.mockUserToken,g=Ft.MOCK_USER;else{f=Kw(s.mockUserToken,(o=i._app)===null||o===void 0?void 0:o.options.projectId);const v=s.mockUserToken.sub||s.mockUserToken.user_id;if(!v)throw new ue(G.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new Ft(v)}i._authCredentials=new _T(new yy(f,g))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class es{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new es(this.firestore,e,this._query)}}class Zt{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new si(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Zt(this.firestore,e,this._key)}}class si extends es{constructor(e,t,s){super(e,t,Ld(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Zt(this.firestore,null,new ve(e))}withConverter(e){return new si(this.firestore,e,this._path)}}function oi(i,e,...t){if(i=nr(i),Sv("collection","path",e),i instanceof ec){const s=Xe.fromString(e,...t);return Sg(s),new si(i,null,s)}{if(!(i instanceof Zt||i instanceof si))throw new ue(G.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(Xe.fromString(e,...t));return Sg(s),new si(i.firestore,null,s)}}function _n(i,e,...t){if(i=nr(i),arguments.length===1&&(e=vy.newId()),Sv("doc","path",e),i instanceof ec){const s=Xe.fromString(e,...t);return Ig(s),new Zt(i,null,new ve(s))}{if(!(i instanceof Zt||i instanceof si))throw new ue(G.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(Xe.fromString(e,...t));return Ig(s),new Zt(i.firestore,i instanceof si?i.converter:null,new ve(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ag{constructor(e=Promise.resolve()){this.Iu=[],this.Eu=!1,this.du=[],this.Au=null,this.Ru=!1,this.Vu=!1,this.mu=[],this.r_=new tv(this,"async_queue_retry"),this.fu=()=>{const s=Hh();s&&le("AsyncQueue","Visibility state changed to "+s.visibilityState),this.r_.Jo()},this.gu=e;const t=Hh();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.fu)}get isShuttingDown(){return this.Eu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.pu(),this.yu(e)}enterRestrictedMode(e){if(!this.Eu){this.Eu=!0,this.Vu=e||!1;const t=Hh();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.fu)}}enqueue(e){if(this.pu(),this.Eu)return new Promise(()=>{});const t=new Sr;return this.yu(()=>this.Eu&&this.Vu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Iu.push(e),this.wu()))}async wu(){if(this.Iu.length!==0){try{await this.Iu[0](),this.Iu.shift(),this.r_.reset()}catch(e){if(!fo(e))throw e;le("AsyncQueue","Operation failed with retryable error: "+e)}this.Iu.length>0&&this.r_.jo(()=>this.wu())}}yu(e){const t=this.gu.then(()=>(this.Ru=!0,e().catch(s=>{this.Au=s,this.Ru=!1;const o=function(h){let f=h.message||"";return h.stack&&(f=h.stack.includes(h.message)?h.stack:h.message+`
`+h.stack),f}(s);throw Ar("INTERNAL UNHANDLED ERROR: ",o),s}).then(s=>(this.Ru=!1,s))));return this.gu=t,t}enqueueAfterDelay(e,t,s){this.pu(),this.mu.indexOf(e)>-1&&(t=0);const o=Wd.createAndSchedule(this,e,t,s,u=>this.Su(u));return this.du.push(o),o}pu(){this.Au&&Se()}verifyOperationInProgress(){}async bu(){let e;do e=this.gu,await e;while(e!==this.gu)}Du(e){for(const t of this.du)if(t.timerId===e)return!0;return!1}vu(e){return this.bu().then(()=>{this.du.sort((t,s)=>t.targetTimeMs-s.targetTimeMs);for(const t of this.du)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.bu()})}Cu(e){this.mu.push(e)}Su(e){const t=this.du.indexOf(e);this.du.splice(t,1)}}class Ba extends ec{constructor(e,t,s,o){super(e,t,s,o),this.type="firestore",this._queue=new Ag,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Ag(e),this._firestoreClient=void 0,await e}}}function lS(i,e){const t=typeof i=="object"?i:lT(),s=typeof i=="string"?i:"(default)",o=sT(t,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=Hw("firestore");u&&aS(o,...u)}return o}function Yd(i){if(i._terminated)throw new ue(G.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||uS(i),i._firestoreClient}function uS(i){var e,t,s;const o=i._freezeSettings(),u=function(f,g,v,w){return new MT(f,g,v,w.host,w.ssl,w.experimentalForceLongPolling,w.experimentalAutoDetectLongPolling,Iv(w.experimentalLongPollingOptions),w.useFetchStreams)}(i._databaseId,((e=i._app)===null||e===void 0?void 0:e.options.appId)||"",i._persistenceKey,o);i._componentsProvider||!((t=o.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(i._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),i._firestoreClient=new tS(i._authCredentials,i._appCheckCredentials,i._queue,u,i._componentsProvider&&function(f){const g=f==null?void 0:f._online.build();return{_offline:f==null?void 0:f._offline.build(g),_online:g}}(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ao{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ao(Dt.fromBase64String(e))}catch(t){throw new ue(G.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new ao(Dt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xd{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new ue(G.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Nt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cv{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jd{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ue(G.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ue(G.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Fe(this._lat,e._lat)||Fe(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zd{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cS=/^__.*__$/;class hS{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return this.fieldMask!==null?new Ji(e,this.data,this.fieldMask,t,this.fieldTransforms):new Fa(e,this.data,t,this.fieldTransforms)}}function Av(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Se()}}class ef{constructor(e,t,s,o,u,h){this.settings=e,this.databaseId=t,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Fu(),this.fieldTransforms=u||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Mu(){return this.settings.Mu}xu(e){return new ef(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ou(e){var t;const s=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.xu({path:s,Nu:!1});return o.Lu(e),o}Bu(e){var t;const s=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.xu({path:s,Nu:!1});return o.Fu(),o}ku(e){return this.xu({path:void 0,Nu:!0})}qu(e){return Lu(e,this.settings.methodName,this.settings.Qu||!1,this.path,this.settings.Ku)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Fu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Lu(this.path.get(e))}Lu(e){if(e.length===0)throw this.qu("Document fields must not be empty");if(Av(this.Mu)&&cS.test(e))throw this.qu('Document fields cannot begin and end with "__"')}}class dS{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=s||Yu(e)}$u(e,t,s,o=!1){return new ef({Mu:e,methodName:t,Ku:s,path:Nt.emptyPath(),Nu:!1,Qu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function tf(i){const e=i._freezeSettings(),t=Yu(i._databaseId);return new dS(i._databaseId,!!e.ignoreUndefinedProperties,t)}function Rv(i,e,t,s,o,u={}){const h=i.$u(u.merge||u.mergeFields?2:0,e,t,o);xv("Data must be an object, but it was:",h,s);const f=Pv(s,h);let g,v;if(u.merge)g=new Mn(h.fieldMask),v=h.fieldTransforms;else if(u.mergeFields){const w=[];for(const I of u.mergeFields){const A=pS(e,I,t);if(!h.contains(A))throw new ue(G.INVALID_ARGUMENT,`Field '${A}' is specified in your field mask but missing from your input data.`);gS(w,A)||w.push(A)}g=new Mn(w),v=h.fieldTransforms.filter(I=>g.covers(I.field))}else g=null,v=h.fieldTransforms;return new hS(new wn(f),g,v)}function fS(i,e,t,s=!1){return nf(t,i.$u(s?4:3,e))}function nf(i,e){if(kv(i=nr(i)))return xv("Unsupported field value:",e,i),Pv(i,e);if(i instanceof Cv)return function(s,o){if(!Av(o.Mu))throw o.qu(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.qu(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.Nu&&e.Mu!==4)throw e.qu("Nested arrays are not supported");return function(s,o){const u=[];let h=0;for(const f of s){let g=nf(f,o.ku(h));g==null&&(g={nullValue:"NULL_VALUE"}),u.push(g),h++}return{arrayValue:{values:u}}}(i,e)}return function(s,o){if((s=nr(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return s1(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=vt.fromDate(s);return{timestampValue:xu(o.serializer,u)}}if(s instanceof vt){const u=new vt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:xu(o.serializer,u)}}if(s instanceof Jd)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof ao)return{bytesValue:Hy(o.serializer,s._byteString)};if(s instanceof Zt){const u=o.databaseId,h=s.firestore._databaseId;if(!h.isEqual(u))throw o.qu(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Fd(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Zd)return function(h,f){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:h.toArray().map(g=>{if(typeof g!="number")throw f.qu("VectorValues must only contain numeric values.");return Od(f.serializer,g)})}}}}}}(s,o);throw o.qu(`Unsupported field value: ${Zu(s)}`)}(i,e)}function Pv(i,e){const t={};return _y(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Yi(i,(s,o)=>{const u=nf(o,e.Ou(s));u!=null&&(t[s]=u)}),{mapValue:{fields:t}}}function kv(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof vt||i instanceof Jd||i instanceof ao||i instanceof Zt||i instanceof Cv||i instanceof Zd)}function xv(i,e,t){if(!kv(t)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(t)){const s=Zu(t);throw s==="an object"?e.qu(i+" a custom object"):e.qu(i+" "+s)}}function pS(i,e,t){if((e=nr(e))instanceof Xd)return e._internalPath;if(typeof e=="string")return Nv(i,e);throw Lu("Field path arguments must be of type string or ",i,!1,void 0,t)}const mS=new RegExp("[~\\*/\\[\\]]");function Nv(i,e,t){if(e.search(mS)>=0)throw Lu(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,t);try{return new Xd(...e.split("."))._internalPath}catch{throw Lu(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,t)}}function Lu(i,e,t,s,o){const u=s&&!s.isEmpty(),h=o!==void 0;let f=`Function ${e}() called with invalid data`;t&&(f+=" (via `toFirestore()`)"),f+=". ";let g="";return(u||h)&&(g+=" (found",u&&(g+=` in field ${s}`),h&&(g+=` in document ${o}`),g+=")"),new ue(G.INVALID_ARGUMENT,f+i+g)}function gS(i,e){return i.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dv{constructor(e,t,s,o,u){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Zt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new yS(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(tc("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class yS extends Dv{data(){return super.data()}}function tc(i,e){return typeof e=="string"?Nv(i,e):e instanceof Xd?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vS(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new ue(G.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class rf{}class Vv extends rf{}function sf(i,e,...t){let s=[];e instanceof rf&&s.push(e),s=s.concat(t),function(u){const h=u.filter(g=>g instanceof of).length,f=u.filter(g=>g instanceof nc).length;if(h>1||h>0&&f>0)throw new ue(G.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const o of s)i=o._apply(i);return i}class nc extends Vv{constructor(e,t,s){super(),this._field=e,this._op=t,this._value=s,this.type="where"}static _create(e,t,s){return new nc(e,t,s)}_apply(e){const t=this._parse(e);return Lv(e._query,t),new es(e.firestore,e.converter,ld(e._query,t))}_parse(e){const t=tf(e.firestore);return function(u,h,f,g,v,w,I){let A;if(v.isKeyField()){if(w==="array-contains"||w==="array-contains-any")throw new ue(G.INVALID_ARGUMENT,`Invalid Query. You can't perform '${w}' queries on documentId().`);if(w==="in"||w==="not-in"){Pg(I,w);const O=[];for(const b of I)O.push(Rg(g,u,b));A={arrayValue:{values:O}}}else A=Rg(g,u,I)}else w!=="in"&&w!=="not-in"&&w!=="array-contains-any"||Pg(I,w),A=fS(f,h,I,w==="in"||w==="not-in");return dt.create(v,w,A)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function _S(i,e,t){const s=e,o=tc("where",i);return nc._create(o,s,t)}class of extends rf{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new of(e,t)}_parse(e){const t=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return t.length===1?t[0]:Un.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(o,u){let h=o;const f=u.getFlattenedFilters();for(const g of f)Lv(h,g),h=ld(h,g)}(e._query,t),new es(e.firestore,e.converter,ld(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class af extends Vv{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new af(e,t)}_apply(e){const t=function(o,u,h){if(o.startAt!==null)throw new ue(G.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new ue(G.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Na(u,h)}(e._query,this._field,this._direction);return new es(e.firestore,e.converter,function(o,u){const h=o.explicitOrderBy.concat([u]);return new po(o.path,o.collectionGroup,h,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(e._query,t))}}function wS(i,e="asc"){const t=e,s=tc("orderBy",i);return af._create(s,t)}function Rg(i,e,t){if(typeof(t=nr(t))=="string"){if(t==="")throw new ue(G.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Py(e)&&t.indexOf("/")!==-1)throw new ue(G.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const s=e.path.child(Xe.fromString(t));if(!ve.isDocumentKey(s))throw new ue(G.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return Km(i,new ve(s))}if(t instanceof Zt)return Km(i,t._key);throw new ue(G.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Zu(t)}.`)}function Pg(i,e){if(!Array.isArray(i)||i.length===0)throw new ue(G.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Lv(i,e){const t=function(o,u){for(const h of o)for(const f of h.getFlattenedFilters())if(u.indexOf(f.op)>=0)return f.op;return null}(i.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new ue(G.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ue(G.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class ES{convertValue(e,t="none"){switch(hi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return lt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ci(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Se()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const s={};return Yi(e,(o,u)=>{s[o]=this.convertValue(u,t)}),s}convertVectorValue(e){var t,s,o;const u=(o=(s=(t=e.fields)===null||t===void 0?void 0:t.value.arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(h=>lt(h.doubleValue));return new Zd(u)}convertGeoPoint(e){return new Jd(lt(e.latitude),lt(e.longitude))}convertArray(e,t){return(e.values||[]).map(s=>this.convertValue(s,t))}convertServerTimestamp(e,t){switch(t){case"previous":const s=qu(e);return s==null?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(Pa(e));default:return null}}convertTimestamp(e){const t=ui(e);return new vt(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=Xe.fromString(e);qe(Xy(s));const o=new ka(s.get(1),s.get(3)),u=new ve(s.popFirst(5));return o.isEqual(t)||Ar(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ov(i,e,t){let s;return s=i?t&&(t.merge||t.mergeFields)?i.toFirestore(e,t):i.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class va{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class bv extends Dv{constructor(e,t,s,o,u,h){super(e,t,s,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new wu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(tc("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}}class wu extends bv{data(e={}){return super.data(e)}}class TS{constructor(e,t,s,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new va(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(s=>{e.call(t,new wu(this._firestore,this._userDataWriter,s.key,s,new va(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ue(G.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map(f=>{const g=new wu(o._firestore,o._userDataWriter,f.doc.key,f.doc,new va(o._snapshot.mutatedKeys.has(f.doc.key),o._snapshot.fromCache),o.query.converter);return f.doc,{type:"added",doc:g,oldIndex:-1,newIndex:h++}})}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(f=>u||f.type!==3).map(f=>{const g=new wu(o._firestore,o._userDataWriter,f.doc.key,f.doc,new va(o._snapshot.mutatedKeys.has(f.doc.key),o._snapshot.fromCache),o.query.converter);let v=-1,w=-1;return f.type!==0&&(v=h.indexOf(f.doc.key),h=h.delete(f.doc.key)),f.type!==1&&(h=h.add(f.doc),w=h.indexOf(f.doc.key)),{type:IS(f.type),doc:g,oldIndex:v,newIndex:w}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function IS(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Se()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tr(i){i=fi(i,Zt);const e=fi(i.firestore,Ba);return iS(Yd(e),i._key).then(t=>CS(e,i,t))}class Mv extends ES{constructor(e){super(),this.firestore=e}convertBytes(e){return new ao(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Zt(this.firestore,null,t)}}function Xs(i){i=fi(i,es);const e=fi(i.firestore,Ba),t=Yd(e),s=new Mv(e);return vS(i._query),sS(t,i._query).then(o=>new TS(e,s,i,o))}function Fv(i,e,t){i=fi(i,Zt);const s=fi(i.firestore,Ba),o=Ov(i.converter,e,t);return Uv(s,[Rv(tf(s),"setDoc",i._key,o,i.converter!==null,t).toMutation(i._key,Zn.none())])}function SS(i,e){const t=fi(i.firestore,Ba),s=_n(i),o=Ov(i.converter,e);return Uv(t,[Rv(tf(i.firestore),"addDoc",s._key,o,i.converter!==null,{}).toMutation(s._key,Zn.exists(!1))]).then(()=>s)}function Uv(i,e){return function(s,o){const u=new Sr;return s.asyncQueue.enqueueAndForget(async()=>WI(await rS(s),o,u)),u.promise}(Yd(i),e)}function CS(i,e,t){const s=t.docs.get(e._key),o=new Mv(i);return new bv(i,o,e._key,s,new va(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(o){co=o})(zu),eo(new Qi("firestore",(s,{instanceIdentifier:o,options:u})=>{const h=s.getProvider("app").getImmediate(),f=new Ba(new wT(s.getProvider("auth-internal")),new ST(s.getProvider("app-check-internal")),function(v,w){if(!Object.prototype.hasOwnProperty.apply(v.options,["projectId"]))throw new ue(G.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ka(v.options.projectId,w)}(h,o),h);return u=Object.assign({useFetchStreams:t},u),f._setSettings(u),f},"PUBLIC").setMultipleInstances(!0)),ii(Bm,"4.7.5",e),ii(Bm,"4.7.5","esm2017")})();var AS="firebase",RS="11.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ii(AS,RS,"app");function jv(i,e){var t={};for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&e.indexOf(s)<0&&(t[s]=i[s]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(i);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(i,s[o])&&(t[s[o]]=i[s[o]]);return t}function zv(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const PS=zv,Bv=new Ma("auth","Firebase",zv());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ou=new Rd("@firebase/auth");function kS(i,...e){Ou.logLevel<=Le.WARN&&Ou.warn(`Auth (${zu}): ${i}`,...e)}function Eu(i,...e){Ou.logLevel<=Le.ERROR&&Ou.error(`Auth (${zu}): ${i}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kg(i,...e){throw lf(i,...e)}function $v(i,...e){return lf(i,...e)}function qv(i,e,t){const s=Object.assign(Object.assign({},PS()),{[e]:t});return new Ma("auth","Firebase",s).create(e,{appName:i.name})}function Tu(i){return qv(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function lf(i,...e){if(typeof i!="string"){const t=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=i.name),i._errorFactory.create(t,...s)}return Bv.create(i,...e)}function $e(i,e,...t){if(!i)throw lf(e,...t)}function Ia(i){const e="INTERNAL ASSERTION FAILED: "+i;throw Eu(e),new Error(e)}function bu(i,e){i||Ia(e)}function xS(){return xg()==="http:"||xg()==="https:"}function xg(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NS(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(xS()||Jw()||"connection"in navigator)?navigator.onLine:!0}function DS(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $a{constructor(e,t){this.shortDelay=e,this.longDelay=t,bu(t>e,"Short delay should be less than long delay!"),this.isMobile=Gw()||Zw()}get(){return NS()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VS(i,e){bu(i.emulator,"Emulator should always be set here");const{url:t}=i.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hv{static initialize(e,t,s){this.fetchImpl=e,t&&(this.headersImpl=t),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ia("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ia("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ia("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LS={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OS=new $a(3e4,6e4);function Wv(i,e){return i.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:i.tenantId}):e}async function rc(i,e,t,s,o={}){return Qv(i,o,async()=>{let u={},h={};s&&(e==="GET"?h=s:u={body:JSON.stringify(s)});const f=sy(Object.assign({key:i.config.apiKey},h)).slice(1),g=await i._getAdditionalHeaders();g["Content-Type"]="application/json",i.languageCode&&(g["X-Firebase-Locale"]=i.languageCode);const v=Object.assign({method:e,headers:g},u);return Xw()||(v.referrerPolicy="no-referrer"),Hv.fetch()(Kv(i,i.config.apiHost,t,f),v)})}async function Qv(i,e,t){i._canInitEmulator=!1;const s=Object.assign(Object.assign({},LS),e);try{const o=new bS(i),u=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const h=await u.json();if("needConfirmation"in h)throw du(i,"account-exists-with-different-credential",h);if(u.ok&&!("errorMessage"in h))return h;{const f=u.ok?h.errorMessage:h.error.message,[g,v]=f.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw du(i,"credential-already-in-use",h);if(g==="EMAIL_EXISTS")throw du(i,"email-already-in-use",h);if(g==="USER_DISABLED")throw du(i,"user-disabled",h);const w=s[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(v)throw qv(i,w,v);kg(i,w)}}catch(o){if(o instanceof pi)throw o;kg(i,"network-request-failed",{message:String(o)})}}function Kv(i,e,t,s){const o=`${e}${t}?${s}`;return i.config.emulator?VS(i.config,o):`${i.config.apiScheme}://${o}`}class bS{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,s)=>{this.timer=setTimeout(()=>s($v(this.auth,"network-request-failed")),OS.get())})}}function du(i,e,t){const s={appName:i.name};t.email&&(s.email=t.email),t.phoneNumber&&(s.phoneNumber=t.phoneNumber);const o=$v(i,e,s);return o.customData._tokenResponse=t,o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MS(i,e){return rc(i,"POST","/v1/accounts:delete",e)}async function Gv(i,e){return rc(i,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sa(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function FS(i,e=!1){const t=nr(i),s=await t.getIdToken(e),o=Yv(s);$e(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,h=u==null?void 0:u.sign_in_provider;return{claims:o,token:s,authTime:Sa(Qh(o.auth_time)),issuedAtTime:Sa(Qh(o.iat)),expirationTime:Sa(Qh(o.exp)),signInProvider:h||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function Qh(i){return Number(i)*1e3}function Yv(i){const[e,t,s]=i.split(".");if(e===void 0||t===void 0||s===void 0)return Eu("JWT malformed, contained fewer than 3 sections"),null;try{const o=ry(t);return o?JSON.parse(o):(Eu("Failed to decode base64 JWT payload"),null)}catch(o){return Eu("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function Ng(i){const e=Yv(i);return $e(e,"internal-error"),$e(typeof e.exp<"u","internal-error"),$e(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vd(i,e,t=!1){if(t)return e;try{return await e}catch(s){throw s instanceof pi&&US(s)&&i.auth.currentUser===i&&await i.auth.signOut(),s}}function US({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jS{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const o=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _d{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Sa(this.lastLoginAt),this.creationTime=Sa(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mu(i){var e;const t=i.auth,s=await i.getIdToken(),o=await vd(i,Gv(t,{idToken:s}));$e(o==null?void 0:o.users.length,t,"internal-error");const u=o.users[0];i._notifyReloadListener(u);const h=!((e=u.providerUserInfo)===null||e===void 0)&&e.length?Xv(u.providerUserInfo):[],f=BS(i.providerData,h),g=i.isAnonymous,v=!(i.email&&u.passwordHash)&&!(f!=null&&f.length),w=g?v:!1,I={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:f,metadata:new _d(u.createdAt,u.lastLoginAt),isAnonymous:w};Object.assign(i,I)}async function zS(i){const e=nr(i);await Mu(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function BS(i,e){return[...i.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function Xv(i){return i.map(e=>{var{providerId:t}=e,s=jv(e,["providerId"]);return{providerId:t,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $S(i,e){const t=await Qv(i,{},async()=>{const s=sy({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=i.config,h=Kv(i,o,"/v1/token",`key=${u}`),f=await i._getAdditionalHeaders();return f["Content-Type"]="application/x-www-form-urlencoded",Hv.fetch()(h,{method:"POST",headers:f,body:s})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function qS(i,e){return rc(i,"POST","/v2/accounts:revokeToken",Wv(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Js{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){$e(e.idToken,"internal-error"),$e(typeof e.idToken<"u","internal-error"),$e(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Ng(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){$e(e.length!==0,"internal-error");const t=Ng(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:($e(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:s,refreshToken:o,expiresIn:u}=await $S(e,t);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,t,s){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,t){const{refreshToken:s,accessToken:o,expirationTime:u}=t,h=new Js;return s&&($e(typeof s=="string","internal-error",{appName:e}),h.refreshToken=s),o&&($e(typeof o=="string","internal-error",{appName:e}),h.accessToken=o),u&&($e(typeof u=="number","internal-error",{appName:e}),h.expirationTime=u),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Js,this.toJSON())}_performRefresh(){return Ia("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zr(i,e){$e(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}class ti{constructor(e){var{uid:t,auth:s,stsTokenManager:o}=e,u=jv(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new jS(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=s,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new _d(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(e){const t=await vd(this,this.stsTokenManager.getToken(this.auth,e));return $e(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return FS(this,e)}reload(){return zS(this)}_assign(e){this!==e&&($e(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new ti(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){$e(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),t&&await Mu(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(pa(this.auth.app))return Promise.reject(Tu(this.auth));const e=await this.getIdToken();return await vd(this,MS(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var s,o,u,h,f,g,v,w;const I=(s=t.displayName)!==null&&s!==void 0?s:void 0,A=(o=t.email)!==null&&o!==void 0?o:void 0,O=(u=t.phoneNumber)!==null&&u!==void 0?u:void 0,b=(h=t.photoURL)!==null&&h!==void 0?h:void 0,q=(f=t.tenantId)!==null&&f!==void 0?f:void 0,j=(g=t._redirectEventId)!==null&&g!==void 0?g:void 0,Q=(v=t.createdAt)!==null&&v!==void 0?v:void 0,X=(w=t.lastLoginAt)!==null&&w!==void 0?w:void 0,{uid:se,emailVerified:fe,isAnonymous:Pe,providerData:Te,stsTokenManager:N}=t;$e(se&&N,e,"internal-error");const T=Js.fromJSON(this.name,N);$e(typeof se=="string",e,"internal-error"),Zr(I,e.name),Zr(A,e.name),$e(typeof fe=="boolean",e,"internal-error"),$e(typeof Pe=="boolean",e,"internal-error"),Zr(O,e.name),Zr(b,e.name),Zr(q,e.name),Zr(j,e.name),Zr(Q,e.name),Zr(X,e.name);const R=new ti({uid:se,auth:e,email:A,emailVerified:fe,displayName:I,isAnonymous:Pe,photoURL:b,phoneNumber:O,tenantId:q,stsTokenManager:T,createdAt:Q,lastLoginAt:X});return Te&&Array.isArray(Te)&&(R.providerData=Te.map(k=>Object.assign({},k))),j&&(R._redirectEventId=j),R}static async _fromIdTokenResponse(e,t,s=!1){const o=new Js;o.updateFromServerResponse(t);const u=new ti({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await Mu(u),u}static async _fromGetAccountInfoResponse(e,t,s){const o=t.users[0];$e(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?Xv(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),f=new Js;f.updateFromIdToken(s);const g=new ti({uid:o.localId,auth:e,stsTokenManager:f,isAnonymous:h}),v={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new _d(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(g,v),g}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dg=new Map;function Hi(i){bu(i instanceof Function,"Expected a class definition");let e=Dg.get(i);return e?(bu(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,Dg.set(i,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jv{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Jv.type="NONE";const Vg=Jv;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kh(i,e,t){return`firebase:${i}:${e}:${t}`}class Zs{constructor(e,t,s){this.persistence=e,this.auth=t,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=Kh(this.userKey,o.apiKey,u),this.fullPersistenceKey=Kh("persistence",o.apiKey,u),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?ti._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,s="authUser"){if(!t.length)return new Zs(Hi(Vg),e,s);const o=(await Promise.all(t.map(async v=>{if(await v._isAvailable())return v}))).filter(v=>v);let u=o[0]||Hi(Vg);const h=Kh(s,e.config.apiKey,e.name);let f=null;for(const v of t)try{const w=await v._get(h);if(w){const I=ti._fromJSON(e,w);v!==u&&(f=I),u=v;break}}catch{}const g=o.filter(v=>v._shouldAllowMigration);return!u._shouldAllowMigration||!g.length?new Zs(u,e,s):(u=g[0],f&&await u._set(h,f.toJSON()),await Promise.all(t.map(async v=>{if(v!==u)try{await v._remove(h)}catch{}})),new Zs(u,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lg(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(KS(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(HS(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(YS(e))return"Blackberry";if(XS(e))return"Webos";if(WS(e))return"Safari";if((e.includes("chrome/")||QS(e))&&!e.includes("edge/"))return"Chrome";if(GS(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=i.match(t);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function HS(i=Fn()){return/firefox\//i.test(i)}function WS(i=Fn()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function QS(i=Fn()){return/crios\//i.test(i)}function KS(i=Fn()){return/iemobile/i.test(i)}function GS(i=Fn()){return/android/i.test(i)}function YS(i=Fn()){return/blackberry/i.test(i)}function XS(i=Fn()){return/webos/i.test(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zv(i,e=[]){let t;switch(i){case"Browser":t=Lg(Fn());break;case"Worker":t=`${Lg(Fn())}-${i}`;break;default:t=i}const s=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${zu}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JS{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const s=u=>new Promise((h,f)=>{try{const g=e(u);h(g)}catch(g){f(g)}});s.onAbort=t,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const s of this.queue)await s(e),s.onAbort&&t.push(s.onAbort)}catch(s){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZS(i,e={}){return rc(i,"GET","/v2/passwordPolicy",Wv(i,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eC=6;class tC{constructor(e){var t,s,o,u;const h=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=h.minPasswordLength)!==null&&t!==void 0?t:eC,h.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=h.maxPasswordLength),h.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=h.containsLowercaseCharacter),h.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=h.containsUppercaseCharacter),h.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=h.containsNumericCharacter),h.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=h.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(s=e.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(u=e.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,s,o,u,h,f;const g={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,g),this.validatePasswordCharacterOptions(e,g),g.isValid&&(g.isValid=(t=g.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),g.isValid&&(g.isValid=(s=g.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),g.isValid&&(g.isValid=(o=g.containsLowercaseLetter)!==null&&o!==void 0?o:!0),g.isValid&&(g.isValid=(u=g.containsUppercaseLetter)!==null&&u!==void 0?u:!0),g.isValid&&(g.isValid=(h=g.containsNumericCharacter)!==null&&h!==void 0?h:!0),g.isValid&&(g.isValid=(f=g.containsNonAlphanumericCharacter)!==null&&f!==void 0?f:!0),g}validatePasswordLengthOptions(e,t){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(t.meetsMinPasswordLength=e.length>=s),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,t,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nC{constructor(e,t,s,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Og(this),this.idTokenSubscription=new Og(this),this.beforeStateQueue=new JS(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Bv,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Hi(t)),this._initializationPromise=this.queue(async()=>{var s,o;if(!this._deleted&&(this.persistenceManager=await Zs.create(this,e),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Gv(this,{idToken:e}),s=await ti._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(s)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(pa(this.app)){const h=this.app.settings.authIdToken;return h?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(h).then(f,f))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let o=s,u=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const h=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,f=o==null?void 0:o._redirectEventId,g=await this.tryRedirectSignIn(e);(!h||h===f)&&(g!=null&&g.user)&&(o=g.user,u=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(o)}catch(h){o=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(h))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return $e(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Mu(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=DS()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(pa(this.app))return Promise.reject(Tu(this));const t=e?nr(e):null;return t&&$e(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&$e(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return pa(this.app)?Promise.reject(Tu(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return pa(this.app)?Promise.reject(Tu(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Hi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await ZS(this),t=new tC(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Ma("auth","Firebase",e())}onAuthStateChanged(e,t,s){return this.registerStateListener(this.authStateSubscription,e,t,s)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,s){return this.registerStateListener(this.idTokenSubscription,e,t,s)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(s.tenantId=this.tenantId),await qS(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const s=await this.getOrInitRedirectPersistenceManager(t);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Hi(e)||this._popupRedirectResolver;$e(t,this,"argument-error"),this.redirectPersistenceManager=await Zs.create(this,[Hi(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,s;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,s,o){if(this._deleted)return()=>{};const u=typeof t=="function"?t:t.next.bind(t);let h=!1;const f=this._isInitialized?Promise.resolve():this._initializationPromise;if($e(f,this,"internal-error"),f.then(()=>{h||u(this.currentUser)}),typeof t=="function"){const g=e.addObserver(t,s,o);return()=>{h=!0,g()}}else{const g=e.addObserver(t);return()=>{h=!0,g()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return $e(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Zv(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(t["X-Firebase-Client"]=s);const o=await this._getAppCheckToken();return o&&(t["X-Firebase-AppCheck"]=o),t}async _getAppCheckToken(){var e;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&kS(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function rC(i){return nr(i)}class Og{constructor(e){this.auth=e,this.observer=null,this.addObserver=oE(t=>this.observer=t)}get next(){return $e(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function iC(i,e){const t=(e==null?void 0:e.persistence)||[],s=(Array.isArray(t)?t:[t]).map(Hi);e!=null&&e.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}new $a(3e4,6e4);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new $a(2e3,1e4);/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new $a(3e4,6e4);/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new $a(5e3,15e3);var bg="@firebase/auth",Mg="1.8.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sC{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){$e(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oC(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function aC(i){eo(new Qi("auth",(e,{options:t})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:h,authDomain:f}=s.options;$e(h&&!h.includes(":"),"invalid-api-key",{appName:s.name});const g={apiKey:h,authDomain:f,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Zv(i)},v=new nC(s,o,u,g);return iC(v,t),v},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,s)=>{e.getProvider("auth-internal").initialize()})),eo(new Qi("auth-internal",e=>{const t=rC(e.getProvider("auth").getImmediate());return(s=>new sC(s))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),ii(bg,Mg,oC(i)),ii(bg,Mg,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lC=5*60;Ww("authIdTokenMaxAge");aC("Browser");const uC={apiKey:"AIzaSyAwnyDtmSyiegQSdWO9v95Ai3EhuNMkspI",authDomain:"kstech-52469.firebaseapp.com",projectId:"kstech-52469",storageBucket:"kstech-52469.firebasestorage.app",messagingSenderId:"385469798085",appId:"1:385469798085:web:3b36051545b42ed5e102ac",measurementId:"G-V5E1N60Y7G"},cC=ly(uC),Ct=lS(cC),e_=B.createContext();function hC({children:i}){const[e,t]=B.useState(null);return U.jsx(e_.Provider,{value:{mobileNumber:e,setMobileNumber:t},children:i})}function ic(){return B.useContext(e_)}const dC=()=>{const[i,e]=B.useState(""),[t,s]=B.useState(""),[o,u]=B.useState(""),h=Td(),{setMobileNumber:f}=ic(),g=async()=>{if(!i||!t){u("Please enter both mobile number and password.");return}if(!/^\d{10}$/.test(i)){u("Please enter a valid 10-digit mobile number.");return}try{const v=sf(oi(Ct,"users")),w=await Xs(v);let I=!1,A=null;for(const O of w.docs){const b=oi(Ct,`users/${O.id}/customers`);if((await Tr(_n(b,i))).exists()){I=!0,A=O.data();break}}if(!I){u("Mobile number is not registered as a customer.");return}A.password===t?(u(""),f(i),h("/kushagraStorePublic/KSPublic/")):u("Incorrect password. Please try again.")}catch(v){console.error("Error checking login:",v),u("An error occurred during login. Please try again.")}};return U.jsx("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100vh",width:"100vw"},children:U.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",width:"90%",gap:5},children:[U.jsxs("div",{style:{display:"flex",flexDirection:"column",width:"100%",alignItems:"center",gap:5},children:[U.jsx("h1",{style:{margin:0},children:"Login"}),U.jsx("input",{value:i,onChange:v=>e(v.target.value),placeholder:"Mobile Number",type:"number",style:{padding:10,width:"90%",border:"3px solid black",borderRadius:5}})]}),U.jsx("input",{value:t,onChange:v=>s(v.target.value),placeholder:"Password",type:"password",style:{padding:10,width:"90%",border:"3px solid black",borderRadius:5}}),o&&U.jsx("p",{style:{color:"red",fontSize:"0.9em",margin:"5px 0"},children:o}),U.jsx("button",{onClick:g,style:{padding:10,width:"97%",border:"3px solid black",borderRadius:5,backgroundColor:"black",color:"white"},children:"Login"})]})})},t_=B.createContext();function fC({children:i}){const[e,t]=B.useState(null);return U.jsx(t_.Provider,{value:{shopkeeperId:e,setShopkeeperId:t},children:i})}function uf(){return B.useContext(t_)}function pC(){const[i,e]=B.useState({}),{shopkeeperId:t}=uf(),[s,o]=B.useState(""),[u,h]=B.useState([]),{mobileNumber:f}=ic(),[g,v]=B.useState({}),[w,I]=B.useState(""),[A,O]=B.useState(""),[b,q]=B.useState(!1),[j,Q]=B.useState("");B.useState(!1);const X=async x=>{var S,Ce,be;try{const ke=(await Xs(oi(Ct,`users/${x}/list`))).docs.map(L=>({id:L.id,...L.data()}));h(ke);const ne=await Tr(_n(Ct,`users/${x}`));O(((S=ne.data())==null?void 0:S.mobileNumber)||"");const ce=await Tr(_n(Ct,`users/${x}/customers`,f));I(((Ce=ce.data())==null?void 0:Ce.address)||"no address"),Q(((be=ce.data())==null?void 0:be.address)||"no address");const te=await Tr(_n(Ct,`users/${x}/customers`,f));if(te.exists()){const{quantities:L,visibility:W}=te.data();e(L||{}),v(W||{})}}catch(De){console.error("Error fetching items:",De)}};B.useEffect(()=>{X(t)},[t]);const se=async(x,S)=>{try{if(t){const Ce=_n(Ct,`users/${t}/customers`,f);await Fv(Ce,{quantities:x,visibility:S},{merge:!0})}}catch(Ce){console.error("Error saving cart state:",Ce)}},fe=async(x,S)=>{const Ce=Math.max(0,(i[x]||0)+S);Ce===0&&(X(t),console.log("fetching items"));const be={...i,[x]:Ce},De={...g,[x]:Ce>0};e(be),v(De),await se(be,De)},Pe=async x=>fe(x,1),Te=async()=>{const x={},S={};e(x),v(S),await se(x,S)},N=(x,S)=>{if(!S)return x;const Ce=new RegExp(`(${S})`,"gi");return x.replace(Ce,'<span style="color: blue; font-weight: bold;">$1</span>')},T=u.reduce((x,S)=>x+S.prices.reduce((Ce,be,De)=>{const ke=`${S.id}-${De}`,ne=i[ke]||0;return Ce+be.sellingPrice*ne},0),0),R=u.filter(x=>x.name.toLowerCase().includes(s.toLowerCase())).sort((x,S)=>x.name.localeCompare(S.name)),k=async()=>{const x=new Date,S=_n(Ct,`users/${t}/customers/${f}`),Ce=await Tr(S);if(!Ce.exists()){console.error("No such document!"),alert("There was an error confirming your order. Please try again.");return}const be=Ce.data().quantities;console.log("Quantities from Firestore:",be);const De=u.filter(te=>Object.keys(be).some(L=>L.startsWith(te.id)&&be[L]>0)),ne=(await Promise.all(De.map(async te=>{var he;const L=_n(Ct,`users/${t}/list/${te.id}`),W=await Tr(L);if(!W.exists())return console.error(`No such document for item ID: ${te.id}`),null;const Y=W.data().prices,ae=(he=Y==null?void 0:Y.find(ye=>ye.sellingPrice))==null?void 0:he.sellingPrice;return{id:te.id,name:te.name,quantity:be[`${te.id}-0`],price:ae}}))).filter(te=>te!==null),ce={orderTime:x.toISOString(),items:ne,address:w===j?w:j,totalAmount:ne.reduce((te,L)=>te+L.price*L.quantity,0),orderStatus:"Pending"};if(console.log("Order Details:",ce),!ce.address||!ce.items.length||!ce.totalAmount){console.error("Invalid order details:",ce),alert("There was an error confirming your order. Please check your cart and address.");return}for(const te of ce.items)if(!te.id||!te.name||te.quantity===void 0||te.price===void 0){console.error("Invalid item in order details:",te),alert("There was an error confirming your order. Please check your cart items.");return}try{const te=await SS(oi(Ct,`users/${t}/customers/${f}/myOrders`),ce);console.log("Order confirmed with ID: ",te.id),e({}),Te(),q(!1),alert("Your order has been confirmed!"),X(t)}catch(te){console.error("Error adding document: ",te),alert("There was an error confirming your order. Please try again.")}},V=()=>{q(!b)};return U.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3},children:u.length===0||T===0?U.jsx("div",{}):U.jsxs("div",{style:{padding:"10px",paddingTop:0,display:"flex",flexDirection:"column",alignItems:"center",boxShadow:"10px 10px 10px 10px rgba(0, 0, 0, 0.3)",borderRadius:5,height:"100vh",width:"100vw"},children:[U.jsxs("div",{style:{position:"fixed",width:"100%",display:"flex",justifyContent:"center",flexDirection:"column",alignItems:"center"},children:[U.jsx("input",{type:"text",placeholder:"Search items...",value:s,onChange:x=>o(x.target.value),style:{padding:"5px",fontSize:"14px",width:"80%",marginTop:10,border:"none",borderRadius:5,border:"1px solid grey"}}),U.jsx("div",{style:{display:"flex",flexDirection:"row",width:"100%",height:30,justifyContent:"space-around"}})]}),U.jsxs("table",{border:"1",cellPadding:"5",style:{maxWidth:"100%",textAlign:"center",fontSize:"12px",marginBottom:"10px",marginTop:45,border:"none"},children:[U.jsx("thead",{children:U.jsxs("tr",{style:{position:"sticky",top:35,backgroundColor:"#fff",zIndex:5},children:[U.jsx("th",{children:"No"}),U.jsx("th",{children:"Name"}),U.jsx("th",{children:"MRP"}),U.jsx("th",{children:"Qty"}),U.jsx("th",{children:"SP"}),U.jsx("th",{children:"Qty Ctrl"}),U.jsx("div",{style:{boxShadow:"0px 10px 10px rgba(0, 0, 0, 0.3)",borderRadius:5,backgroundColor:"black",display:"flex",alignItems:"center",justifyContent:"center"},children:U.jsx("th",{style:{backgroundColor:"black",color:"white",borderRadius:5,fontSize:16,border:"none"},children:T})})]})}),U.jsx("tbody",{children:R.map((x,S)=>U.jsx(Fg.Fragment,{children:x.prices.map((Ce,be)=>{const De=`${x.id}-${be}`,ke=i[De]||0,ne=Ce.sellingPrice*ke;return U.jsxs("tr",{style:{backgroundColor:"white",display:ke===0?"none":""},children:[U.jsx("td",{children:be===0?S+1:""}),U.jsx("td",{style:{fontSize:16},dangerouslySetInnerHTML:{__html:be===0?N(x.name,s):""}}),U.jsx("td",{children:Ce.mrp}),U.jsx("td",{children:Ce.quantity}),U.jsx("td",{children:U.jsx("span",{style:{boxShadow:"0px 10px 10px rgba(0, 0, 0, 0.3)",padding:5,borderRadius:5,color:"blue"},children:Ce.sellingPrice})}),U.jsx("td",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:2},children:g[De]?U.jsxs("div",{style:{display:"flex",gap:"2px",alignItems:"center",justifyContent:"center"},children:[U.jsx("button",{style:{backgroundColor:"red",color:"white",borderRadius:5,borderColor:"red"},onClick:()=>fe(De,-1),children:"-"}),U.jsx("span",{children:ke}),U.jsx("button",{style:{backgroundColor:"green",color:"white",borderRadius:5,borderColor:"green"},onClick:()=>fe(De,1),children:"+"})]}):U.jsx("button",{style:{backgroundColor:"blue",color:"white",borderRadius:5,border:"none",padding:5},onClick:()=>Pe(De),children:"Add"})}),g[De]?U.jsx("td",{style:{backgroundColor:"black",color:"white",borderRadius:5},children:ne===0?"":ne}):U.jsx("td",{children:ne===0?"":ne})]},De)})},x.id))})]}),U.jsx("button",{style:{backgroundColor:"black",color:"white",borderRadius:5,border:"none",padding:10,width:"75%",display:b?"none":""},onClick:V,children:"Confirm order"}),b&&U.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",gap:5,padding:20,backgroundColor:"white",width:"70%",borderRadius:5},children:[U.jsx("input",{style:{padding:10,width:"75%",borderRadius:5,border:"none",boxShadow:"10px 10px 10px 10px rgba(0, 0, 0, 0.2)"},value:j,onChange:x=>Q(x.target.value),placeholder:"Enter your address",type:"text"}),U.jsxs("div",{style:{width:"75%",display:"flex",justifyContent:"space-around"},children:[U.jsx("button",{style:{backgroundColor:"green",color:"white",borderRadius:5,border:"none",padding:5,width:"49%",fontSize:"12px"},onClick:k,children:"Confirm order"}),U.jsx("button",{style:{backgroundColor:"red",color:"white",borderRadius:5,border:"none",padding:10,width:"49%",fontSize:"12px"},onClick:()=>{q(!1)},children:"Cancel"})]})]})]})})}function mC(){const i=Td(),[e,t]=B.useState(""),[s,o]=B.useState(""),[u,h]=B.useState([]),[f,g]=B.useState([]),[v,w]=B.useState(null),{mobileNumber:I}=ic(),[A,O]=B.useState({}),[b,q]=B.useState({}),[j,Q]=B.useState(null),[X,se]=B.useState(""),[fe,Pe]=B.useState(""),[Te,N]=B.useState("none"),[T,R]=B.useState(!1),[k,V]=B.useState(!1),{setShopkeeperId:x}=uf(),[S,Ce]=B.useState({boxShadow:"10px 10px 10px rgba(0, 0, 0, 0.3)"});B.useEffect(()=>{(async()=>{let ae=[];try{const he=await Xs(oi(Ct,"users"));for(const ye of he.docs){const Ee=oi(Ct,`users/${ye.id}/customers`),xe=sf(Ee,_S("customerMobileNumber","==",I));if(!(await Xs(xe)).empty){const et=ye.data().shopName;et&&ae.push({shopName:et,shopkeeperId:ye.id})}}h(ae)}catch(he){console.error("Error fetching shopkeepers:",he)}})()},[I]);const be=async(Y,ae)=>{var he,ye;Q(Y),x(Y),w(ae);try{const xe=(await Xs(oi(Ct,`users/${Y}/list`))).docs.map(En=>({id:En.id,...En.data()}));g(xe);const Ve=await Tr(_n(Ct,`users/${Y}`));Pe(((he=Ve.data())==null?void 0:he.mobileNumber)||"");const et=await Tr(_n(Ct,`users/${Y}/customers`,I));se(((ye=et.data())==null?void 0:ye.name)||"Shopkeeper");const ln=await Tr(_n(Ct,`users/${Y}/customers`,I));if(ln.exists()){const{quantities:En,visibility:jn}=ln.data();O(En||{}),q(jn||{})}}catch(Ee){console.error("Error fetching items:",Ee)}};B.useEffect(()=>{const Y=setInterval(()=>{Ce(ae=>({...ae,boxShadow:ae.boxShadow==="10px 10px 10px  rgba(0, 0, 0, 0.3)"?"none":"10px 10px 10px  rgba(0, 0, 0, 0.3)"}))},500);return()=>clearInterval(Y)},[]);const De=async(Y,ae)=>{try{if(j){const he=_n(Ct,`users/${j}/customers`,I);await Fv(he,{quantities:Y,visibility:ae},{merge:!0})}}catch(he){console.error("Error saving cart state:",he)}},ke=async(Y,ae)=>{const he=Math.max(0,(A[Y]||0)+ae),ye={...A,[Y]:he},Ee={...b,[Y]:he>0};O(ye),q(Ee),await De(ye,Ee)},ne=async Y=>ke(Y,1),ce=async()=>{const Y={},ae={};O(Y),q(ae),await De(Y,ae)},te=(Y,ae)=>{if(!ae)return Y;const he=new RegExp(`(${ae})`,"gi");return Y.replace(he,'<span style="color: blue; font-weight: bold;">$1</span>')},L=f.filter(Y=>Y.name.toLowerCase().includes(e.toLowerCase())).sort((Y,ae)=>Y.name.localeCompare(ae.name)),W=f.reduce((Y,ae)=>Y+ae.prices.reduce((he,ye,Ee)=>{const xe=`${ae.id}-${Ee}`,Ve=A[xe]||0;return he+ye.sellingPrice*Ve},0),0);return U.jsxs("div",{style:{padding:"10px",paddingTop:0,display:"flex",flexDirection:"column",alignItems:"center",maxWidth:"100%",backgroundColor:"white"},children:[U.jsxs("div",{style:{position:"fixed",backgroundColor:"white",padding:8,paddingTop:5,width:"100vw",display:"flex",justifyContent:"center",flexDirection:"column",alignItems:"center"},children:[U.jsx("div",{style:{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",width:"90%"},children:U.jsxs("div",{style:{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",width:"100%"},children:[U.jsxs("span",{style:{margin:"0 0 10px 0",fontSize:"18px"},children:["Welcome, ",X,","]}),U.jsx("span",{style:{margin:"0 0 10px 0",fontSize:"15px",backgroundColor:"black",color:"white",padding:2,borderRadius:5},children:I})]})}),U.jsxs("div",{style:{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",width:"90%",paddingLeft:5,paddingRight:5},children:[U.jsx("span",{style:{...f.length===0?S:{},backgroundColor:"grey",color:"white",paddingTop:5,paddingBottom:5,paddingLeft:5,paddingRight:5,borderRadius:5,fontSize:15},onClick:()=>{N(Te==="none"?"flex":"none")},children:Te==="none"?"Show All Distributors":"Hide All Distributors"}),U.jsx("span",{onClick:()=>i("/kushagraStorePublic/MyCart/"),style:{cursor:"pointer",color:"blue",textDecoration:"underline"},children:"My Cart"})]})]}),U.jsxs("div",{style:{display:Te,flexDirection:"column",justifyContent:"space-evenly",gap:5,overflowY:"auto",padding:5,borderRadius:5,width:"50%",border:"1px solid black",marginTop:3,position:"absolute",top:70,left:0,zIndex:999,backgroundColor:"grey"},children:[U.jsx("input",{type:"text",placeholder:"Search Agencies...",value:s,onChange:Y=>o(Y.target.value),style:{padding:"5px",fontSize:"14px",borderRadius:5,border:"none"}}),u.filter(Y=>Y.shopName.toLowerCase().includes(s.toLowerCase())).map((Y,ae)=>{const he=Y.shopName.split(new RegExp(`(${s})`,"gi"));return U.jsx("div",{onClick:()=>{be(Y.shopkeeperId,Y.shopName),N("none"),R(!1)},style:{padding:"5px",backgroundColor:j===Y.shopkeeperId?"black":"white",borderRadius:"5px",boxShadow:"0 0 5px rgba(0, 0, 0, 0.3)",minWidth:"75px",textAlign:"center",color:j===Y.shopkeeperId?"white":"black",cursor:"pointer"},children:he.map((ye,Ee)=>U.jsx("span",{style:{fontWeight:ye.toLowerCase()===s.toLowerCase()?"bold":"normal",color:ye.toLowerCase()===s.toLowerCase()?"blue":"inherit"},children:ye},Ee))},ae)})]}),U.jsx("div",{style:{marginTop:"200px",width:"90%"},children:f.length===0?U.jsx("div",{style:{textAlign:"center"},children:U.jsx("h1",{children:"Please select a Distributor..."})}):U.jsxs("div",{style:{padding:"10px",paddingTop:0,display:"flex",flexDirection:"column",alignItems:"center",width:"95%",backgroundColor:"white",marginTop:-125},children:[U.jsxs("div",{style:{position:"fixed",backgroundColor:"white",width:"100vw",display:"flex",justifyContent:"center",flexDirection:"column",alignItems:"center"},children:[T?U.jsx("div",{style:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",width:"90%",marginBottom:3},children:U.jsxs("h1",{style:{margin:"0 0 10px 0",fontSize:"18px",textDecoration:W===0&&"underline",color:W===0&&"red"},children:["My Cart ",W===0&&" is empty"]})}):U.jsxs("div",{style:{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",width:"90%",marginBottom:3},children:[U.jsxs("h1",{style:{margin:"0 0 10px 0",fontSize:"18px"},children:["Item List of ",v]}),U.jsx("a",{href:`tel:+91${fe}`,style:{margin:"0 0 10px 0",fontSize:"15px",color:"blue",textDecoration:"underline"},children:fe})]}),U.jsxs("div",{style:{display:"flex",flexDirection:"row",width:"100%",height:30,justifyContent:"space-around"},children:[U.jsx("input",{type:"text",placeholder:"Search items...",value:e,onChange:Y=>t(Y.target.value),style:{padding:"5px",fontSize:"14px",width:"70%"}}),U.jsx("div",{onClick:ce,style:{padding:5,backgroundColor:"red",color:"white",borderRadius:5,cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",fontSize:15},children:"Reset All"})]})]}),U.jsxs("table",{border:"1",cellPadding:"5",style:{maxWidth:"100%",textAlign:"center",fontSize:"12px",marginBottom:"10px",marginTop:70,border:"none"},children:[U.jsx("thead",{children:U.jsxs("tr",{style:{position:"sticky",top:85,backgroundColor:"#fff",zIndex:5},children:[U.jsx("th",{children:"No"}),U.jsx("th",{children:"Name"}),U.jsx("th",{children:"MRP"}),U.jsx("th",{children:"Qty"}),U.jsx("th",{children:"SP"}),U.jsx("th",{children:"Qty Ctrl"}),U.jsx("div",{style:{boxShadow:"0px 10px 10px rgba(0, 0, 0, 0.3)",borderRadius:5,backgroundColor:"black",display:"flex",alignItems:"center",justifyContent:"center"},children:U.jsx("th",{style:{backgroundColor:"black",color:"white",borderRadius:5,fontSize:16,border:"none"},children:W})})]})}),U.jsx("tbody",{children:L.map((Y,ae)=>U.jsx(Fg.Fragment,{children:Y.prices.map((he,ye)=>{const Ee=`${Y.id}-${ye}`,xe=A[Ee]||0,Ve=he.sellingPrice*xe;return U.jsxs("tr",{style:{backgroundColor:"white"},children:[U.jsx("td",{children:ye===0?ae+1:""}),U.jsx("td",{dangerouslySetInnerHTML:{__html:ye===0?te(Y.name,e):""}}),U.jsx("td",{children:he.mrp}),U.jsx("td",{children:he.quantity}),U.jsx("td",{children:U.jsx("span",{style:{boxShadow:"0px 10px 10px rgba(0, 0, 0, 0.3)",padding:5,borderRadius:5,color:"blue"},children:he.sellingPrice})}),U.jsx("td",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:2},children:b[Ee]?U.jsxs("div",{style:{display:"flex",gap:"2px",alignItems:"center",justifyContent:"center"},children:[U.jsx("button",{style:{backgroundColor:"red",color:"white",borderRadius:5,borderColor:"red"},onClick:()=>ke(Ee,-1),children:"-"}),U.jsx("span",{children:xe}),U.jsx("button",{style:{backgroundColor:"green",color:"white",borderRadius:5,borderColor:"green"},onClick:()=>ke(Ee,1),children:"+"})]}):U.jsx("button",{style:{backgroundColor:"blue",color:"white",borderRadius:5,border:"none",padding:5},onClick:()=>ne(Ee),children:"Add"})}),b[Ee]?U.jsx("td",{style:{backgroundColor:"black",color:"white",borderRadius:5},children:Ve===0?"":Ve}):U.jsx("td",{children:Ve===0?"":Ve})]},Ee)})},Y.id))})]})]})}),U.jsxs("div",{style:{position:"fixed",bottom:5,right:5,width:"50%",display:"flex",flexDirection:"column",alignItems:"flex-end",gap:3},children:[k&&U.jsxs("div",{style:{display:"flex",flexDirection:"column",padding:10,backgroundColor:"white",gap:0,boxShadow:"10px 10px 10px rgba(0,0,0,0.3)",borderRadius:5,width:"100%",border:"1px solid black"},children:[U.jsx("div",{style:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center"},children:U.jsx("span",{children:"Menu"})}),U.jsx("div",{style:{width:"100%",border:"1px solid grey"}}),U.jsxs("span",{onClick:()=>i("/kushagraStorePublic/MyOrders/"),style:{display:"flex",alignItems:"center",gap:5},children:[U.jsx("img",{style:{height:30,width:30},src:"../public/myOrdersImage.png",alt:""}),"My Orders"]})]}),U.jsx("div",{onClick:()=>{V(!k)},style:{position:"fixed",bottom:0,right:5,display:"flex",flexDirection:"column",alignItems:"flex-end",gap:3},children:U.jsx("img",{style:{height:60,width:60},src:"../public/menuImage.png",alt:""})})]})]})}const gC=()=>{const{mobileNumber:i}=ic(),{shopkeeperId:e}=uf(),[t,s]=B.useState([]),[o,u]=B.useState(!1);return B.useEffect(()=>{(async()=>{const f=oi(Ct,`users/${e}/customers/${i}/myOrders`),g=sf(f,wS("orderTime","desc")),w=(await Xs(g)).docs.map(I=>({id:I.id,...I.data()}));s(w)})()},[e,i]),U.jsxs("div",{style:{padding:"10px",maxWidth:"800px"},children:[U.jsx("h2",{style:{margin:5},children:"My Orders"}),t.length===0?U.jsx("p",{children:"No orders found."}):U.jsx("ul",{style:{listStyleType:"none",padding:"0"},children:t.map(h=>U.jsxs("li",{style:{border:"1px solid #ccc",borderRadius:"8px",padding:"5px",marginBottom:"5px",backgroundColor:h.orderStatus==="Approved"?"lightGreen":h.orderStatus==="Rejected"?"#FFCCCB":h.orderStatus==="Pending"?"lightYellow":"lightGrey"},children:[U.jsxs("p",{style:{margin:"5px 0",fontSize:"14px"},children:[U.jsx("strong",{children:"Order id:"})," ",h.id]}),U.jsxs("p",{style:{margin:"5px 0",fontSize:"14px"},children:[U.jsx("strong",{children:"Order Time:"})," ",new Date(h.orderTime).toLocaleString()]}),U.jsxs("p",{style:{margin:"5px 0",fontSize:"14px"},children:[U.jsx("strong",{children:"Address:"})," ",h.address]}),U.jsxs("p",{style:{margin:"5px 0",fontSize:"14px"},children:[U.jsx("strong",{children:"Total Amount:"})," ",h.totalAmount]}),U.jsxs("p",{style:{margin:"5px 0",fontSize:"14px"},children:[U.jsx("strong",{children:"Order Status:"})," ",h.orderStatus||"not defined"]}),U.jsxs("table",{border:"1",cellPadding:"5",style:{maxWidth:"100%",textAlign:"center",fontSize:"12px",marginBottom:"10px",marginTop:3,border:"none"},children:[U.jsx("thead",{children:U.jsxs("tr",{children:[U.jsx("th",{children:"Name"}),U.jsx("th",{children:"Qty"}),U.jsx("th",{children:"Rs"}),U.jsx("th",{children:"Sub-total"})]})}),U.jsx("tbody",{children:h.items.map((f,g)=>U.jsxs("tr",{style:{border:"1px solid #ccc"},children:[U.jsx("td",{children:f.name}),U.jsx("td",{children:f.quantity}),U.jsx("td",{children:f.price}),U.jsx("td",{style:{fontWeight:"bold"},children:f.quantity*f.price})]}))})]})]},h.id))}),U.jsxs("div",{style:{position:"fixed",bottom:5,right:5,width:"50%",display:"flex",flexDirection:"column",alignItems:"flex-end",gap:3},children:[o&&U.jsxs("div",{style:{display:"flex",flexDirection:"column",padding:10,backgroundColor:"white",gap:0,boxShadow:"10px 10px 10px rgba(0,0,0,0.3)",borderRadius:5,width:"100%",border:"1px solid black"},children:[U.jsx("div",{style:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center"},children:U.jsx("span",{children:"Menu"})}),U.jsx("div",{style:{width:"100%",border:"1px solid grey"}}),U.jsx("span",{style:{display:"flex",alignItems:"center",gap:5},children:"Coming Soon..."})]}),U.jsx("div",{onClick:()=>{u(!o)},style:{position:"fixed",bottom:0,right:5,display:"flex",flexDirection:"column",alignItems:"flex-end",gap:3},children:U.jsx("img",{style:{height:60,width:60},src:"../public/menuImage.png",alt:""})})]})]})};f0.createRoot(document.getElementById("root")).render(U.jsx(B.StrictMode,{children:U.jsx(hC,{children:U.jsx(fC,{children:U.jsx(Rw,{children:U.jsxs(rw,{children:[U.jsx(fa,{path:"/kushagraStorePublic/",element:U.jsx(dC,{})}),U.jsx(fa,{path:"/kushagraStorePublic/KSPublic/",element:U.jsx(mC,{})}),U.jsx(fa,{path:"/kushagraStorePublic/MyCart/",element:U.jsx(pC,{})}),U.jsx(fa,{path:"/kushagraStorePublic/MyOrders/",element:U.jsx(gC,{})})]})})})})}));
